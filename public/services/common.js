function InfoBox(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),this.zIndex_=t.zIndex||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"2px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof t.visible&&("undefined"==typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden_=!t.visible,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function youtubeControls(t,e){var i=e.find('iframe[src*="http://www.youtube.com/"]');i.each(function(){var e=$(this)[0].contentWindow,i=$(this).data("play");i="pause"==t?"play":"",func="pause"==t?"pauseVideo":"playVideo",e.postMessage('{"event":"command","func":"'+func+'","args":""}',"*")})}function advantageHover(){$(".advantages__item").hover(function(){if($(this).children(".advantages__hover").length>0){$(this).children(".advantages__hover").fadeIn();$(this).children(".advantages__hover");$(this).children(".advantages__hover").hasClass("pcard-landing__hover")&&$(this).children(".advantages__hover").css("display","table")}},function(){$(this).children(".advantages__hover").length>0&&$(this).children(".advantages__hover").fadeOut()}),$(".advantages__close").click(function(){$(this).parent(".advantages__hover").fadeOut()})}function tabPanel(){function t(){this.$tabs.on("click",function(t){return e($(this),t)})}function e(t,e){return this.$tabs.removeClass("selected"),this.$tabs.attr("tabindex","-1").attr("aria-selected","false"),this.$panels.hide(),t.addClass("selected").attr("aria-selected","true"),t.attr("tabindex","0"),t.focus(),$(".shop-content").find("#"+t.attr("aria-controls")).show(),!0}if($("*").is(".shop-tablist")&&$("*").is(".shop-content")){this.$tabs=$(".shop-tablist").find(".shop-tablist__tab"),this.$panels=$(".shop-content").find(".shop-content__panel"),this.$panels.attr("aria-hidden","true"),this.$panels.hide();var i=this.$tabs.filter(".selected");void 0==i&&(i=$tabs.first(),i.addClass("selected")),$(".shop-content").find("#"+i.attr("aria-controls")).show().attr("aria-hidden","false"),t()}}function errorPlacementCheck(t,e){"checkbox"!=e.attr("type")&&"radio"!=e.attr("type")||!e.closest(".check-group").length?"checkbox"==e.attr("type")||"radio"==e.attr("type")?e.closest("label").after(t):e.hasClass("select2-hidden-accessible")?e.next(".select2").after(t):"file"==e.attr("type")?(e.closest(".custom-file").after(t),e.hasClass(errorClass)&&e.closest(".custom-file").after(t)):t.insertAfter(e):e.closest(".check-group").after(t)}function btnState(t,e){$(t).valid();var i=$(t).closest("form"),n=i.find('[aria-required="true"]'),o=i.find('[aria-invalid="true"]'),a=[],o=[],s=i.find('[type="submit"], [data-submit="true"]');n.each(function(){""!=$(this).val()&&"checkbox"!=$(this).attr("type")&&"radio"!=$(this).attr("type")&&$(this).valid(),($(this).hasClass("valid")||$(this).is(":disabled")||$(this).is(":hidden")||$(this).closest().is(":hidden"))&&a.push("valid"),$(this).hasClass(errorClass)&&!$(this).is(":hidden")&&o.push("error")}),n.length==a.length&&0==o.length?requiredElementValid=!0:requiredElementValid=!1,$(t).valid()&&requiredElementValid?s.prop("disabled",!1):s.prop("disabled",!0),e&&e(t)}function onOutsideClickHide(t,e,i){$(document).bind("mouseup touchend",function(n){t.is(n.target)||0!=$(n.target).closest(t).length||(e.stop(!0,!0).fadeOut(global.time),i&&i())})}function customizeScrollbar(){$('[data-scrollbar="custom"]').length>0&&$('[data-scrollbar="custom"]').mCustomScrollbar({theme:"custom"}),$('[data-scrollbar="custom-h"]').length>0&&$('[data-scrollbar="custom-h"]').mCustomScrollbar({theme:"custom",autoHideScrollbar:!0,axis:"x"}),$('[data-scrollbar="custom-m"]').length>0&&$('[data-scrollbar="custom-m"]').mCustomScrollbar({theme:"minimal"}),$('[data-scrollbar="custom-s"]').length>0&&$('[data-scrollbar="custom-s"]').mCustomScrollbar({theme:"custom",callbacks:{whileScrolling:function(){100==this.mcs.topPct?$(this).addClass("finished"):$(this).removeClass("finished")}},mouseWheel:{scrollAmount:200}})}function saveDate(){setTimeout(function(){var t={"Январь":"01","Февраль":"02","Март":"03","Апрель":"04","Май":"05","Июнь":"06","Июль":"07","Август":"08","Сентябрь":"09","Октябрь":"10","Ноябрь":"11","Декабрь":"12"};$("#calendar .ui-datepicker-calendar .clickspan span").each(function(e,i){var n=$(i).parents(".ui-datepicker-calendar").siblings(".ui-datepicker-header"),o=n.find(".ui-datepicker-month").text(),a=$(i).text();o=t[o];var s=n.find(".ui-datepicker-year").text();1==a.length&&(a="0"+a);var r=a+"."+o+"."+s;$(i).attr("data-content",window.selectDate[r])}),$("#calendar .ui-datepicker-calendar .clickspan span").webuiPopover({title:"",type:"html",placement:"top-right"}),$("#calendar .ui-datepicker-calendar .clickspan span").on("click touch",function(t){return $(this).hasClass("activeDate")?$(this).removeClass("activeDate"):$(this).addClass("activeDate"),!1}).attr("onclick","").css("cursor","pointer")},10)}function makeCalDate(t){var e=t.getDate().toString(),i=1+t.getMonth(),n=t.getFullYear().toString();return e.length<2&&(e="0"+e),i=i.toString(),i.length<2&&(i="0"+i),e+"."+i+"."+n}function openFaq(){$(".brands-faq").length>0&&$(".brands-faq__header").click(function(){$(this).toggleClass("is-open"),$(this).parent().children(".brands-faq__answer").toggleClass("is-open")})}function catalogMenuHeight(t){var e=$(window).height(),i=e;i-=0==$(window).scrollTop()?190:120;var n;n=3==t?$(".catalog-menu__container.level-"+t):$(".catalog-menu__list.level-"+t),n.css({"max-height":i+"px"}).focus();var o=n[0].scrollHeight;o>i?n.addClass("is-scrolled"):n.removeClass("is-scrolled"),catalogMenuScroll(n)}function catalogMenuScroll(t){var e=t[0].scrollHeight,i=t.scrollTop(),n=t.outerHeight();return console.log("scrollHg "+e),console.log("scrollTop "+i),console.log("elemHg "+n),n+i==e?(t.addClass("is-scrolled-end"),void t.next(".js-fix-scroll-menu").addClass("is-top")):void(0==i&&(t.removeClass("is-scrolled-end"),t.next(".js-fix-scroll-menu").removeClass("is-top")))}function productZoomInit(t){$(".product-gallery").length>0&&t.find("img[data-large]:not(.zoomed)").addClass("zoomed").imagezoomsl({loadinggif:"/bitrix/templates/lm2016/build/img/svg/loading.svg",zoomrange:[1,1],cursorshadeborder:!1,magnifiereffectanimate:"fadeIn"})}function productGalleryPopup(){if($(".product-gallery_vertical").length>0){var t=$(".product-gallery_vertical");$(document).on("click",".tracker, .product-gallery__zoom",function(){popups.open("#popup-gallery-fullscr");var e=t.find(".product-gallery__nav .is-active").index();galleryFullscreenScrollTo=e})}}function avalibleToggle(){$(".product__avalible-list").length>0&&$(document).on("click",".js-avalible-toggle",function(t){var e=$(t.target),i=e.data("art"),n=e.siblings(".product__avalible-drop");if(e.attr("data-attached"))n.show();else{e.attr("data-attached",!0);var i=e.data("art");$.ajax({url:"/bitrix/php_interface/ajax/nalInStock.php",method:"POST",data:{art:i,tmpl:"redesign"}}).done(function(t){n.html(t),n.stop(!0,!0).fadeIn(global.time)})}}).on("mouseleave",".product__avalible-drop",function(){$(this).stop(!0,!0).fadeOut(global.time)})}function createPvzMap(t){function e(){console.log("a"),pvzMap&&(pvzMap.destroy(),pvzMap=null);var e=!1;if(!pvzMap){pvzMap=new ymaps.Map("pvz-map",{center:[55.770127,37.606918],zoom:9,controls:[]});var i=new ymaps.control.ZoomControl({size:"small",position:{top:60,left:10}});pvzMap.controls.add(i),pvzMap.behaviors.enable("scrollZoom");var n=new ymaps.control.SearchControl({position:{top:10,left:10},width:280,placeholderContent:"Адрес или станция метро"});pvzMap.controls.add(n)}var o=[],a=[],s=[];if(t.length>0){var r;r&&r.removeAll(),r=new ymaps.Clusterer({preset:"twirl#invertedGreenClusterIcons",clusterHideIconOnBalloonOpen:!1,geoObjectHideIconOnBalloonOpen:!1});for(var l=function(t){var e="",i=0;if(a[t].baloonAddress&&a[t].baloonAddress.trim()?e+='<p><span class="icon icon-bl-location"></span>'+a[t].baloonAddress+"</p>":i++,a[t].baloonWorkTime&&a[t].baloonWorkTime.trim()?e+='<p><span class="icon icon-bl-time"></span><strong>'+a[t].baloonWorkTime+"</strong></p>":i++,a[t].baloonPhone&&a[t].baloonPhone.trim()?e+='<p><span class="icon icon-bl-phone"></span>'+a[t].baloonPhone+"</p>":i++,a[t].baloonMetro&&a[t].baloonMetro.trim()?e+='<p><span class="icon icon-bl-metro"></span><strong>Ближайшее метро:</strong> '+a[t].baloonMetro+"</p>":i++,i>0){var n="<br><br>".repeat(i);e+=n}return{balloonAutopan:!1,selected:a[t].selected,balloonContentBody:"Балун <strong>метки "+t+"</strong>",clusterCaption:"Метка <strong>"+t+"</strong>",balloonHeader:a[t].baloonName,balloonContent:'<div class="map-balloon__text map-balloon__text-bordered">'+e+'<img class="no-float" src="/bitrix/templates/lm2016/i/sdek_with_asterisk.png" alt="СДЭК*"><button class="btn btn_sm mb0 js-select-pvz" type="button" data-id="'+a[t].id+'">Выбрать</button><p class="bordered"><b>*</b> пункт выдачи заказов компании СДЭК</p></div>'}},c=function(){return MyBalloonLayout=ymaps.templateLayoutFactory.createClass('<div class="map-balloon"><div class="map-balloon__layout"><div class="map-balloon__close"><span class="close"></span></div><div class="map-balloon__cnt">$[[options.contentLayout observeSize minWidth=410 maxWidth=410]]</div></div><div class="map-balloon__tail"></div></div>',{build:function(){this.constructor.superclass.build.call(this),this._$element=$(".map-balloon",this.getParentElement()),this.applyElementOffset(),this._$element.find(".close").on("click",$.proxy(this.onCloseClick,this))},clear:function(){this._$element.find(".close").off("click"),this.constructor.superclass.clear.call(this)},applyElementOffset:function(){this._$element.css({left:-5,top:-(this._$element[0].offsetHeight+50)})},onCloseClick:function(t){t.preventDefault(),this.events.fire("userclose")}}),MyBalloonLayout},d=function(){return BalloonContentLayout=ymaps.templateLayoutFactory.createClass("<h3>$[properties.balloonHeader]</h3>$[properties.balloonContent]"),BalloonContentLayout},u=function(){return{balloonAutopan:!1,iconLayout:"default#image",iconImageHref:"/bitrix/templates/lm2016/build/img/pvz-marker.png",iconImageSize:[45,60],iconImageOffset:[-22,-60],balloonLayout:c(),balloonContentLayout:d()}},h=0;h<t.length;h++)o.push([t[h].lat,t[h].lon]),a.push({baloonName:t[h].name,baloonAddress:t[h].address,baloonWorkTime:t[h].workTime,baloonPhone:t[h].phone,baloonMetro:t[h].metro,baloonPic:t[h].pic,selected:t[h].selected,id:t[h].id});for(var h=0,p=o.length;h<p;h++){var f=u(),m=l(h);m.selected&&(f.iconImageHref="/bitrix/templates/lm2016/build/img/pvz-marker-open.png",e=o[h]),s[h]=new ymaps.Placemark(o[h],m,f)}r.add(s),pvzMap.geoObjects.add(r),e?pvzMap.setCenter(e,14,{duration:300}):r.events.once("objectsaddtomap",function(){pvzMap.setBounds(r.getBounds())}),pvzMap.events.add("balloonopen",function(t){b=t.get("balloon"),coords=b.getPosition(),coords=[coords[0]+40,coords[1]-70],pvzMap.setGlobalPixelCenter(coords)})}}$("#pvz-map").length>0&&ymaps.ready(e)}function addPointsToList(){for(var t=0;t<pvzPoints.length;t++){var e=new Option(pvzPoints[t].name,pvzPoints[t].id,(!0),(!0));$("select.js-pvz-list").append(e)}$("select.js-pvz-list").select2("val"," ");var i=$("#process-order-form").validate();i.resetForm()}function pvzSetSelected(t){for(var e=0;e<pvzPoints.length;e++)pvzPoints[e].id==t?(pvzPoints[e].selected=!0,$(".js-selected-address-pvz").html('<strong class="js-selected-address-pvz">'+pvzPoints[e].address+"</strong>"),$(".js-selected-address-time").show(),$("#recipient_address_united").val(pvzPoints[e].address),$("#recipientAddress").val(pvzPoints[e].address),$("#pvz-code").val(pvzPoints[e].code),$("#pvz-addr").val(pvzPoints[e].address),$("#pvz-phone").val(pvzPoints[e].phone),$("#pvz-worktime").val(pvzPoints[e].workTime),$("#recipient_address_united").change(),$.ajax({url:"/basket/delivery.php",method:"GET",dataType:"json",data:{action:"calcPVZ"}}).done(function(t){$("#lift-cost").text(t.priceLift),$("#lift_cost_t").text(t.priceLift),$("#lift_cost_top").text(t.priceLift),$("#lift-cost-input").val(""),$("#delivery_cost").text(t.priceAll),$("#delivery_cost_t").text(t.priceAll),$("#delivery-cost-input").val(t.priceAll),$("#delivery-cost-input2").val(t.priceAll),$("#digital_total_cost").text(number_format(t.summ,2,"."," ")),$("#total_cost_t").html(number_format(t.summItems,2,'<span class="price-kop">,'," ")+"</span>"),$(".lift-cost").html(number_format(t.priceLift,2,'<span class="price-kop">,'," ")+"</span>"),$(".delivery_cost").html(number_format(t.priceAll,2,'<span class="price-kop">,'," ")+"</span>"),$(".digital_total_cost").html(number_format(t.summ,2,'<span class="price-kop">,'," ")+"</span>")}).fail(function(){$("#delivery-pvz").removeClass("is-active").hide(),$("#delivery-tk").addClass("is-active").show(),$("#toStep3").attr("disabled",!0),$("#web_form_btn").attr("disabled",!0),$(".process-delivery-type").hide()})):pvzPoints[e].selected=!1;createPvzMap(pvzPoints)}function changePvz(){$("select.js-pvz-list").on("change",function(){pvzSetSelected($(this).val())}),$(document).on("click",".js-select-pvz",function(){$("select.js-pvz-list").val($(this).data("id")).trigger("change")})}function markEqual(){var t=$(".compare-right").find(".compare__row:not(.compare__row_top)");$("*").removeClass("not-equal"),t.each(function(){var t=$(this),e=t.find(".compare__cell"),i=$(e[0]).text().trim();e.each(function(){var e=$(this);if(i!==e.text().trim()){var n=t.attr("data-prop-id");$('[data-prop-id="'+n+'"]').addClass("not-equal")}})})}function delEmptyRows(){var t=$(".compare-right").find(".compare__row:not(.compare__row_top)");t.each(function(){var t=$(this),e=t.find(".compare__cell"),i=e.length,n=0;e.each(function(){""===$(this).text().trim()&&n++}),n===i&&($(".compare-param__item_id_"+t.attr("data-prop-id")).remove(),t.remove())})}function emptyComparePage(){if($(".compare").length){$(".compare__headline").remove(),$(".compare").remove();var t='<h1 class="ttu blk-title">В списке сравнения еще нет товаров.</h1><a href="/catalogue/">Перейти к каталогу товаров.</a>';$(".breadcrumb").after(t)}}function updateCellsHeight(){var t=$(".compare");if(t.length){var e=t.find(".compare__row"),i=t.find(".compare-param__item");$.each(e,function(t){if(!$(this).hasClass("compare__row_top")){var e=$(this).outerHeight(),n=$(i[t-1]).outerHeight();e>n?$(i[t-1]).css({height:e}):$(this).find(".compare__row_wrap").css({height:n})}})}}function methodChaining(t,e){e=e||0,e<0||e>=t.length||t[e](function(){methodChaining(t,e+1)})}function getPlaylist(t){var e=videoSettings.urlAPI,i=videoSettings.keyAPI,n=videoSettings.playlistId,o=e+"playlistItems?playlistId="+n+"&key="+i+"&maxResults=50&part=snippet,contentDetails,status";t=t||function(){},$.get(o,function(t){var e=t.items;$.each(e,function(t,i){var n=this,o=n.snippet.resourceId.videoId;"public"===n.status.privacyStatus&&(t<e.length-1?videoSettings.videosId+=o+",":videoSettings.videosId+=o)})}).always(function(){"function"==typeof t&&t()})}function getVideosInfo(t){var e=videoSettings.urlAPI,i=videoSettings.keyAPI,n=videoSettings.videosId,o=e+"videos?id="+n+"&key="+i+"&maxResults=50&part=snippet,contentDetails,status,statistics";t=t||function(){},$.get(o,function(t){if(t&&t.items.length>0){var e=$(".advice-playlist__items"),i="",n=t.items,o="";o='<div class="advice-playlist__channel">',o+='<img src="/bitrix/templates/lm2016/build/img/svg/logo.svg" alt="" width="30" height="30">',o+=n[0].snippet.channelTitle+" · Видеосоветы",o+="</div>",$(".advice-playlist__list").prepend(o),$.each(n,function(t,e){var n=this,o="";if("public"===n.status.privacyStatus){var a=n.snippet.title,s=n.id,r=n.snippet.thumbnails.medium.url,l=("https://www.youtube.com/channel/"+n.snippet.channelId,n.statistics.viewCount),c=n.contentDetails.duration,d=c.match(/(\d+)(?=[MHS])/gi)||[],u=d.map(function(t){return t.length<2?"0"+t:t}).join(":"),h=t?"":"active";o+='<div class="advice-playlist__item '+h+'" data-video-id="'+s+'">',o+='<div class="advice-playlist__thumb">',o+='<img data-src="'+r+'" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" onload="lzld(this)">',o+='<span class="advice-playlist__time">'+u+"</span>",o+="</div>",o+='<div class="advice-playlist__description">',o+='<div class="advice-playlist__title">'+a+"</div>",o+='<span class="advice-playlist__span">'+l+" views</span>",o+="</div>",o+="</div>",i+=o,t||($(".advice-playlist__video").css("background-image","url(https://i.ytimg.com/vi/"+s+"/sddefault.jpg)"),$(".advice-playlist__video").append($("<div/>",{"class":"play"})),$(document).one("click",".advice-playlist__video",function(){var t="https://www.youtube.com/embed/"+s+"?autoplay=1&autohide=1",e=$("<iframe/>",{frameborder:"0",src:t,width:$(this).width(),height:$(this).height()});$(".advice-playlist__video").empty().append(e)}))}}),e.append(i),e.mCustomScrollbar({theme:"minimal"}),$(document).on("click",".advice-playlist__item",function(t){var e=$(this),i=e.data("video-id");$(".advice-playlist__item").removeClass("active"),e.closest(".advice-playlist__item").addClass("active");var n="https://www.youtube.com/embed/"+i+"?autoplay=1&autohide=1",o=$("<iframe/>",{frameborder:"0",src:n,width:"880px",height:"470px"});$(".advice-playlist__video").css("background-image","").empty().append(o)})}else console.log("Youtube error: Empty playlist")}).always(function(){"function"==typeof t&&t()})}function appendVideoInfo(t){if(t&&t.items.length>0){$(".advice-playlist__items")}}function calculateHeight(){if($(".your-order-list").length>0){var t=$(".your-order-list"),e=0;if(t.children().length>3){for(var i=0;i<3;i++)e+=t.children().eq(i).outerHeight();$(".your-order__show-all").show(),$(".your-order__show-all_num").text(t.children().length-3),t.css("max-height",e+"px")}}}function showFullOrder(){var t=$(".your-order__show-all .btn");orderList=$(".your-order-list"),t.click(function(){orderList.addClass("scroll"),orderList.mCustomScrollbar({theme:"custom"}),t.parent().hide()})}function checkNavigation(){var t=$(".process-order__navigation");$("section#order-data").hasClass("is-active")&&t.children("#order-data-nav").addClass("is-active"),$("section#order-delivery").hasClass("is-active")&&(t.children("#order-data-nav").removeClass("is-active").addClass("is-done"),t.children("#order-delivery-nav").addClass("is-active")),$("section#order-check").hasClass("is-active")&&(t.children("#order-data-nav").removeClass("is-active").addClass("is-done"),t.children("#order-delivery-nav").removeClass("is-active").addClass("is-done"),t.children("#order-check-nav").addClass("is-active"),$(".your-order").addClass("hidden")),$("section#order-result").hasClass("is-active")&&(t.children("#order-data-nav").removeClass("is-active").addClass("is-done"),t.children("#order-check-nav").removeClass("is-active").addClass("is-done"),t.children("#order-delivery-nav").removeClass("is-active").addClass("is-done"),t.children("#order-result-nav").addClass("is-active"),$(".your-order").addClass("hidden"))}function addSize(t,e){var i=e,n=i.length,o=t/n;i.each(function(){$(this).css({width:o+"px"})})}function addBackground(t){t.each(function(){var t=$(this),e=t.attr("data-background");"undefined"!=e&&t.css({"background-image":"url("+e+")"})})}function animateSolution(){var t=0,e=0,i=0,n=0,o=$(".sh-situations__item"),a=o.find(".sh-situations__product"),s=o.find(".sh-situations__control_arrow"),r=o.find(".sh-situations__control"),l=o.find(".sh-situations__phone_arrow");phone=o.find(".sh-situations__phone"),t=window.setTimeout(function(){a.addClass("is-active"),s.addClass("is-active"),e=window.setTimeout(function(){r.addClass("is-active")},2*global.time),i=window.setTimeout(function(){l.addClass("is-active")},3*global.time),n=window.setTimeout(function(){phone.addClass("is-active")},5*global.time)},global.time)}function initAnimation(){}function clearAnimation(){var t=$(".sh-situations__item"),e=t.find(".sh-situations__product"),i=t.find(".sh-situations__control_arrow"),n=t.find(".sh-situations__control"),o=t.find(".sh-situations__phone_arrow");phone=t.find(".sh-situations__phone");var a=0,s=0,r=0,l=0;window.clearInterval(a),window.clearInterval(s),window.clearInterval(r),window.clearInterval(l),e.removeClass("is-active"),i.removeClass("is-active"),n.removeClass("is-active"),o.removeClass("is-active"),phone.removeClass("is-active")}function toggleSolutions(){$(document).on("click mouseenter",".sh-situations__item__text",function(){var t=$(this);t.hasClass("is-active")||(t.closest(".sh-situations__list").find(".sh-situations__item__text").removeClass("is-active"),$(this).addClass("is-active")),clearAnimation(),animateSolution()})}function toggleSlider(){$(document).on("click",".sh-slider-control__item",function(t){t.preventDefault(),clearAnimation(),$(".sh-slider-control__item").removeClass("is-active"),$(this).addClass("is-active");var e=100*parseInt($(this).attr("data-slide-number"));$(".sh-slider").animate({left:"-"+e+"vw"},500)})}function createPickupMap(t){function e(){pickupMap&&(pickupMap.destroy(),pickupMap=null);var e=!1;if(!pickupMap){pickupMap=new ymaps.Map("pickup-map",{center:[59.939095,30.315868],zoom:9,controls:[]});var i=new ymaps.control.ZoomControl({size:"small",position:{top:10,left:10}});pickupMap.controls.add(i),pickupMap.behaviors.enable("scrollZoom")}var n=[],o=[],a=[];if(t.length>0){var s;s&&s.removeAll(),s=new ymaps.Clusterer({preset:"twirl#invertedGreenClusterIcons",clusterHideIconOnBalloonOpen:!1,geoObjectHideIconOnBalloonOpen:!1});for(var r=function(t){return{balloonAutopan:!1,selected:o[t].selected,balloonContentBody:"Балун <strong>метки "+t+"</strong>",clusterCaption:"Метка <strong>"+t+"</strong>",balloonHeader:o[t].baloonName,balloonContent:'<div class="map-balloon__text"><p>'+o[t].baloonAddress+"</p><table><tbody><tr><td><b>Телефон:</b> <br/>"+o[t].baloonPhone+"</td><td><b>Время работы:</b> <br/>"+o[t].baloonWorkTime+'</td></tr></tbody></table><p class="map-balloon__attention">'+o[t].baloonAttention+'</p><button class="btn btn_sm mb0 js-select-pickup" type="button" data-id="'+o[t].id+'">Выбрать</button></div>'}},l=function(){return MyBalloonLayout=ymaps.templateLayoutFactory.createClass('<div class="map-balloon map-balloon_bordered"><div class="map-balloon__layout"><div class="map-balloon__close"><span class="close"></span></div><div class="map-balloon__cnt">$[[options.contentLayout observeSize minWidth=276 maxWidth=276]]</div></div><div class="map-balloon__tail"></div></div>',{build:function(){this.constructor.superclass.build.call(this),this._$element=$(".map-balloon",this.getParentElement()),this.applyElementOffset(),this._$element.find(".close").on("click",$.proxy(this.onCloseClick,this))},clear:function(){this._$element.find(".close").off("click"),this.constructor.superclass.clear.call(this)},applyElementOffset:function(){this._$element.css({left:35,top:-60})},onCloseClick:function(t){t.preventDefault(),this.events.fire("userclose")}}),MyBalloonLayout},c=function(){return BalloonContentLayout=ymaps.templateLayoutFactory.createClass("<h3>$[properties.balloonHeader]</h3>$[properties.balloonContent]"),BalloonContentLayout},d=function(){return{balloonAutopan:!1,iconLayout:"default#image",iconImageHref:"/bitrix/templates/lm2016/build/img/shop-marker-pickup.png",iconImageSize:[47,62],iconImageOffset:[-23,-62],hideIconOnBalloonOpen:!1,balloonLayout:l(),balloonContentLayout:c()}},u=0;u<t.length;u++)n.push([t[u].lat,t[u].lon]),o.push({baloonName:t[u].name,baloonAddress:t[u].address,baloonWorkTime:t[u].workTime,baloonPhone:t[u].phone,baloonAttention:t[u].baloonAttention,selected:t[u].selected,attention:t[u].attention,id:t[u].id});for(var u=0,h=n.length;u<h;u++){var p=d();o[u].attention&&(p.iconImageHref="/bitrix/templates/lm2016/build/img/shop-marker-pickup-at.png"),o[u].selected&&(e=n[u]);var f=r(u);a[u]=new ymaps.Placemark(n[u],f,p)}s.add(a),pickupMap.geoObjects.add(s),e&&pickupMap.setCenter(e,14,{duration:300}),pickupMap.events.add("balloonopen",function(t){b=t.get("balloon"),coords=b.getPosition(),coords=[coords[0]+150,coords[1]-40],pickupMap.setGlobalPixelCenter(coords)}),e||pickupMap.setBounds(s.getBounds(),{checkZoomRange:!0})}}$("#pickup-map").length>0&&ymaps.ready(e)}function createPvzTypeMap(t){function e(){pvzTypeMap&&(pvzTypeMap.destroy(),pvzTypeMap=null);var e=!1;if(!pvzTypeMap){pvzTypeMap=new ymaps.Map("pvz-type-map",{center:[55.770127,37.606918],zoom:9,controls:[]});var i=new ymaps.control.ZoomControl({size:"small",position:{top:60,left:10}});pvzTypeMap.controls.add(i),pvzTypeMap.behaviors.enable("scrollZoom");var n=new ymaps.control.SearchControl({position:{top:10,left:10},width:280,placeholderContent:"Адрес или станция метро"});pvzTypeMap.controls.add(n)}var o=[],a=[],s=[];if(t.length>0){var r;r&&r.removeAll(),r=new ymaps.Clusterer({preset:"twirl#invertedGreenClusterIcons",clusterHideIconOnBalloonOpen:!1,geoObjectHideIconOnBalloonOpen:!1});for(var l=function(t){var e="",i=0;if(a[t].baloonAddress&&a[t].baloonAddress.trim()?e+='<p><span class="icon icon-bl-location"></span>'+a[t].baloonAddress+"</p>":i++,a[t].baloonWorkTime&&a[t].baloonWorkTime.trim()?e+='<p><span class="icon icon-bl-time"></span><strong>'+a[t].baloonWorkTime+"</strong></p>":i++,a[t].baloonPhone&&a[t].baloonPhone.trim()?e+='<p><span class="icon icon-bl-phone"></span>'+a[t].baloonPhone+"</p>":i++,a[t].baloonMetro&&a[t].baloonMetro.trim()?e+='<p><span class="icon icon-bl-metro"></span><strong>Ближайшее метро:</strong> '+a[t].baloonMetro+"</p>":i++,i>0){var n="<br><br>".repeat(i);e+=n}return{balloonAutopan:!1,selected:a[t].selected,balloonContentBody:"Балун <strong>метки "+t+"</strong>",clusterCaption:"Метка <strong>"+t+"</strong>",balloonHeader:a[t].baloonName,balloonContent:'<div class="map-balloon__text map-balloon__text-bordered">'+e+'<img class="no-float" src="/bitrix/templates/lm2016/i/sdek_with_asterisk.png" alt="СДЭК*"><p class="bordered"><b>*</b> пункт выдачи заказов компании СДЭК</p></div>'}},c=function(){return MyBalloonLayout=ymaps.templateLayoutFactory.createClass('<div class="map-balloon"><div class="map-balloon__layout"><div class="map-balloon__close"><span class="close"></span></div><div class="map-balloon__cnt">$[[options.contentLayout observeSize minWidth=410 maxWidth=410]]</div></div><div class="map-balloon__tail"></div></div>',{build:function(){this.constructor.superclass.build.call(this),this._$element=$(".map-balloon",this.getParentElement()),this.applyElementOffset(),this._$element.find(".close").on("click",$.proxy(this.onCloseClick,this))},clear:function(){this._$element.find(".close").off("click"),this.constructor.superclass.clear.call(this)},applyElementOffset:function(){this._$element.css({left:-5,top:-(this._$element[0].offsetHeight+50)})},onCloseClick:function(t){t.preventDefault(),this.events.fire("userclose")}}),MyBalloonLayout},d=function(){return BalloonContentLayout=ymaps.templateLayoutFactory.createClass("<h3>$[properties.balloonHeader]</h3>$[properties.balloonContent]"),BalloonContentLayout},u=function(){return{balloonAutopan:!1,iconLayout:"default#image",iconImageHref:"/bitrix/templates/lm2016/build/img/pvz-marker.png",iconImageSize:[45,60],iconImageOffset:[-22,-60],balloonLayout:c(),balloonContentLayout:d()}},h=0;h<t.length;h++)o.push([t[h].lat,t[h].lon]),a.push({baloonName:t[h].name,baloonAddress:t[h].address,baloonWorkTime:t[h].workTime,baloonPhone:t[h].phone,baloonMetro:t[h].metro,baloonPic:t[h].pic,selected:t[h].selected,id:t[h].id});for(var h=0,p=o.length;h<p;h++){var f=u(),m=l(h);m.selected&&(f.iconImageHref="/bitrix/templates/lm2016/build/img/pvz-marker-open.png",e=o[h]),s[h]=new ymaps.Placemark(o[h],m,f)}r.add(s),pvzTypeMap.geoObjects.add(r),e?pvzTypeMap.setCenter(e,14,{duration:300}):r.events.once("objectsaddtomap",function(){pvzTypeMap.setBounds(r.getBounds())}),pvzTypeMap.events.add("balloonopen",function(t){b=t.get("balloon"),coords=b.getPosition(),coords=[coords[0]+40,coords[1]-70],pvzTypeMap.setGlobalPixelCenter(coords)})}}$("#pvz-type-map").length>0&&ymaps.ready(e)}function buildShopSlider(){$(".js-shop-slider").length>0&&($(".js-shop-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:".js-shop-nav"}),$(".js-shop-nav").slick({slidesToShow:+$(this).data("slides"),slidesToScroll:1,asNavFor:".js-shop-slider",dots:!1,arrows:!1,centerMode:!1,focusOnSelect:!0}))}function setDesc(t){$(".radiator-calc-table").find("[data-part-desc]").removeClass("is-active"),$(".radiator-calc-table").find('[data-part-desc="'+t+'"]').addClass("is-active"),$('.radiator-calc-table__text [data-scrollbar="custom"]').mCustomScrollbar("scrollTo",'.radiator-calc-table [data-part-desc="'+t+'"]')}function radiatorCalcAddFiltersToCookie(){var t={};$(".radiator-calc-table").find("input[data-part]").each(function(e,i){$(i).data("part").length&&($(i).parent("label").hasClass("is-active")||"text"==$(i).attr("type")&&$(i).val())&&(t[$(i).data("part")]=$(i).val())}),$.cookie("_radiator_calc_filters",JSON.stringify(t),{expires:31,path:"/",domain:window.lmSettings.cookieDomain})}function radiatorCalcValidateComplete(t){var e=0;if("radio"==t.attr("type")&&t.parent("label").hasClass("is-active")){var i=Number(t.closest("tr").data("valid"));i||t.closest("tr").data("valid","1")}if("text"==t.attr("type")&&t.val().trim().length>0&&t.closest("tr").data("valid","1"),"text"==t.attr("type")&&0==t.val().trim().length){var i=Number(t.closest("tr").data("valid"));i&&t.closest("tr").data("valid","0")}$(".radiator-calc-table tbody tr").each(function(t,i){var n=Number($(this).closest("tr").data("valid"));e+=n}),e==radiatorFieldsQt?$('.radiator-calc-table button[type="submit"]').prop("disabled",!1):$('.radiator-calc-table button[type="submit"]').prop("disabled",!0)}function addToProductsSetPrice(t,e){var i=e?".fast-view":"",n=parseFloat($(i+' input[name="PRODUCTS_SET_PRICE"]').attr("data-price")),o=n+t;$(i+' input[name="PRODUCTS_SET_PRICE"]').attr("data-price",o),$(i+" .product__price_products-set").html(number_format(o,2,'<span class="price-kop">,'," ")+'</span> <span class="product__price__qt"><span class="rub">руб.</span>/комплект</span>')}function openProductsSetPopup(t,e,i,n,o){var a=$(t.target),s=a.parents(".fast-view").length,r=s?".fast-view ":"";if(!e)return!1;if("undefined"==typeof i)var i=$(r+"input.product_qty-"+e).val();"undefined"==typeof n&&(n=!1),"undefined"==typeof o&&(o="buy_popup"),i=i>0?i:1;var l={};l[e]=1;var c=!1;return!n&&$(r+".products-set").length>0&&$(r+".products-set .custom-check_type_checkbox input").each(function(t,e){$(e).attr("data-art")>0&&$(e).attr("data-amount")>0&&(l[parseInt($(e).attr("data-art"))]=parseInt($(e).attr("data-amount")),$(e).parent("label").hasClass("door-jamb-one-side")&&(c=!0))}),$.post("/bitrix/php_interface/ajax/products_set_popup.php",{artId:e,quantity:i,arArt:l,jambOneSideSelected:c,useDefaultSet:n,popupTemplate:o},function(n){try{dataJson=JSON.parse(n),dataJson.arItems&&("buy_popup"==o?add2basketProductsSetInput(t,e,i,dataJson.arItems):"shoplist_popup"==o&&add2listProductsSetInput(t,e,i,dataJson.arItems))}catch(a){$("#products-set-popup").html(n),s?popups.open("#products-set-popup",{afterClose:function(){setTimeout(function(){popups.open("#popup-fast-view")},50)}}):popups.open("#products-set-popup")}}),!1}function InfoBox(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),
this.zIndex_=t.zIndex||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"2px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof t.visible&&("undefined"==typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden_=!t.visible,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function addAdvanceShopInfo(){var t=function(t,e){return cases=[2,0,1,1,1,2],e[t%100>4&&t%100<20?2:cases[t%10<5?t%10:5]]};$("*").is(".shops-info")&&($(".js-shops-amount").append(advanceAboutShops.shopsAmount),$(".js-shops-amount-word").append(t(advanceAboutShops.shopsAmount,["магазин","магазина","магазинов"])),$(".js-cities-amount").append(advanceAboutShops.citiesAmount),advanceAboutShops["new"]>0?$(".js-shops-new").append(advanceAboutShops["new"]+" "+t(advanceAboutShops["new"],["магазин","магазина","магазинов"])):$(".js-shops-new").parent().hide(),advanceAboutShops.soon>0?$(".js-shops-soon").append(advanceAboutShops.soon+" "+t(advanceAboutShops.soon,["магазин","магазина","магазинов"])):$(".js-shops-soon").parent().hide(),advanceAboutShops.constructed>0?$(".js-shops-constructed").append(advanceAboutShops.constructed+" "+t(advanceAboutShops.constructed,["магазин","магазина","магазинов"])):$(".js-shops-constructed").parent().hide())}function addAdvanceCustomZoomControl(t){var e=document.createElement("div");e.id="shops-zoom-control",e.classList.add("shops-zoom-control");var i=document.createElement("div");e.appendChild(i);var n=document.createElement("div");n.classList.add("sc-zoom-in","icon-map-zoom-in"),i.appendChild(n);var o=document.createElement("div");o.classList.add("sc-zoom-out","icon-map-zoom-out"),i.appendChild(o),google.maps.event.addDomListener(n,"click",function(){var e=t.getZoom();t.setZoom(e+1)}),google.maps.event.addDomListener(o,"click",function(){var e=t.getZoom();t.setZoom(e-1)}),e.index=1,t.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(e)}function resetModalDrowKitchen(){$(".dk_modal .dk_modal__social-link").attr("href",""),$(".dk_modal img").attr("src",""),$(".dk_modal .dk_modal_content__name").html("")}function smallTopBanner(){function t(){a=this.currentItem,s=o.find(".item").eq(a).attr("data-interval")}function e(){a=this.currentItem,s=o.find(".item").eq(a).attr("data-interval")}function i(){o.trigger("owl.next"),setTimeout(i,1e3*s)}var n,o=$("#owl-small-top-banner");if(1!==o.find(".item").length){n="false"!==o.attr("animation_type")&&o.attr("animation_type"),o.owlCarousel({navigation:!1,slideSpeed:1e3,paginationSpeed:1e3,singleItem:!0,pagination:!1,afterAction:t,afterInit:e,transitionStyle:n});var a,s;setTimeout(i,1e3*s)}else o.show(),o.find(".inner").css("display","table")}!function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(t){"use strict";function e(t){void 0===t&&(t=window.navigator.userAgent),t=t.toLowerCase();var e=/(edge)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i=/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[],n={},o={browser:e[5]||e[3]||e[1]||"",version:e[2]||e[4]||"0",versionNumber:e[4]||e[2]||"0",platform:i[0]||""};if(o.browser&&(n[o.browser]=!0,n.version=o.version,n.versionNumber=parseInt(o.versionNumber,10)),o.platform&&(n[o.platform]=!0),(n.android||n.bb||n.blackberry||n.ipad||n.iphone||n.ipod||n.kindle||n.playbook||n.silk||n["windows phone"])&&(n.mobile=!0),(n.cros||n.mac||n.linux||n.win)&&(n.desktop=!0),(n.chrome||n.opr||n.safari)&&(n.webkit=!0),n.rv||n.iemobile){var a="msie";o.browser=a,n[a]=!0}if(n.edge){delete n.edge;var s="msedge";o.browser=s,n[s]=!0}if(n.safari&&n.blackberry){var r="blackberry";o.browser=r,n[r]=!0}if(n.safari&&n.playbook){var l="playbook";o.browser=l,n[l]=!0}if(n.bb){var c="blackberry";o.browser=c,n[c]=!0}if(n.opr){var d="opera";o.browser=d,n[d]=!0}if(n.safari&&n.android){var u="android";o.browser=u,n[u]=!0}if(n.safari&&n.kindle){var h="kindle";o.browser=h,n[h]=!0}if(n.safari&&n.silk){var p="silk";o.browser=p,n[p]=!0}return n.name=o.browser,n.platform=o.platform,n}return window.jQBrowser=e(window.navigator.userAgent),window.jQBrowser.uaMatch=e,t&&(t.browser=window.jQBrowser),window.jQBrowser}),!function(t,e){function i(t){var e={},i={type:"contentType",name:"query",withParents:"withParent"};t.parentType&&t.parentId&&(e[t.parentType+"Id"]=t.parentId);for(var o in t)n(t,o)&&t[o]&&(e[n(i,o)?i[o]:o]=t[o]);return e}function n(t,e){return t.hasOwnProperty(e)}function o(t){var i=e.console;i&&i.error&&i.error(t)}t.kladr={},function(){var i="https:"==e.location.protocol?"https:":"http:";t.kladr.url=i+"//kladr-api.ru/api.php"}(),t.kladr.type={region:"region",district:"district",city:"city",street:"street",building:"building"},t.kladr.typeCode={city:1,settlement:2,village:4},t.kladr.validate=function(e){var i=t.kladr.type;switch(e.type){case i.region:case i.district:case i.city:if(e.parentType&&!e.parentId)return o("parentId undefined"),!1;break;case i.street:if(e.parentType!=i.city&&e.parentType!=i.street)return o('parentType must equal "city" or "street"'),!1;if(!e.parentId)return o("parentId undefined"),!1;break;case i.building:if(!e.zip){if(!~t.inArray(e.parentType,[i.street,i.city]))return o('parentType must equal "street" or "city"'),!1;if(!e.parentId)return o("parentId undefined"),!1}break;default:if(!e.oneString)return o("type incorrect"),!1}return e.oneString&&e.parentType&&!e.parentId?(o("parentId undefined"),!1):e.typeCode&&e.type!=i.city?(o('type must equal "city"'),!1):!(e.limit<1)||(o("limit must greater than 0"),!1)},t.kladr.api=function(e,n){if(!n)return void o("Callback undefined");if(!t.kladr.validate(e))return void n([]);var a=setTimeout(function(){n([]),a=null},3e3);t.ajax({url:t.kladr.url+"?callback=?",type:"get",data:i(e),dataType:"jsonp"}).done(function(t){a&&(n(t.result||[]),clearTimeout(a))})},t.kladr.check=function(e,i){return i?(e.withParents=!1,e.limit=1,void t.kladr.api(e,function(t){i(!(!t||!t.length)&&t[0])})):void o("Callback undefined")}}(jQuery,window),function(t,e,i,n){function o(n,o){function a(t,e){return t.isGet?u.get(t.str[0]):(u.set(t),void e())}var u=function(){var e="kladr-data",i=n.data(e);return i||(i=t.extend({},l,c),n.data(e,i)),{set:function(t){if(t.obj)for(var o in t.obj)r(t.obj,o)&&r(l,o)&&(i[o]=t.obj[o]);else t.str&&!t.isGet&&r(l,t.str[0])&&(i[t.str[0]]=t.str[1]);n.data(e,i)},get:function(t){return r(l,t)||r(c,t)?i[t]:void 0},_set:function(t,o){i[t]=o,n.data(e,i)},_get:function(t){return r(i,t)?i[t]:void 0}}}();return a(o,function(){function o(o){var a=t(i.getElementById("kladr_autocomplete"));a.length||(a=t('<div id="kladr_autocomplete"></div>').appendTo(i.body));var r=I("guid");r?(D=a.find(".autocomplete"+r),j=a.find(".spinner"+r),t(e).off(E),n.off(E),D.off(E)):(r=s(),P("guid",r),n.attr("autocomplete","off"),D=t('<ul class="autocomplete'+r+' autocomplete" style="display: none;"></ul>').appendTo(a),j=t('<div class="spinner'+r+' spinner" style="display: none;"></div>').appendTo(a),y(),h(),w()),o()}function a(e,i){var n,o,a,s;D.empty();for(var r=0;r<e.length;r++)n=e[r],o=I("valueFormat")(n,i),a=I("labelFormat")(n,i),s=t('<a data-val="'+o+'">'+a+"</a>"),s.data("kladr-object",n),t("<li></li>").append(s).appendTo(D)}function c(){var e,i,n;D.empty(),e="",i=l.noResultText,null!=i&&""!=i&&(n=t('<a data-val="'+e+'">'+i+"</a>"),n.data("kladr-object",{}),t("<li></li>").append(n).appendTo(D))}function h(){var t=n.offset(),e=n.outerWidth(),i=n.outerHeight();if(t&&(h.top!=t.top||h.left!=t.left||h.width!=e||h.height!=i)){h.top=t.top,h.left=t.left,h.width=e,h.height=i,D.css({top:t.top+i+"px",left:t.left});var o=D.outerWidth()-D.width();D.width(e-o);var a=j.width(),s=j.height();j.css({top:t.top+(i-s)/2-1,left:t.left+e-a-2})}}function p(e){if(!(e.which>8&&e.which<46)){if(n.data(O,!1),!_("open_before"))return void f();S(null);var i=n.val();if(!t.trim(i))return T(!1),void f();var o=C(i);if(!_("send_before",o))return void f();x(),_("send"),I("source")(o,function(e){return _("receive",e),n.is(":focus")?t.trim(n.val())&&e.length?(M=!0,a(e,o),h(),k(),D.slideDown(50),void _("open")):(k(),S(null),c(),h(),D.slideDown(50),_("open"),void(M=!1)):(k(),void f())})}}function f(){_("close_before")&&(D.empty().hide(),_("close"))}function m(t){var e=D.find("li.active");switch(t.which){case d.up:e.length?(e.removeClass("active"),e.prev().length&&(e=e.prev())):e=D.find("li").last(),function(){var t=D.scrollTop(),i=D.offset(),n=e.outerHeight(),o=e.offset();o.top-i.top<0&&D.scrollTop(t-n)}(),e.addClass("active"),v();break;case d.down:e.length?(e.removeClass("active"),e.next().length&&(e=e.next())):e=D.find("li").first(),e.length&&!function(){var t=D.scrollTop(),i=D.height(),n=D.offset(),o=e.outerHeight(),a=e.offset();a.top-n.top+o>i&&D.scrollTop(t+o)}(),e.addClass("active"),v();break;case d.enter:f()}}function g(e){var i=t(e);i.is("a")&&(i=i.parents("li")),i.addClass("active"),v(),f()}function v(){if(_("select_before")){var t=D.find(".active a");t.length&&(n.val(t.attr("data-val")).data(O,!0),T(!1),S(t.data("kladr-object")),_("select",I("current")))}}function b(){function e(t,e){T(e),S(t)}if(I("verify")&&_("check_before")){var i=t.trim(n.val());if(!i)return void e(null,!1);if(I("current"))return void T(!1);var o=C(i);if(o.withParents=!1,o.limit=10,!_("send_before",o))return e(null,!1),void _("check",null);x(),_("send"),I("source")(o,function(i){function a(t,i){k(),e(t,i)}if(_("receive"),!t.trim(n.val()))return void a(null,!1);for(var s=o.name.toLowerCase(),r=null,l=null,c=0;c<i.length;c++)if(r=i[c].name.toLowerCase(),s==r){l=i[c];break}l&&n.val(I("valueFormat")(l,o)),a(l,!l),_("check",l)})}}function y(){function e(){n.attr(a,!0)}function i(t,e){t?n.val(I("valueFormat")(t,e)):T(!0),S(t),n.removeAttr(a)}var o={setValue:function(e){return"object"===t.type(e)?o.setValueByObject(e):"number"===t.type(e)?o.setValueById(e):"string"===t.type(e)?o.setValueByName(e):e?o:o.clear()},setValueByName:function(n){if(n=t.trim(n+"")){var a=C("");if(a.name=$(n),a.withParents=!1,a.limit=10,!_("send_before",a))return i(null,a),o;e(),_("send"),I("source")(a,function(t){_("receive");for(var e=a.name.toLowerCase(),n=null,o=null,s=0;s<t.length;s++)if(n=t[s].name.toLowerCase(),e==n){o=t[s];break}i(o,a)})}return o},setValueById:function(n){var a=C("");return a.parentType=a.type,a.parentId=n,a.limit=1,e(),t.kladr.api(a,function(t){t.length?i(t[0],a):i(null,a)}),o},setValueByObject:function(t){return i(t,C("")),o},clear:function(){return i(null,null),o}},a="data-kladr-autofill-lock";P("controller",o)}function w(){function e(){var e=n.val();if(e){var i,o=C(e),a=o.type,s=o.parentType,r=t.kladr.type,l=!0,c=I("controller").setValueByName;return a==r.street&&s!=r.city&&(l=!1),a!=r.building||~t.inArray(s,[r.street,r.city])||(l=!1),i=n.attr("data-kladr-autofill-lock"),i&&I("current")&&l&&c(e),!!I("current")}return!1}var i=0;!function o(){++i>5||e()||setTimeout(o,100)}()}function _(e,i){if(!e)return!0;var o=e.replace(/_([a-z])/gi,function(t,e){return e.toUpperCase()});return n.trigger("kladr_"+e,i),"function"!==t.type(I(o))||I(o).call(n.get(0),i)!==!1}function x(){I("spinner")&&I("showSpinner")(j)}function k(){I("spinner")&&I("hideSpinner")(j)}function C(t){var e,i={},n=["token","key","type","typeCode","parentType","parentId","oneString","withParents","limit","strict"];for(e=0;e<n.length;e++)i[n[e]]=I(n[e]);i.name=$(t);var o,a=I("parentInput");return a&&(o=A(a,i.type),o&&(i.parentType=o.type,i.parentId=o.id)),i.oneString&&(i.withParents=!0),i}function A(e,i){var n,o=t.kladr.getInputs(e),a=t.kladr.type,s={},l=null;o.each(function(){var e,i=t(this);(e=i.attr("data-kladr-id"))&&(s[i.attr("data-kladr-type")]=e)});for(n in a){if(n==i)return l;r(a,n)&&s[n]&&(l={type:n,id:s[n]})}return l}function $(t){for(var e="abcdefghijklmnopqrstuvwxyz",i=t.toLowerCase(),n=0;n<i.length;n++)if(~e.indexOf(i[n]))return T(!0),t;return T(!1),t}function S(t){var e=I("current");(e&&e.id)!==(t&&t.id)&&(P("current",t),t&&t.id?n.attr("data-kladr-id",t.id):n.removeAttr("data-kladr-id"),I("oneString")&&t&&t.contentType&&n.attr("data-kladr-type",t.contentType),_("change",t))}function T(t){t?n.addClass("kladr-error"):n.removeClass("kladr-error")}function I(t){return u._get(t)}function P(t,e){u._set(t,e)}var D=null,j=null,M=!1,E=".kladr",O="kladrInputChange";o(function(){var i=!1,o=!0,a="";n.attr("data-kladr-type",I("type")||"").attr("data-kladr-one-string",I("oneString")||null).on("keyup"+E,p).on("keydown"+E,m).on("blur"+E,function(){!i&&n.data(O)&&a!=n.val()&&n.change()}).on("blur"+E+" change"+E,function(t){return i?void 0:("change"==t.type&&(a=n.val()),o&&(o=!1,b()),!M&&l.checkEmptyRespone&&n.val(""),f(),!1)}).on("focus"+E,function(){o=!0}),D.on("touchstart"+E+" mousedown"+E,"li, a",function(t){t.preventDefault(),i=!0,g(this),i=!1}),t(e).on("resize"+E,h)})})}function a(e,i){var o={obj:!1,str:!1,isGet:!1};return"object"===t.type(e)?(o.obj=e,o):("string"===t.type(e)&&(o.str=[e,i],o.isGet=i===n),o)}function s(){return s.guid?++s.guid:s.guid=1}function r(t,e){return t.hasOwnProperty(e)}var l={token:null,key:null,type:null,typeCode:null,parentType:null,parentId:null,limit:10,oneString:!1,withParents:!1,noResultText:null,checkEmptyRespone:!1,strict:null,parentInput:null,verify:!1,spinner:!0,open:null,close:null,send:null,receive:null,select:null,check:null,change:null,openBefore:null,closeBefore:null,sendBefore:null,selectBefore:null,checkBefore:null,source:function(e,i){t.kladr.api(e,i)},labelFormat:function(e,i){var n;if(i.oneString)return e.parents?(n=[].concat(e.parents),n.push(e),t.kladr.buildAddress(n)):(e.typeShort?e.typeShort+". ":"")+e.name;var o,a,s,r,l="";return e.typeShort&&(l+=e.typeShort+". "),o=e.name,a=o.toLowerCase(),s=i.name.toLowerCase(),r=a.indexOf(s),r=~r?r:0,s.length<a.length?(l+=o.substr(0,r),l+="<strong>",l+=o.substr(r,s.length),l+="</strong>",l+=o.substr(r+s.length)):l+="<strong>"+o+"</strong>",l},valueFormat:function(e,i){var n;return i.oneString?e.parents?(n=[].concat(e.parents),n.push(e),t.kladr.buildAddress(n)):(e.typeShort?e.typeShort+". ":"")+e.name:e.name},showSpinner:function(t){var e=-.2,i=setInterval(function(){return t.is(":visible")?(t.css("background-position","0% "+e+"%"),e+=5.555556,void(e>95&&(e=-.2))):(clearInterval(i),void(i=null))},30);t.show()},hideSpinner:function(t){t.hide()}},c={current:null,controller:null},d={up:38,down:40,enter:13};t.kladr=t.extend(t.kladr,{setDefault:function(t,e){var i=a(t,e);if(i.obj)for(var n in i.obj)r(l,n)&&(l[n]=i.obj[n]);else i.str&&!i.isGet&&r(l,i.str[0])&&(l[i.str[0]]=i.str[1])},getDefault:function(t){return r(l,t)?l[t]:void 0},getInputs:function(e){var n=t(e||i.body),o="[data-kladr-type]";return n.filter(o).add(n.find(o))},setValues:function(e,i){var n,o,a="kladr_change.setvalues",s=t.kladr.type,l={},c=[];if(~t.inArray(t.type(e),["object","array"])){t.each(e,function(t,e){if(e){var i=e.contentType||e.type||t;r(s,i)&&(l[i]=e)}});for(o in s)r(s,o)&&l[o]&&(c[o]=l[o]);n=t.kladr.getInputs(i),function d(){var t,e,i;for(e in c)if(r(c,e)){i=c[e],delete c[e];break}if(e)return t=n.filter('[data-kladr-type="'+e+'"]'),t.length?void t.on(a,function(){t.off(a),d()}).kladr("controller").setValue(i):void d()}()}},getAddress:function(e,i){var n,o=t.kladr.getInputs(e),a=t.kladr.type,s={},l={};o.each(function(){var e,i,n,o=t(this);if(o.attr("data-kladr-id"))if(e=o.kladr("current"),o.attr("data-kladr-one-string")&&e.parents)for(i=[].concat(e.parents),i.push(e),n=0;n<i.length;n++)s[i[n].contentType]=i[n];else s[o.attr("data-kladr-type")]=e;else s[o.attr("data-kladr-type")]=o.val()});for(n in a)r(a,n)&&s[n]&&(l[n]=s[n]);return(i||t.kladr.buildAddress)(l)},buildAddress:function(e){var i=[],n="",o="";return t.each(e,function(e,a){var s,r="",l="";if("object"===t.type(a)){for(s=0;s<i.length;s++)if(i[s]==a.id)return;i.push(a.id),r=a.name,l=a.typeShort+". ",o=a.zip||o}else r=a;n&&(n+=", "),n+=l+r}),n=(o?o+", ":"")+n}}),t.fn.kladr=function(e,i){var n=a(e,i),s=null;return this.each(function(){var e=o(t(this),n);return n.isGet?(s=e,!1):void 0}),n.isGet?s:this}}(jQuery,window,document),function(t){t.fn.kladrZip=function(e){return this.keydown(function(e){var i=e.charCode||e.keyCode||0,n=8==i||9==i||13==i||46==i||110==i||190==i||i>=35&&40>=i||i>=96&&105>=i;return t(this).val().length>=6?n:n||i>=48&&57>=i}),this.keyup(function(){function i(t){t?n.addClass("kladr-error"):n.removeClass("kladr-error")}var n=t(this),o=n.val();return o?void t.kladr.api({type:t.kladr.type.building,zip:o,withParents:!0,limit:1},function(n){var o=n.length&&n[0];n=[],o?(i(!1),o.parents&&(n=n.concat(o.parents)),n.push(o),t.kladr.setValues(n,e)):i(!0)}):void i(!1)}),this}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return r.raw?t:encodeURIComponent(t)}function i(t){return r.raw?t:decodeURIComponent(t)}function n(t){return e(r.json?JSON.stringify(t):String(t))}function o(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),r.json?JSON.parse(t):t}catch(e){}}function a(e,i){var n=r.raw?e:o(e);return t.isFunction(i)?i(n):n}var s=/\+/g,r=t.cookie=function(o,s,l){if(void 0!==s&&!t.isFunction(s)){if(l=t.extend({},r.defaults,l),"number"==typeof l.expires){var c=l.expires,d=l.expires=new Date;d.setTime(+d+864e5*c)}return document.cookie=[e(o),"=",n(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=o?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,f=h.length;p<f;p++){var m=h[p].split("="),g=i(m.shift()),v=m.join("=");if(o&&o===g){u=a(v,s);break}o||void 0===(v=a(v))||(u[g]=v)}return u};r.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e))}}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function n(){var n,o;return!i.settings.submitHandler||(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),o=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),void 0!==o&&o)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e,n=n.concat(i.errorList)}),i.errorList=n),e},rules:function(e,i){var n,o,a,s,r,l,c=this[0];if(e)switch(n=t.data(c.form,"validator").settings,o=n.rules,a=t.validator.staticRules(c),e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,o[c.name]=a,i.messages&&(n.messages[c.name]=t.extend(n.messages[c.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=a[i],delete a[i],"required"===i&&t(c).removeAttr("aria-required")}),l):(delete o[c.name],a)}return s=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c),s.required&&(r=s.required,delete s.required,s=t.extend({required:r},s),t(c).attr("aria-required","true")),s.remote&&(r=s.remote,delete s.remote,s=t.extend(s,{remote:r})),s}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,n)||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),o=i.settings;o[n]&&!t(this).is(o.ignore)&&o[n].call(i,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),n=this.validationTargetFor(i),o=!0;return this.lastElement=n,void 0===n?delete this.invalid[i.name]:(this.prepareElement(n),this.currentElements=t(n),o=this.check(n)!==!1,o?delete this.invalid[n.name]:this.invalid[n.name]=!0),t(e).attr("aria-invalid",!o),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),o},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var e,i=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(e=0;i[e];e++)this.settings.unhighlight.call(this,i[e],this.settings.errorClass,"");else i.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!e.objectLength(t(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n=t(e),o=e.type;return"radio"===o||"checkbox"===o?this.findByName(e.name).filter(":checked").val():"number"===o&&"undefined"!=typeof e.validity?!e.validity.badInput&&n.val():(i=n.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,o,a=t(e).rules(),s=t.map(a,function(t,e){return e}).length,r=!1,l=this.elementValue(e);for(n in a){o={method:n,parameters:a[n]};try{if(i=t.validator.methods[n].call(this,l,e,o.parameters),"dependency-mismatch"===i&&1===s){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,o),!1}catch(c){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+o.method+"' method.",c),c instanceof TypeError&&(c.message+=".  Exception occurred when checking element "+e.id+", check the '"+o.method+"' method."),c}}if(!r)return this.objectLength(a)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var n=this.defaultMessage(e,i.method),o=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,e):o.test(n)&&(n=t.validator.format(n.replace(o,"{$1}"),i.parameters)),this.errorList.push({message:n,element:e,method:i.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,o,a,s=this.errorsFor(e),r=this.idOrName(e),l=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("id",r+"-error").addClass(this.settings.errorClass).html(i||""),n=s,this.settings.wrapper&&(n=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e),s.is("label")?s.attr("for",r):0===s.parents("label[for='"+r+"']").length&&(a=s.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),l?l.match(new RegExp("\\b"+a+"\\b"))||(l+=" "+a):l=a,t(e).attr("aria-describedby",l),o=this.groups[e.name],o&&t.each(this.groups,function(e,i){i===o&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),
this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e),n=t(e).attr("aria-describedby"),o="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(o=o+", #"+n.replace(/\s+/g,", #")),this.errors().filter(o)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,n){/min|max/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,n,o={},a=t(e),s=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=a.attr(i),this.normalizeAttributeRule(o,s,i,n);return o.maxlength&&/-1|2147483647|524288/.test(o.maxlength)&&delete o.maxlength,o},dataRules:function(e){var i,n,o={},a=t(e),s=e.getAttribute("type");for(i in t.validator.methods)n=a.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(o,s,i,n);return o},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,o){if(o===!1)return void delete e[n];if(o.param||o.depends){var a=!0;switch(typeof o.depends){case"string":a=!!t(o.depends,i.form).length;break;case"function":a=o.depends.call(i,i)}a?e[n]=void 0===o.param||o.param:delete e[n]}}),t.each(e,function(n,o){e[n]=t.isFunction(o)?o(i):o}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var o=t(i).val();return o&&o.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,o=0,a=0,s=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),a=parseInt(n,10),s&&(a*=2)>9&&(a-=9),o+=a,s=!s;return o%10===0},minlength:function(e,i,n){var o=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||o>=n},maxlength:function(e,i,n){var o=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||n>=o},rangelength:function(e,i,n){var o=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||o>=n[0]&&o<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,n){var o=t(n);return this.settings.onfocusout&&o.off(".validate-equalTo").on("blur.validate-equalTo",function(){t(i).valid()}),e===o.val()},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var o,a,s=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),s.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=s.message,n="string"==typeof n&&{url:n}||n,s.old===e?s.valid:(s.old=e,o=this,this.startRequest(i),a={},a[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:a,context:o.currentForm,success:function(n){var a,r,l,c=n===!0||"true"===n;o.settings.messages[i.name].remote=s.originalMessage,c?(l=o.formSubmitted,o.prepareElement(i),o.formSubmitted=l,o.successList.push(i),delete o.invalid[i.name],o.showErrors()):(a={},r=n||o.defaultMessage(i,"remote"),a[i.name]=s.message=t.isFunction(r)?r(e):r,o.invalid[i.name]=!0,o.showErrors(a)),s.valid=c,o.stopRequest(i,c)}},n)),"pending")}}});var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var o=t.port;"abort"===t.mode&&(i[o]&&i[o].abort(),i[o]=n)}):(e=t.ajax,t.ajax=function(n){var o=("mode"in n?n:t.ajaxSettings).mode,a=("port"in n?n:t.ajaxSettings).port;return"abort"===o?(i[a]&&i[a].abort(),i[a]=e.apply(this,arguments),i[a]):e.apply(this,arguments)})}),!function(t){function e(i,n){return this instanceof e?(t.isPlainObject(i)?n=i:(n=n||{},n.alias=i),this.el=void 0,this.opts=t.extend(!0,{},this.defaults,n),this.noMasksCache=n&&void 0!==n.definitions,this.userOptions=n||{},this.events={},void o(this.opts.alias,n,this.opts)):new e(i,n)}function i(t){var e=document.createElement("input"),i="on"+t,n=i in e;return n||(e.setAttribute(i,"return;"),n="function"==typeof e[i]),e=null,n}function n(e,i){var n=e.getAttribute("type"),o="INPUT"===e.tagName&&-1!==t.inArray(n,i.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!o){var a=document.createElement("input");a.setAttribute("type",n),o="text"===a.type,a=null}return o}function o(e,i,n){var a=n.aliases[e];return a?(a.alias&&o(a.alias,void 0,n),t.extend(!0,n,a),t.extend(!0,n,i),!0):(null===n.mask&&(n.mask=e),!1)}function a(e,i,n){function a(t,i){i=void 0!==i?i:e.getAttribute("data-inputmask-"+t),null!==i&&("string"==typeof i&&(0===t.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[t]=i)}var s,r,l,c,d=e.getAttribute("data-inputmask");if(d&&""!==d&&(d=d.replace(new RegExp("'","g"),'"'),r=JSON.parse("{"+d+"}")),r){l=void 0;for(c in r)if("alias"===c.toLowerCase()){l=r[c];break}}a("alias",l),n.alias&&o(n.alias,n,i);for(s in i){if(r){l=void 0;for(c in r)if(c.toLowerCase()===s.toLowerCase()){l=r[c];break}}a(s,l)}return t.extend(!0,i,n),i}function s(i,n){function o(e){function n(t,e,i,n){this.matches=[],this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function o(e,n,o){var a=i.definitions[n];o=void 0!==o?o:e.matches.length;var s=e.matches[o-1];if(a&&!v){a.placeholder=t.isFunction(a.placeholder)?a.placeholder(i):a.placeholder;for(var r=a.prevalidator,l=r?r.length:0,c=1;c<a.cardinality;c++){var d=l>=c?r[c-1]:[],u=d.validator,h=d.cardinality;e.matches.splice(o++,0,{fn:u?"string"==typeof u?new RegExp(u):new function(){this.test=u}:new RegExp("."),cardinality:h?h:1,optionality:e.isOptional,newBlockMarker:void 0===s||s.def!==(a.definitionSymbol||n),casing:a.casing,def:a.definitionSymbol||n,placeholder:a.placeholder,mask:n}),s=e.matches[o-1]}e.matches.splice(o++,0,{fn:a.validator?"string"==typeof a.validator?new RegExp(a.validator):new function(){this.test=a.validator}:new RegExp("."),cardinality:a.cardinality,optionality:e.isOptional,newBlockMarker:void 0===s||s.def!==(a.definitionSymbol||n),casing:a.casing,def:a.definitionSymbol||n,placeholder:a.placeholder,mask:n})}else e.matches.splice(o++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===s||s.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,mask:n}),v=!1}function a(t,e){t.isGroup&&(t.isGroup=!1,o(t,i.groupmarker.start,0),e!==!0&&o(t,i.groupmarker.end))}function s(t,e,i,n){e.matches.length>0&&(void 0===n||n)&&(i=e.matches[e.matches.length-1],a(i)),o(e,t)}function r(){if(y.length>0){if(h=y[y.length-1],s(d,h,f,!h.isAlternator),h.isAlternator){p=y.pop();for(var t=0;t<p.matches.length;t++)p.matches[t].isGroup=!1;y.length>0?(h=y[y.length-1],h.matches.push(p)):b.matches.push(p)}}else s(d,b,f)}function l(t){function e(t){return t===i.optionalmarker.start?t=i.optionalmarker.end:t===i.optionalmarker.end?t=i.optionalmarker.start:t===i.groupmarker.start?t=i.groupmarker.end:t===i.groupmarker.end&&(t=i.groupmarker.start),t}t.matches=t.matches.reverse();for(var n in t.matches){var o=parseInt(n);if(t.matches[n].isQuantifier&&t.matches[o+1]&&t.matches[o+1].isGroup){var a=t.matches[n];t.matches.splice(n,1),t.matches.splice(o+1,0,a)}void 0!==t.matches[n].matches?t.matches[n]=l(t.matches[n]):t.matches[n]=e(t.matches[n])}return t}for(var c,d,u,h,p,f,m,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=!1,b=new n,y=[],w=[];c=g.exec(e);)if(d=c[0],v)r();else switch(d.charAt(0)){case i.escapeChar:v=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(u=y.pop(),void 0!==u)if(y.length>0){if(h=y[y.length-1],h.matches.push(u),h.isAlternator){p=y.pop();for(var _=0;_<p.matches.length;_++)p.matches[_].isGroup=!1;y.length>0?(h=y[y.length-1],h.matches.push(p)):b.matches.push(p)}}else b.matches.push(u);else r();break;case i.optionalmarker.start:y.push(new n((!1),(!0)));break;case i.groupmarker.start:y.push(new n((!0)));break;case i.quantifiermarker.start:var x=new n((!1),(!1),(!0));d=d.replace(/[{}]/g,"");var k=d.split(","),C=isNaN(k[0])?k[0]:parseInt(k[0]),A=1===k.length?C:isNaN(k[1])?k[1]:parseInt(k[1]);if(("*"===A||"+"===A)&&(C="*"===A?0:1),x.quantifier={min:C,max:A},y.length>0){var $=y[y.length-1].matches;c=$.pop(),c.isGroup||(m=new n((!0)),m.matches.push(c),c=m),$.push(c),$.push(x)}else c=b.matches.pop(),c.isGroup||(m=new n((!0)),m.matches.push(c),c=m),b.matches.push(c),b.matches.push(x);break;case i.alternatormarker:y.length>0?(h=y[y.length-1],f=h.matches.pop()):f=b.matches.pop(),f.isAlternator?y.push(f):(p=new n((!1),(!1),(!1),(!0)),p.matches.push(f),y.push(p));break;default:r()}for(;y.length>0;)u=y.pop(),a(u,!0),b.matches.push(u);return b.matches.length>0&&(f=b.matches[b.matches.length-1],a(f),w.push(b)),i.numericInput&&l(w[0]),w}function a(a,s){if(null!==a&&""!==a){if(1===a.length&&i.greedy===!1&&0!==i.repeat&&(i.placeholder=""),i.repeat>0||"*"===i.repeat||"+"===i.repeat){var r="*"===i.repeat?0:"+"===i.repeat?1:i.repeat;a=i.groupmarker.start+a+i.groupmarker.end+i.quantifiermarker.start+r+","+i.repeat+i.quantifiermarker.end}var l;return void 0===e.prototype.masksCache[a]||n===!0?(l={mask:a,maskToken:o(a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:s},n!==!0&&(e.prototype.masksCache[i.numericInput?a.split("").reverse().join(""):a]=l,l=t.extend(!0,{},e.prototype.masksCache[i.numericInput?a.split("").reverse().join(""):a]))):l=t.extend(!0,{},e.prototype.masksCache[i.numericInput?a.split("").reverse().join(""):a]),l}}function s(t){return t=t.toString()}var r;if(t.isFunction(i.mask)&&(i.mask=i.mask(i)),t.isArray(i.mask)){if(i.mask.length>1){i.keepStatic=null===i.keepStatic||i.keepStatic;var l="(";return t.each(i.numericInput?i.mask.reverse():i.mask,function(e,i){l.length>1&&(l+=")|("),l+=s(void 0===i.mask||t.isFunction(i.mask)?i:i.mask)}),l+=")",a(l,i.mask)}i.mask=i.mask.pop()}return i.mask&&(r=void 0===i.mask.mask||t.isFunction(i.mask.mask)?a(s(i.mask),i.mask):a(s(i.mask.mask),i.mask)),r}function r(o,a,s){function l(t,e,i){e=e||0;var n,o,a,r=[],l=0,c=f();do{if(t===!0&&h().validPositions[l]){var d=h().validPositions[l];o=d.match,n=d.locator.slice(),r.push(i===!0?d.input:E(l,o))}else a=v(l,n,l-1),o=a.match,n=a.locator.slice(),(s.jitMasking===!1||c>l||isFinite(s.jitMasking)&&s.jitMasking>l)&&r.push(E(l,o));l++}while((void 0===ht||ht>l-1)&&null!==o.fn||null===o.fn&&""!==o.def||e>=l);return""===r[r.length-1]&&r.pop(),r}function h(){return a}function p(t){var e=h();e.buffer=void 0,t!==!0&&(e.tests={},e._buffer=void 0,e.validPositions={},e.p=0)}function f(t,e){var i=-1,n=-1,o=h().validPositions;void 0===t&&(t=-1);for(var a in o){var s=parseInt(a);o[s]&&(e||null!==o[s].match.fn)&&(t>=s&&(i=s),s>=t&&(n=s))}return-1!==i&&t-i>1||t>n?i:n}function m(e,i,n){if(s.insertMode&&void 0!==h().validPositions[e]&&void 0===n){var o,a=t.extend(!0,{},h().validPositions),r=f();for(o=e;r>=o;o++)delete h().validPositions[o];h().validPositions[e]=i;var l,c=!0,d=h().validPositions;for(o=l=e;r>=o;o++){var u=a[o];if(void 0!==u)for(var m=l,g=-1;m<I()&&(null==u.match.fn&&d[o]&&(d[o].match.optionalQuantifier===!0||d[o].match.optionality===!0)||null!=u.match.fn);){if(null===u.match.fn||!s.keepStatic&&d[o]&&(void 0!==d[o+1]&&_(o+1,d[o].locator.slice(),o).length>1||void 0!==d[o].alternation)?m++:m=P(l),y(m,u.match.def)){var v=S(m,u.input,!0,!0);c=v!==!1,l=v.caret||v.insert?f():m;break}if(c=null==u.match.fn,g===m)break;g=m}if(!c)break}if(!c)return h().validPositions=t.extend(!0,{},a),p(!0),!1}else h().validPositions[e]=i;return p(!0),!0}function g(t,e,i,n){var o,a=t;for(h().p=t,o=a;e>o;o++)void 0!==h().validPositions[o]&&(i===!0||s.canClearPosition(h(),o,f(),n,s)!==!1)&&delete h().validPositions[o];for(o=a+1;o<=f();){for(;void 0!==h().validPositions[a];)a++;var r=h().validPositions[a];if(a>o&&(o=a+1),void 0===h().validPositions[o]&&T(o)||void 0!==r)o++;else{var l=v(o);y(a,l.match.def)?S(a,l.input||E(o),!0)!==!1&&(delete h().validPositions[o],o++):T(o)||(o++,a--),a++}}var c=f(),d=I();for(n!==!0&&i!==!0&&void 0!==h().validPositions[c]&&h().validPositions[c].input===s.radixPoint&&delete h().validPositions[c],o=c+1;d>=o;o++)h().validPositions[o]&&delete h().validPositions[o];p(!0)}function v(t,e,i){var n=h().validPositions[t];if(void 0===n)for(var o=_(t,e,i),a=f(),r=h().validPositions[a]||_(0)[0],l=void 0!==r.alternation?r.locator[r.alternation].toString().split(","):[],c=0;c<o.length&&(n=o[c],!(n.match&&(s.greedy&&n.match.optionalQuantifier!==!0||(n.match.optionality===!1||n.match.newBlockMarker===!1)&&n.match.optionalQuantifier!==!0)&&(void 0===r.alternation||r.alternation!==n.alternation||void 0!==n.locator[r.alternation]&&$(n.locator[r.alternation].toString().split(","),l))));c++);return n}function b(t){return h().validPositions[t]?h().validPositions[t].match:_(t)[0].match}function y(t,e){for(var i=!1,n=_(t),o=0;o<n.length;o++)if(n[o].match&&n[o].match.def===e){i=!0;break}return i}function w(e,i){var n,o;return(h().tests[e]||h().validPositions[e])&&t.each(h().tests[e]||[h().validPositions[e]],function(t,e){var a=e.alternation?e.locator[e.alternation].toString().indexOf(i):-1;(void 0===o||o>a)&&-1!==a&&(n=e,o=a)}),n}function _(e,i,n){function o(i,n,a,r){function c(a,r,f){function m(e,i){var n=0===t.inArray(e,i.matches);return n||t.each(i.matches,function(t,o){return(o.isQuantifier!==!0||!(n=m(e,i.matches[t-1])))&&void 0}),n}function g(t,e){var i=w(t,e);return i?i.locator.slice(i.alternation+1):[]}if(l>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+h().mask;if(l===e&&void 0===a.matches)return d.push({match:a,locator:r.reverse(),cd:p}),!0;if(void 0!==a.matches){if(a.isGroup&&f!==a){if(a=c(i.matches[t.inArray(a,i.matches)+1],r))return!0}else if(a.isOptional){var v=a;if(a=o(a,n,r,f)){if(s=d[d.length-1].match,!m(s,v))return!0;u=!0,l=e}}else if(a.isAlternator){var b,y=a,_=[],x=d.slice(),k=r.length,C=n.length>0?n.shift():-1;if(-1===C||"string"==typeof C){var A,$=l,S=n.slice(),T=[];if("string"==typeof C)T=C.split(",");else for(A=0;A<y.matches.length;A++)T.push(A);for(var I=0;I<T.length;I++){if(A=parseInt(T[I]),d=[],n=g(l,A),a=c(y.matches[A]||i.matches[A],[A].concat(r),f)||a,a!==!0&&void 0!==a&&T[T.length-1]<y.matches.length){var P=t.inArray(a,i.matches)+1;i.matches.length>P&&(a=c(i.matches[P],[P].concat(r.slice(1,r.length)),f),a&&(T.push(P.toString()),t.each(d,function(t,e){e.alternation=r.length-1})))}b=d.slice(),l=$,d=[];for(var D=0;D<S.length;D++)n[D]=S[D];for(var j=0;j<b.length;j++){var M=b[j];M.alternation=M.alternation||k;for(var E=0;E<_.length;E++){var O=_[E];if(M.match.def===O.match.def&&("string"!=typeof C||-1!==t.inArray(M.locator[M.alternation].toString(),T))){M.match.mask===O.match.mask&&(b.splice(j,1),j--),-1===O.locator[M.alternation].toString().indexOf(M.locator[M.alternation])&&(O.locator[M.alternation]=O.locator[M.alternation]+","+M.locator[M.alternation],O.alternation=M.alternation);break}}}_=_.concat(b)}"string"==typeof C&&(_=t.map(_,function(e,i){if(isFinite(i)){var n,o=e.alternation,a=e.locator[o].toString().split(",");e.locator[o]=void 0,e.alternation=void 0;for(var s=0;s<a.length;s++)n=-1!==t.inArray(a[s],T),n&&(void 0!==e.locator[o]?(e.locator[o]+=",",e.locator[o]+=a[s]):e.locator[o]=parseInt(a[s]),e.alternation=o);if(void 0!==e.locator[o])return e}})),d=x.concat(_),l=e,u=d.length>0}else a=c(y.matches[C]||i.matches[C],[C].concat(r),f);if(a)return!0}else if(a.isQuantifier&&f!==i.matches[t.inArray(a,i.matches)-1])for(var L=a,F=n.length>0?n.shift():0;F<(isNaN(L.quantifier.max)?F+1:L.quantifier.max)&&e>=l;F++){var B=i.matches[t.inArray(L,i.matches)-1];if(a=c(B,[F].concat(r),B)){if(s=d[d.length-1].match,s.optionalQuantifier=F>L.quantifier.min-1,m(s,B)){if(F>L.quantifier.min-1){u=!0,l=e;break}return!0}return!0}}else if(a=o(a,n,r,f))return!0}else l++}for(var f=n.length>0?n.shift():0;f<i.matches.length;f++)if(i.matches[f].isQuantifier!==!0){var m=c(i.matches[f],[f].concat(a),r);if(m&&l===e)return m;if(l>e)break}}function a(t){var e=t[0]||t;return e.locator.slice()}var s,r=h().maskToken,l=i?n:0,c=i||[0],d=[],u=!1,p=i?i.join(""):"";if(e>-1){if(void 0===i){for(var f,m=e-1;void 0===(f=h().validPositions[m]||h().tests[m])&&m>-1;)m--;void 0!==f&&m>-1&&(c=a(f),p=c.join(""),f=f[0]||f,l=m)}if(h().tests[e]&&h().tests[e][0].cd===p)return h().tests[e];for(var g=c.shift();g<r.length;g++){var v=o(r[g],c,[g]);if(v&&l===e||l>e)break}}return(0===d.length||u)&&d.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),h().tests[e]=t.extend(!0,[],d),h().tests[e]}function x(){return void 0===h()._buffer&&(h()._buffer=l(!1,1)),h()._buffer}function k(t){if(void 0===h().buffer||t===!0){if(t===!0)for(var e in h().tests)void 0===h().validPositions[e]&&delete h().tests[e];h().buffer=l(!0,f(),!0)}return h().buffer}function C(t,e,i){var n;if(i=i,t===!0)p(),t=0,e=i.length;else for(n=t;e>n;n++)delete h().validPositions[n],delete h().tests[n];for(n=t;e>n;n++)p(!0),i[n]!==s.skipOptionalPartCharacter&&S(n,i[n],!0,!0)}function A(t,e){switch(e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t}function $(e,i){for(var n=s.greedy?i:i.slice(0,1),o=!1,a=0;a<e.length;a++)if(-1!==t.inArray(e[a],n)){o=!0;break}return o}function S(e,i,n,o){function a(e,i,n,o){var a=!1;return t.each(_(e),function(r,l){for(var c=l.match,d=i?1:0,u="",v=c.cardinality;v>d;v--)u+=j(e-(v-1));if(i&&(u+=i),k(!0),a=null!=c.fn?c.fn.test(u,h(),e,n,s):(i===c.def||i===s.skipOptionalPartCharacter)&&""!==c.def&&{c:c.placeholder||c.def,pos:e},a!==!1){var b=void 0!==a.c?a.c:i;b=b===s.skipOptionalPartCharacter&&null===c.fn?c.placeholder||c.def:b;var y=e,w=k();if(void 0!==a.remove&&(t.isArray(a.remove)||(a.remove=[a.remove]),t.each(a.remove.sort(function(t,e){return e-t}),function(t,e){g(e,e+1,!0)})),void 0!==a.insert&&(t.isArray(a.insert)||(a.insert=[a.insert]),t.each(a.insert.sort(function(t,e){return t-e}),function(t,e){S(e.pos,e.c,!1,o)})),a.refreshFromBuffer){var _=a.refreshFromBuffer;if(n=!0,C(_===!0?_:_.start,_.end,w),void 0===a.pos&&void 0===a.c)return a.pos=f(),!1;if(y=void 0!==a.pos?a.pos:e,y!==e)return a=t.extend(a,S(y,b,!0,o)),!1}else if(a!==!0&&void 0!==a.pos&&a.pos!==e&&(y=a.pos,C(e,y,k().slice()),y!==e))return a=t.extend(a,S(y,b,!0)),!1;return(a===!0||void 0!==a.pos||void 0!==a.c)&&(r>0&&p(!0),m(y,t.extend({},l,{input:A(b,c)}),o)||(a=!1),!1)}}),a}function r(e,i,n,o){for(var a,r,l,c,d,u,m=t.extend(!0,{},h().validPositions),g=t.extend(!0,{},h().tests),b=f();b>=0&&(c=h().validPositions[b],!c||void 0===c.alternation||(a=b,r=h().validPositions[a].alternation,v(a).locator[c.alternation]===c.locator[c.alternation]));b--);if(void 0!==r){a=parseInt(a);for(var y in h().validPositions)if(y=parseInt(y),c=h().validPositions[y],y>=a&&void 0!==c.alternation){var _;0===a?(_=[],t.each(h().tests[a],function(t,e){void 0!==e.locator[r]&&(_=_.concat(e.locator[r].toString().split(",")))})):_=h().validPositions[a].locator[r].toString().split(",");var x=void 0!==c.locator[r]?c.locator[r]:_[0];x.length>0&&(x=x.split(",")[0]);for(var k=0;k<_.length;k++){var C=[],A=0,$=0;if(x<_[k]){for(var T,I,P=y;P>=0;P--)if(T=h().validPositions[P],void 0!==T){var D=w(P,_[k]);h().validPositions[P].match.def!==D.match.def&&(C.push(h().validPositions[P].input),h().validPositions[P]=D,h().validPositions[P].input=E(P),null===h().validPositions[P].match.fn&&$++,T=D),I=T.locator[r],T.locator[r]=parseInt(_[k]);break}if(x!==T.locator[r]){for(d=y+1;d<f(void 0,!0)+1;d++)u=h().validPositions[d],u&&null!=u.match.fn?C.push(u.input):e>d&&A++,delete h().validPositions[d],delete h().tests[d];for(p(!0),s.keepStatic=!s.keepStatic,l=!0;C.length>0;){var j=C.shift();if(j!==s.skipOptionalPartCharacter&&!(l=S(f(void 0,!0)+1,j,!1,o)))break}if(T.alternation=r,T.locator[r]=I,l){var M=f(e)+1;for(d=y+1;d<f()+1;d++)u=h().validPositions[d],(void 0===u||null==u.match.fn)&&e>d&&$++;e+=$-A,l=S(e>M?M:e,i,n,o)}if(s.keepStatic=!s.keepStatic,l)return l;p(),h().validPositions=t.extend(!0,{},m),h().tests=t.extend(!0,{},g)}}}break}}return!1}function l(e,i){for(var n=h().validPositions[i],o=n.locator,a=o.length,s=e;i>s;s++)if(void 0===h().validPositions[s]&&!T(s,!0)){var r=_(s),l=r[0],c=-1;t.each(r,function(t,e){for(var i=0;a>i&&void 0!==e.locator[i]&&$(e.locator[i].toString().split(","),o[i].toString().split(","));i++)i>c&&(c=i,l=e)}),m(s,t.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}n=n===!0;for(var c=k(),d=e-1;d>-1&&!h().validPositions[d];d--);for(d++;e>d;d++)void 0===h().validPositions[d]&&((!T(d)||c[d]!==E(d))&&_(d).length>1||c[d]===s.radixPoint||"0"===c[d]&&t.inArray(s.radixPoint,c)<d)&&a(d,c[d],!0,o);var u=e,b=!1,y=t.extend(!0,{},h().validPositions);if(u<I()&&(b=a(u,i,n,o),(!n||o===!0)&&b===!1)){var x=h().validPositions[u];if(!x||null!==x.match.fn||x.match.def!==i&&i!==s.skipOptionalPartCharacter){if((s.insertMode||void 0===h().validPositions[P(u)])&&!T(u,!0)){var D=v(u).match,D=D.placeholder||D.def;a(u,D,n,o);for(var M=u+1,O=P(u);O>=M;M++)if(b=a(M,i,n,o),b!==!1){l(u,M),u=M;break}}}else b={caret:P(u)}}if(b===!1&&s.keepStatic&&(b=r(e,i,n,o)),b===!0&&(b={pos:u}),t.isFunction(s.postValidation)&&b!==!1&&!n&&o!==!0){var L=s.postValidation(k(!0),b,s);if(L){if(L.refreshFromBuffer){var F=L.refreshFromBuffer;C(F===!0?F:F.start,F.end,L.buffer),p(!0),b=L}}else p(!0),h().validPositions=t.extend(!0,{},y),b=!1}return b}function T(t,e){var i;if(e?(i=v(t).match,""==i.def&&(i=b(t))):i=b(t),null!=i.fn)return i.fn;if(e!==!0&&t>-1&&!s.keepStatic&&void 0===h().validPositions[t]){var n=_(t);return n.length>2}return!1}function I(){var t;ht=void 0!==dt?dt.maxLength:void 0,-1===ht&&(ht=void 0);var e,i=f(),n=h().validPositions[i],o=void 0!==n?n.locator.slice():void 0;for(e=i+1;void 0===n||null!==n.match.fn||null===n.match.fn&&""!==n.match.def;e++)n=v(e,o,e-1),o=n.locator.slice();var a=b(e-1);return t=""!==a.def?e:e-1,void 0===ht||ht>t?t:ht}function P(t,e){var i=I();if(t>=i)return i;for(var n=t;++n<i&&(e===!0&&(b(n).newBlockMarker!==!0||!T(n))||e!==!0&&!T(n)&&(s.nojumps!==!0||s.nojumpsThreshold>n)););return n}function D(t,e){var i=t;if(0>=i)return 0;for(;--i>0&&(e===!0&&b(i).newBlockMarker!==!0||e!==!0&&!T(i)););return i}function j(t){return void 0===h().validPositions[t]?E(t):h().validPositions[t].input}function M(e,i,n,o,a){if(o&&t.isFunction(s.onBeforeWrite)){var r=s.onBeforeWrite(o,i,n,s);if(r){if(r.refreshFromBuffer){var l=r.refreshFromBuffer;C(l===!0?l:l.start,l.end,r.buffer||i),i=k(!0)}void 0!==n&&(n=void 0!==r.caret?r.caret:n)}}e.inputmask._valueSet(i.join("")),void 0===n||void 0!==o&&"blur"===o.type||F(e,n),a===!0&&(gt=!0,t(e).trigger("input"))}function E(t,e){if(e=e||b(t),void 0!==e.placeholder)return e.placeholder;if(null===e.fn){if(t>-1&&!s.keepStatic&&void 0===h().validPositions[t]){var i,n=_(t),o=0;if(n.length>2)for(var a=0;a<n.length;a++)if(n[a].match.optionality!==!0&&n[a].match.optionalQuantifier!==!0&&(null===n[a].match.fn||void 0===i||n[a].match.fn.test(i.match.def,h(),t,!0,s)!==!1)&&(o++,null===n[a].match.fn&&(i=n[a]),o>1))return s.placeholder.charAt(t%s.placeholder.length)}return e.def}return s.placeholder.charAt(t%s.placeholder.length)}function O(i,n,o,a){function r(){var t=!1,e=x().slice(d,P(d)).join("").indexOf(c);if(-1!==e&&!T(d)){t=!0;for(var i=x().slice(d,d+e),n=0;n<i.length;n++)if(" "!==i[n]){t=!1;break}}return t}var l=a.slice(),c="",d=0;if(p(),h().p=P(-1),!o)if(s.autoUnmask!==!0){var u=x().slice(0,P(-1)).join(""),m=l.join("").match(new RegExp("^"+e.escapeRegex(u),"g"));m&&m.length>0&&(l.splice(0,m.length*u.length),d=P(d))}else d=P(d);t.each(l,function(e,n){if(void 0!==n){var a=new t.Event("keypress");a.which=n.charCodeAt(0),c+=n;var l=f(void 0,!0),u=h().validPositions[l],p=v(l+1,u?u.locator.slice():void 0,l);if(!r()||o||s.autoUnmask){var m=o?e:null==p.match.fn&&p.match.optionality&&l+1<h().p?l+1:h().p;N.call(i,a,!0,!1,o,m),d=m+1,c=""}else N.call(i,a,!0,!1,!0,l+1)}}),n&&M(i,k(),document.activeElement===i?P(f(0)):void 0,new t.Event("checkval"))}function L(e){if(e&&void 0===e.inputmask)return e.value;var i=[],n=h().validPositions;for(var o in n)n[o].match&&null!=n[o].match.fn&&i.push(n[o].input);var a=0===i.length?null:(ft?i.reverse():i).join("");if(null!==a){var r=(ft?k().slice().reverse():k()).join("");t.isFunction(s.onUnMask)&&(a=s.onUnMask(r,a,s)||a)}return a}function F(t,e,i,n){function o(t){if(n!==!0&&ft&&"number"==typeof t&&(!s.greedy||""!==s.placeholder)){var e=k().join("").length;t=e-t}return t}var a;if("number"!=typeof e)return t.setSelectionRange?(e=t.selectionStart,i=t.selectionEnd):window.getSelection?(a=window.getSelection().getRangeAt(0),(a.commonAncestorContainer.parentNode===t||a.commonAncestorContainer===t)&&(e=a.startOffset,i=a.endOffset)):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),i=e+a.text.length),{begin:o(e),end:o(i)};e=o(e),i=o(i),i="number"==typeof i?i:e;var r=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*i;if(t.scrollLeft=r>t.scrollWidth?r:0,c||s.insertMode!==!1||e!==i||i++,t.setSelectionRange)t.selectionStart=e,t.selectionEnd=i;else if(window.getSelection){if(a=document.createRange(),void 0===t.firstChild||null===t.firstChild){var l=document.createTextNode("");t.appendChild(l)}a.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),a.setEnd(t.firstChild,i<t.inputmask._valueGet().length?i:t.inputmask._valueGet().length),a.collapse(!0);var d=window.getSelection();d.removeAllRanges(),d.addRange(a)}else t.createTextRange&&(a=t.createTextRange(),a.collapse(!0),a.moveEnd("character",i),a.moveStart("character",e),a.select())}function B(e){var i,n,o=k(),a=o.length,s=f(),r={},l=h().validPositions[s],c=void 0!==l?l.locator.slice():void 0;for(i=s+1;i<o.length;i++)n=v(i,c,i-1),c=n.locator.slice(),r[i]=t.extend(!0,{},n);var d=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(i=a-1;i>s&&(n=r[i],(n.match.optionality||n.match.optionalQuantifier||d&&(d!==r[i].locator[l.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[l.alternation]&&$(n.locator[l.alternation].toString().split(","),d.toString().split(","))&&""!==_(i)[0].def))&&o[i]===E(i,n.match));i--)a--;return e?{l:a,def:r[a]?r[a].match:void 0}:a}function z(t){for(var e=B(),i=t.length-1;i>e&&!T(i);i--);return t.splice(e,i+1-e),t}function V(e){if(t.isFunction(s.isComplete))return s.isComplete(e,s);if("*"!==s.repeat){var i=!1,n=B(!0),o=D(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var a=0;o>=a;a++){var r=v(a).match;if(null!==r.fn&&void 0===h().validPositions[a]&&r.optionality!==!0&&r.optionalQuantifier!==!0||null===r.fn&&e[a]!==E(a,r)){i=!1;break}}}return i}}function q(t,e){return ft?t-e>1||t-e===1&&s.insertMode:e-t>1||e-t===1&&s.insertMode}function H(e){function i(e){if(t.valHooks&&(void 0===t.valHooks[e]||t.valHooks[e].inputmaskpatch!==!0)){var i=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},n=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var e=i(t),n=t.inputmask.maskset,o=n._buffer;return o=o?o.join(""):"",e!==o?e:""}return i(t)},set:function(e,i){var o,a=t(e);return o=n(e,i),e.inputmask&&a.trigger("setvalue"),o},inputmaskpatch:!0}}}function n(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():r.call(this)!==x().join("")?document.activeElement===this&&s.clearMaskOnLostFocus?(ft?z(k().slice()).reverse():z(k().slice())).join(""):r.call(this):"":r.call(this)}function o(e){l.call(this,e),this.inputmask&&t(this).trigger("setvalue")}function a(e){wt.on(e,"mouseenter",function(e){var i=t(this),n=this,o=n.inputmask._valueGet();
o!==k().join("")&&f()>0&&i.trigger("setvalue")})}var r,l;e.inputmask.__valueGet||(Object.getOwnPropertyDescriptor&&void 0===e.value?(r=function(){return this.textContent},l=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:n,set:o})):document.__lookupGetter__&&e.__lookupGetter__("value")?(r=e.__lookupGetter__("value"),l=e.__lookupSetter__("value"),e.__defineGetter__("value",n),e.__defineSetter__("value",o)):(r=function(){return e.value},l=function(t){e.value=t},i(e.type),a(e)),e.inputmask.__valueGet=r,e.inputmask._valueGet=function(t){return ft&&t!==!0?r.call(this.el).split("").reverse().join(""):r.call(this.el)},e.inputmask.__valueSet=l,e.inputmask._valueSet=function(t,e){l.call(this.el,null===t||void 0===t?"":e!==!0&&ft?t.split("").reverse().join(""):t)})}function W(i,n,o,a){function r(){if(s.keepStatic){p(!0);var e,n=[],o=t.extend(!0,{},h().validPositions);for(e=f();e>=0;e--){var a=h().validPositions[e];if(a&&(null!=a.match.fn&&n.push(a.input),delete h().validPositions[e],void 0!==a.alternation&&a.locator[a.alternation]===v(e).locator[a.alternation]))break}if(e>-1)for(;n.length>0;){h().p=P(f());var r=new t.Event("keypress");r.which=n.pop().charCodeAt(0),N.call(i,r,!0,!1,!1,h().p)}else h().validPositions=t.extend(!0,{},o)}}if((s.numericInput||ft)&&(n===e.keyCode.BACKSPACE?n=e.keyCode.DELETE:n===e.keyCode.DELETE&&(n=e.keyCode.BACKSPACE),ft)){var l=o.end;o.end=o.begin,o.begin=l}n===e.keyCode.BACKSPACE&&(o.end-o.begin<1||s.insertMode===!1)?(o.begin=D(o.begin),void 0===h().validPositions[o.begin]||h().validPositions[o.begin].input!==s.groupSeparator&&h().validPositions[o.begin].input!==s.radixPoint||o.begin--):n===e.keyCode.DELETE&&o.begin===o.end&&(o.end=T(o.end)?o.end+1:P(o.end)+1,void 0===h().validPositions[o.begin]||h().validPositions[o.begin].input!==s.groupSeparator&&h().validPositions[o.begin].input!==s.radixPoint||o.end++),g(o.begin,o.end,!1,a),a!==!0&&r();var c=f(o.begin);c<o.begin?(-1===c&&p(),h().p=P(c)):a!==!0&&(h().p=o.begin)}function R(n){var o=this,a=t(o),r=n.keyCode,l=F(o);if(r===e.keyCode.BACKSPACE||r===e.keyCode.DELETE||u&&127===r||n.ctrlKey&&88===r&&!i("cut"))n.preventDefault(),88===r&&(lt=k().join("")),W(o,r,l),M(o,k(),h().p,n,lt!==k().join("")),o.inputmask._valueGet()===x().join("")?a.trigger("cleared"):V(k())===!0&&a.trigger("complete"),s.showTooltip&&(o.title=s.tooltip||h().mask);else if(r===e.keyCode.END||r===e.keyCode.PAGE_DOWN){n.preventDefault();var c=P(f());s.insertMode||c!==I()||n.shiftKey||c--,F(o,n.shiftKey?l.begin:c,c,!0)}else r===e.keyCode.HOME&&!n.shiftKey||r===e.keyCode.PAGE_UP?(n.preventDefault(),F(o,0,n.shiftKey?l.begin:0,!0)):(s.undoOnEscape&&r===e.keyCode.ESCAPE||90===r&&n.ctrlKey)&&n.altKey!==!0?(O(o,!0,!1,lt.split("")),a.trigger("click")):r!==e.keyCode.INSERT||n.shiftKey||n.ctrlKey?s.tabThrough===!0&&r===e.keyCode.TAB?(n.shiftKey===!0?(null===b(l.begin).fn&&(l.begin=P(l.begin)),l.end=D(l.begin,!0),l.begin=D(l.end,!0)):(l.begin=P(l.begin,!0),l.end=P(l.begin,!0),l.end<I()&&l.end--),l.begin<I()&&(n.preventDefault(),F(o,l.begin,l.end))):s.insertMode!==!1||n.shiftKey||(r===e.keyCode.RIGHT?setTimeout(function(){var t=F(o);F(o,t.begin)},0):r===e.keyCode.LEFT&&setTimeout(function(){var t=F(o);F(o,ft?t.begin+1:t.begin-1)},0)):(s.insertMode=!s.insertMode,F(o,s.insertMode||l.begin!==I()?l.begin:l.begin-1));s.onKeyDown.call(this,n,k(),F(o).begin,s),vt=-1!==t.inArray(r,s.ignorables)}function N(i,n,o,a,r){var l=this,c=t(l),d=i.which||i.charCode||i.keyCode;if(!(n===!0||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||vt))return d===e.keyCode.ENTER&&lt!==k().join("")&&(lt=k().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(d){46===d&&i.shiftKey===!1&&","===s.radixPoint&&(d=44);var u,f=n?{begin:r,end:r}:F(l),g=String.fromCharCode(d),v=q(f.begin,f.end);v&&(h().undoPositions=t.extend(!0,{},h().validPositions),W(l,e.keyCode.DELETE,f,!0),f.begin=h().p,s.insertMode||(s.insertMode=!s.insertMode,m(f.begin,a),s.insertMode=!s.insertMode),v=!s.multi),h().writeOutBuffer=!0;var b=ft&&!v?f.end:f.begin,y=S(b,g,a);if(y!==!1){if(y!==!0&&(b=void 0!==y.pos?y.pos:b,g=void 0!==y.c?y.c:g),p(!0),void 0!==y.caret)u=y.caret;else{var w=h().validPositions;u=!s.keepStatic&&(void 0!==w[b+1]&&_(b+1,w[b].locator.slice(),b).length>1||void 0!==w[b].alternation)?b+1:P(b)}h().p=u}if(o!==!1){var x=this;if(setTimeout(function(){s.onKeyValidation.call(x,d,y,s)},0),h().writeOutBuffer&&y!==!1){var A=k();M(l,A,s.numericInput&&void 0===y.caret?D(u):u,i,n!==!0),n!==!0&&setTimeout(function(){V(A)===!0&&c.trigger("complete")},0)}else v&&(h().buffer=void 0,h().validPositions=h().undoPositions)}else v&&(h().buffer=void 0,h().validPositions=h().undoPositions);if(s.showTooltip&&(l.title=s.tooltip||h().mask),n&&t.isFunction(s.onBeforeWrite)){var $=s.onBeforeWrite(i,k(),u,s);if($&&$.refreshFromBuffer){var T=$.refreshFromBuffer;C(T===!0?T:T.start,T.end,$.buffer),p(!0),$.caret&&(h().p=$.caret)}}if(i.preventDefault(),n)return y}}function U(e){var i=this,n=e.originalEvent||e,o=t(i),a=i.inputmask._valueGet(!0),r=F(i),l=a.substr(0,r.begin),c=a.substr(r.end,a.length);l===x().slice(0,r.begin).join("")&&(l=""),c===x().slice(r.end).join("")&&(c=""),window.clipboardData&&window.clipboardData.getData?a=l+window.clipboardData.getData("Text")+c:n.clipboardData&&n.clipboardData.getData&&(a=l+n.clipboardData.getData("text/plain")+c);var d=a;if(t.isFunction(s.onBeforePaste)){if(d=s.onBeforePaste(a,s),d===!1)return e.preventDefault(),!1;d||(d=a)}return O(i,!1,!1,ft?d.split("").reverse():d.toString().split("")),M(i,k(),void 0,e,!0),o.trigger("click"),V(k())===!0&&o.trigger("complete"),!1}function Y(i){var n=this,o=n.inputmask._valueGet();if(k().join("")!==o){var a=F(n);if(o=o.replace(new RegExp("("+e.escapeRegex(x().join(""))+")*"),""),d){var s=o.replace(k().join(""),"");if(1===s.length){var r=new t.Event("keypress");return r.which=s.charCodeAt(0),N.call(n,r,!0,!0,!1,h().validPositions[a.begin-1]?a.begin:a.begin-1),!1}}if(a.begin>o.length&&(F(n,o.length),a=F(n)),k().length-o.length!==1||o.charAt(a.begin)===k()[a.begin]||o.charAt(a.begin+1)===k()[a.begin]||T(a.begin)){for(var l=f()+1,c=k().slice(l).join("");null===o.match(e.escapeRegex(c)+"$");)c=c.slice(1);o=o.replace(c,""),o=o.split(""),O(n,!0,!1,o),V(k())===!0&&t(n).trigger("complete")}else i.keyCode=e.keyCode.BACKSPACE,R.call(n,i);i.preventDefault()}}function K(t){var e=t.originalEvent||t;lt=k().join(""),""===ct||0!==e.data.indexOf(ct)}function Q(e){var i=this,n=e.originalEvent||e,o=k().join("");0===n.data.indexOf(ct)&&(p(),h().p=P(-1));for(var a=n.data,r=0;r<a.length;r++){var l=new t.Event("keypress");l.which=a.charCodeAt(r),mt=!1,vt=!1,N.call(i,l,!0,!1,!1,h().p)}o!==k().join("")&&setTimeout(function(){var t=h().p;M(i,k(),s.numericInput?D(t):t)},0),ct=n.data}function G(t){}function Z(e){var i=this,n=i.inputmask._valueGet();O(i,!0,!1,(t.isFunction(s.onBeforeMask)?s.onBeforeMask(n,s)||n:n).split("")),lt=k().join(""),(s.clearMaskOnLostFocus||s.clearIncomplete)&&i.inputmask._valueGet()===x().join("")&&i.inputmask._valueSet("")}function X(t){var e=this,i=e.inputmask._valueGet();s.showMaskOnFocus&&(!s.showMaskOnHover||s.showMaskOnHover&&""===i)?e.inputmask._valueGet()!==k().join("")&&M(e,k(),P(f())):bt===!1&&F(e,P(f())),s.positionCaretOnTab===!0&&setTimeout(function(){F(e,P(f()))},0),lt=k().join("")}function J(t){var e=this;if(bt=!1,s.clearMaskOnLostFocus&&document.activeElement!==e){var i=k().slice(),n=e.inputmask._valueGet();n!==e.getAttribute("placeholder")&&""!==n&&(-1===f()&&n===x().join("")?i=[]:z(i),M(e,i))}}function tt(e){function i(e){if(s.radixFocus&&""!==s.radixPoint){var i=h().validPositions;if(void 0===i[e]||i[e].input===E(e)){if(e<P(-1))return!0;var n=t.inArray(s.radixPoint,k());if(-1!==n){for(var o in i)if(o>n&&i[o].input!==E(o))return!1;return!0}}}return!1}var n=this;if(document.activeElement===n){var o=F(n);if(o.begin===o.end)if(i(o.begin))F(n,s.numericInput?P(t.inArray(s.radixPoint,k())):t.inArray(s.radixPoint,k()));else{var a=o.begin,r=f(a),l=P(r);l>a?F(n,T(a)||T(a-1)?a:P(a)):((k()[l]!==E(l)||!T(l,!0)&&b(l).def===E(l))&&(l=P(l)),F(n,l))}}}function et(t){var e=this;setTimeout(function(){F(e,0,P(f()))},0)}function it(i){var n=this,o=t(n),a=F(n),r=i.originalEvent||i,l=window.clipboardData||r.clipboardData,c=ft?k().slice(a.end,a.begin):k().slice(a.begin,a.end);l.setData("text",ft?c.reverse().join(""):c.join("")),document.execCommand&&document.execCommand("copy"),W(n,e.keyCode.DELETE,a),M(n,k(),h().p,i,lt!==k().join("")),n.inputmask._valueGet()===x().join("")&&o.trigger("cleared"),s.showTooltip&&(n.title=s.tooltip||h().mask)}function nt(e){var i=t(this),n=this;if(n.inputmask){var o=n.inputmask._valueGet(),a=k().slice();lt!==a.join("")&&setTimeout(function(){i.trigger("change"),lt=a.join("")},0),""!==o&&(s.clearMaskOnLostFocus&&(-1===f()&&o===x().join("")?a=[]:z(a)),V(a)===!1&&(setTimeout(function(){i.trigger("incomplete")},0),s.clearIncomplete&&(p(),a=s.clearMaskOnLostFocus?[]:x().slice())),M(n,a,void 0,e))}}function ot(t){var e=this;bt=!0,document.activeElement!==e&&s.showMaskOnHover&&e.inputmask._valueGet()!==k().join("")&&M(e,k())}function at(t){lt!==k().join("")&&ut.trigger("change"),s.clearMaskOnLostFocus&&-1===f()&&dt.inputmask._valueGet&&dt.inputmask._valueGet()===x().join("")&&dt.inputmask._valueSet(""),s.removeMaskOnSubmit&&(dt.inputmask._valueSet(dt.inputmask.unmaskedvalue(),!0),setTimeout(function(){M(dt,k())},0))}function st(t){setTimeout(function(){ut.trigger("setvalue")},0)}function rt(e){if(dt=e,ut=t(dt),s.showTooltip&&(dt.title=s.tooltip||h().mask),("rtl"===dt.dir||s.rightAlign)&&(dt.style.textAlign="right"),("rtl"===dt.dir||s.numericInput)&&(dt.dir="ltr",dt.removeAttribute("dir"),dt.inputmask.isRTL=!0,ft=!0),wt.off(dt),H(dt),n(dt,s)&&(wt.on(dt,"submit",at),wt.on(dt,"reset",st),wt.on(dt,"mouseenter",ot),wt.on(dt,"blur",nt),wt.on(dt,"focus",X),wt.on(dt,"mouseleave",J),wt.on(dt,"click",tt),wt.on(dt,"dblclick",et),wt.on(dt,"paste",U),wt.on(dt,"dragdrop",U),wt.on(dt,"drop",U),wt.on(dt,"cut",it),wt.on(dt,"complete",s.oncomplete),wt.on(dt,"incomplete",s.onincomplete),wt.on(dt,"cleared",s.oncleared),wt.on(dt,"keydown",R),wt.on(dt,"keypress",N),wt.on(dt,"input",Y),c||(wt.on(dt,"compositionstart",K),wt.on(dt,"compositionupdate",Q),wt.on(dt,"compositionend",G))),wt.on(dt,"setvalue",Z),""!==dt.inputmask._valueGet()||s.clearMaskOnLostFocus===!1){var i=t.isFunction(s.onBeforeMask)?s.onBeforeMask(dt.inputmask._valueGet(),s)||dt.inputmask._valueGet():dt.inputmask._valueGet();O(dt,!0,!1,i.split(""));var o=k().slice();lt=o.join(""),V(o)===!1&&s.clearIncomplete&&p(),s.clearMaskOnLostFocus&&(o.join("")===x().join("")?o=[]:z(o)),M(dt,o),document.activeElement===dt&&F(dt,P(f()))}}var lt,ct,dt,ut,ht,pt,ft=!1,mt=!1,gt=!1,vt=!1,bt=!0,yt=!1,wt={on:function(i,n,o){var a=function(i){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var n=t.data(this,"_inputmask_opts");n?new e(n).mask(this):wt.off(this)}else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||s.tabThrough===!1&&i.keyCode===e.keyCode.TAB))){switch(i.type){case"input":if(gt===!0||yt===!0)return gt=yt,i.preventDefault();break;case"keydown":mt=!1,gt=!1,yt=!1;break;case"keypress":if(mt===!0)return i.preventDefault();mt=!0;break;case"compositionstart":yt=!0;break;case"compositionupdate":gt=!0;break;case"compositionend":yt=!1;break;case"cut":gt=!0;break;case"click":if(d){var a=this;return setTimeout(function(){o.apply(a,arguments)},0),!1}}return o.apply(this,arguments)}i.preventDefault()}};i.inputmask.events[n]=i.inputmask.events[n]||[],i.inputmask.events[n].push(a),-1!==t.inArray(n,["submit","reset"])?null!=i.form&&t(i.form).on(n,a):t(i).on(n,a)},off:function(e,i){if(e.inputmask&&e.inputmask.events){var n;i?(n=[],n[i]=e.inputmask.events[i]):n=e.inputmask.events,t.each(n,function(i,n){for(;n.length>0;){var o=n.pop();-1!==t.inArray(i,["submit","reset"])?null!=e.form&&t(e.form).off(i,o):t(e).off(i,o)}delete e.inputmask.events[i]})}}};if(void 0!==o)switch(o.action){case"isComplete":return dt=o.el,V(k());case"unmaskedvalue":return dt=o.el,void 0!==dt&&void 0!==dt.inputmask?(a=dt.inputmask.maskset,s=dt.inputmask.opts,ft=dt.inputmask.isRTL):(pt=o.value,s.numericInput&&(ft=!0),pt=(t.isFunction(s.onBeforeMask)?s.onBeforeMask(pt,s)||pt:pt).split(""),O(void 0,!1,!1,ft?pt.reverse():pt),t.isFunction(s.onBeforeWrite)&&s.onBeforeWrite(void 0,k(),0,s)),L(dt);case"mask":dt=o.el,a=dt.inputmask.maskset,s=dt.inputmask.opts,ft=dt.inputmask.isRTL,lt=k().join(""),rt(dt);break;case"format":return s.numericInput&&(ft=!0),pt=(t.isFunction(s.onBeforeMask)?s.onBeforeMask(o.value,s)||o.value:o.value).split(""),O(void 0,!1,!1,ft?pt.reverse():pt),t.isFunction(s.onBeforeWrite)&&s.onBeforeWrite(void 0,k(),0,s),o.metadata?{value:ft?k().slice().reverse().join(""):k().join(""),metadata:r({action:"getmetadata"},a,s)}:ft?k().slice().reverse().join(""):k().join("");case"isValid":s.numericInput&&(ft=!0),o.value?(pt=o.value.split(""),O(void 0,!1,!0,ft?pt.reverse():pt)):o.value=k().join("");for(var _t=k(),xt=B(),kt=_t.length-1;kt>xt&&!T(kt);kt--);return _t.splice(xt,kt+1-xt),V(_t)&&o.value===k().join("");case"getemptymask":return x();case"remove":dt=o.el,ut=t(dt),a=dt.inputmask.maskset,s=dt.inputmask.opts,dt.inputmask._valueSet(L(dt)),wt.off(dt);var Ct;Object.getOwnPropertyDescriptor&&(Ct=Object.getOwnPropertyDescriptor(dt,"value")),Ct&&Ct.get?dt.inputmask.__valueGet&&Object.defineProperty(dt,"value",{get:dt.inputmask.__valueGet,set:dt.inputmask.__valueSet}):document.__lookupGetter__&&dt.__lookupGetter__("value")&&dt.inputmask.__valueGet&&(dt.__defineGetter__("value",dt.inputmask.__valueGet),dt.__defineSetter__("value",dt.inputmask.__valueSet)),dt.inputmask=void 0;break;case"getmetadata":if(t.isArray(a.metadata)){for(var At,$t=f(),St=$t;St>=0;St--)if(h().validPositions[St]&&void 0!==h().validPositions[St].alternation){At=h().validPositions[St].alternation;break}return void 0!==At?a.metadata[h().validPositions[$t].locator[At]]:a.metadata[0]}return a.metadata}}e.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:t.noop,onBeforeMask:null,onBeforePaste:function(e,i){return t.isFunction(i.onBeforeMask)?i.onBeforeMask(e,i):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:t.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1},masksCache:{},mask:function(i){var n=this;return"string"==typeof i&&(i=document.getElementById(i)||document.querySelectorAll(i)),i=i.nodeName?[i]:i,t.each(i,function(i,o){var l=t.extend(!0,{},n.opts);a(o,l,t.extend(!0,{},n.userOptions));var c=s(l,n.noMasksCache);void 0!==c&&(void 0!==o.inputmask&&o.inputmask.remove(),o.inputmask=new e,o.inputmask.opts=l,o.inputmask.noMasksCache=n.noMasksCache,o.inputmask.userOptions=t.extend(!0,{},n.userOptions),o.inputmask.el=o,o.inputmask.maskset=c,o.inputmask.isRTL=!1,t.data(o,"_inputmask_opts",l),r({action:"mask",el:o}))}),i&&i[0]?i[0].inputmask||this:this},option:function(e){return"string"==typeof e?this.opts[e]:"object"==typeof e?(t.extend(this.opts,e),t.extend(this.userOptions,e),this.el&&(void 0!==e.mask||void 0!==e.alias?this.mask(this.el):(t.data(this.el,"_inputmask_opts",this.opts),r({action:"mask",el:this.el}))),this):void 0},unmaskedvalue:function(t){return r({action:"unmaskedvalue",el:this.el,value:t},this.el&&this.el.inputmask?this.el.inputmask.maskset:s(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(r({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return r({action:"getemptymask"},this.maskset||s(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return r({action:"isComplete",el:this.el},this.maskset||s(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return r({action:"getmetadata"},this.maskset||s(this.opts,this.noMasksCache),this.opts)},isValid:function(t){return r({action:"isValid",value:t},this.maskset||s(this.opts,this.noMasksCache),this.opts)},format:function(t,e){return r({action:"format",value:t,metadata:e},this.maskset||s(this.opts,this.noMasksCache),this.opts)}},e.extendDefaults=function(i){t.extend(!0,e.prototype.defaults,i)},e.extendDefinitions=function(i){t.extend(!0,e.prototype.defaults.definitions,i)},e.extendAliases=function(i){t.extend(!0,e.prototype.defaults.aliases,i)},e.format=function(t,i,n){return e(i).format(t,n)},e.unmask=function(t,i){return e(i).unmaskedvalue(t)},e.isValid=function(t,i){return e(i).isValid(t)},e.remove=function(e){t.each(e,function(t,e){e.inputmask&&e.inputmask.remove()})},e.escapeRegex=function(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return t.replace(new RegExp("(\\"+e.join("|\\")+")","gim"),"\\$1")},e.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};var l=navigator.userAgent,c=/mobile/i.test(l),d=/iemobile/i.test(l),u=/iphone/i.test(l)&&!d;return/android.*safari.*/i.test(l)&&!d,window.Inputmask=e,e}(jQuery),function(t,e){return void 0===t.fn.inputmask&&(t.fn.inputmask=function(i,n){var o,a=this[0];if(n=n||{},"string"==typeof i)switch(i){case"unmaskedvalue":return a&&a.inputmask?a.inputmask.unmaskedvalue():t(a).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return a&&a.inputmask?a.inputmask.getemptymask():"";case"hasMaskedValue":return!(!a||!a.inputmask)&&a.inputmask.hasMaskedValue();case"isComplete":return!a||!a.inputmask||a.inputmask.isComplete();case"getmetadata":return a&&a.inputmask?a.inputmask.getmetadata():void 0;case"setvalue":t(a).val(n),a&&void 0!==a.inputmask&&t(a).triggerHandler("setvalue");break;case"option":if("string"!=typeof n)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(n):void 0});if(a&&void 0!==a.inputmask)return a.inputmask.option(n);break;default:return n.alias=i,o=new e(n),this.each(function(){o.mask(this)})}else{if("object"==typeof i)return o=new e(i),void 0===i.mask&&void 0===i.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(i):void o.mask(this)}):this.each(function(){o.mask(this)});if(void 0===i)return this.each(function(){o=new e(n),o.mask(this)})}}),t.fn.inputmask}(jQuery,Inputmask),function(t,e){return e.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),e.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+i+"[01])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+i+"(0[1-9]|1[012]))|(30"+i+"(0[13-9]|1[012]))|(31"+i+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(t,e,i){if(isNaN(t))return!1;var n=parseInt(t.concat(e.toString().slice(t.length))),o=parseInt(t.concat(i.toString().slice(t.length)));return!isNaN(n)&&(n>=e&&i>=n)||!isNaN(o)&&(o>=e&&i>=o)},determinebaseyear:function(t,e,i){var n=(new Date).getFullYear();if(t>n)return t;if(n>e){for(var o=e.toString().slice(0,2),a=e.toString().slice(2,4);o+i>e;)o--;var s=o+a;return t>s?t:s}return n},onKeyDown:function(i,n,o,a){var s=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var r=new Date;s.val(r.getDate().toString()+(r.getMonth()+1).toString()+r.getFullYear().toString()),s.trigger("setvalue")}},getFrontValue:function(t,e,i){for(var n=0,o=0,a=0;a<t.length&&"2"!==t.charAt(a);a++){var s=i.definitions[t.charAt(a)];s?(n+=o,o=s.cardinality):o++}return e.join("").substr(n,o)},definitions:{1:{validator:function(t,e,i,n,o){var a=o.regex.val1.test(t);return n||a||t.charAt(1)!==o.separator&&-1==="-./".indexOf(t.charAt(1))||!(a=o.regex.val1.test("0"+t.charAt(0)))?a:(e.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,o){var a=t;isNaN(e.buffer[i+1])||(a+=e.buffer[i+1]);var s=1===a.length?o.regex.val1pre.test(a):o.regex.val1.test(a);if(!n&&!s){if(s=o.regex.val1.test(t+"0"))return e.buffer[i]=t,e.buffer[++i]="0",{pos:i,c:"0"};if(s=o.regex.val1.test("0"+t))return e.buffer[i]="0",i++,{pos:i}}return s},cardinality:1}]},2:{validator:function(t,e,i,n,o){var a=o.getFrontValue(e.mask,e.buffer,o);-1!==a.indexOf(o.placeholder[0])&&(a="01"+o.separator);var s=o.regex.val2(o.separator).test(a+t);if(!n&&!s&&(t.charAt(1)===o.separator||-1!=="-./".indexOf(t.charAt(1)))&&(s=o.regex.val2(o.separator).test(a+"0"+t.charAt(0))))return e.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:t.charAt(0)};if(o.mask.indexOf("2")===o.mask.length-1&&s){var r=e.buffer.join("").substr(4,4)+t;if(r!==o.leapday)return!0;var l=parseInt(e.buffer.join("").substr(0,4),10);return l%4===0&&(l%100!==0||l%400===0)}return s},cardinality:2,prevalidator:[{validator:function(t,e,i,n,o){isNaN(e.buffer[i+1])||(t+=e.buffer[i+1]);var a=o.getFrontValue(e.mask,e.buffer,o);-1!==a.indexOf(o.placeholder[0])&&(a="01"+o.separator);var s=1===t.length?o.regex.val2pre(o.separator).test(a+t):o.regex.val2(o.separator).test(a+t);return n||s||!(s=o.regex.val2(o.separator).test(a+"0"+t))?s:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},y:{validator:function(t,e,i,n,o){if(o.isInYearRange(t,o.yearrange.minyear,o.yearrange.maxyear)){var a=e.buffer.join("").substr(0,6);if(a!==o.leapday)return!0;var s=parseInt(t,10);return s%4===0&&(s%100!==0||s%400===0)}return!1},cardinality:4,prevalidator:[{validator:function(t,e,i,n,o){var a=o.isInYearRange(t,o.yearrange.minyear,o.yearrange.maxyear);if(!n&&!a){var s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,t+"0").toString().slice(0,1);if(a=o.isInYearRange(s+t,o.yearrange.minyear,o.yearrange.maxyear))return e.buffer[i++]=s.charAt(0),{pos:i};if(s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,t+"0").toString().slice(0,2),a=o.isInYearRange(s+t,o.yearrange.minyear,o.yearrange.maxyear))return e.buffer[i++]=s.charAt(0),e.buffer[i++]=s.charAt(1),{pos:i}}return a},cardinality:1},{validator:function(t,e,i,n,o){var a=o.isInYearRange(t,o.yearrange.minyear,o.yearrange.maxyear);if(!n&&!a){var s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,t).toString().slice(0,2);if(a=o.isInYearRange(t[0]+s[1]+t[1],o.yearrange.minyear,o.yearrange.maxyear))return e.buffer[i++]=s.charAt(1),{pos:i};if(s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,t).toString().slice(0,2),o.isInYearRange(s+t,o.yearrange.minyear,o.yearrange.maxyear)){var r=e.buffer.join("").substr(0,6);if(r!==o.leapday)a=!0;else{var l=parseInt(t,10);a=l%4===0&&(l%100!==0||l%400===0)}}else a=!1;if(a)return e.buffer[i-1]=s.charAt(0),e.buffer[i++]=s.charAt(1),e.buffer[i++]=t.charAt(0),{refreshFromBuffer:{start:i-3,end:i},pos:i}}return a},cardinality:2},{validator:function(t,e,i,n,o){return o.isInYearRange(t,o.yearrange.minyear,o.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(i,n,o,a){var s=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var r=new Date;s.val((r.getMonth()+1).toString()+r.getDate().toString()+r.getFullYear().toString()),s.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(i,n,o,a){var s=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var r=new Date;s.val(r.getFullYear().toString()+(r.getMonth()+1).toString()+r.getDate().toString()),s.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(t,e,i,n,o){if("24"===o.hourFormat&&24===parseInt(t,10))return e.buffer[i-1]="0",e.buffer[i]="0",{refreshFromBuffer:{start:i-1,end:i},c:"0"};var a=o.regex.hrs.test(t);if(!n&&!a&&(t.charAt(1)===o.timeseparator||-1!=="-.:".indexOf(t.charAt(1)))&&(a=o.regex.hrs.test("0"+t.charAt(0))))return e.buffer[i-1]="0",e.buffer[i]=t.charAt(0),i++,{refreshFromBuffer:{start:i-2,end:i},pos:i,c:o.timeseparator};if(a&&"24"!==o.hourFormat&&o.regex.hrs24.test(t)){var s=parseInt(t,10);return 24===s?(e.buffer[i+5]="a",e.buffer[i+6]="m"):(e.buffer[i+5]="p",e.buffer[i+6]="m"),s-=12,10>s?(e.buffer[i]=s.toString(),e.buffer[i-1]="0"):(e.buffer[i]=s.toString().charAt(1),e.buffer[i-1]=s.toString().charAt(0)),{refreshFromBuffer:{start:i-1,end:i+6},c:e.buffer[i]}}return a},cardinality:2,prevalidator:[{validator:function(t,e,i,n,o){var a=o.regex.hrspre.test(t);return n||a||!(a=o.regex.hrs.test("0"+t))?a:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(t,e,i,n,o){var a=o.regex.mspre.test(t);return n||a||!(a=o.regex.ms.test("0"+t))?a:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},t:{validator:function(t,e,i,n,o){return o.regex.ampm.test(t+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(i,n,o,a){var s=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var r=new Date;s.val((r.getMonth()+1).toString()+r.getDate().toString()+r.getFullYear().toString()),s.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"[0-3])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+i+"30)|((0[1-6])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),e}(jQuery,Inputmask),function(t,e){return e.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),e.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(t,e,i,n,o){return i-1>-1&&"."!==e.buffer[i-1]?(t=e.buffer[i-1]+t,t=i-2>-1&&"."!==e.buffer[i-2]?e.buffer[i-2]+t:"0"+t):t="00"+t,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(t)},cardinality:1}},onUnMask:function(t,e,i){return t}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(t,e){return t=t.toLowerCase(),t.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}},onUnMask:function(t,e,i){return t}},mac:{mask:"##:##:##:##:##:##"}}),e}(jQuery,Inputmask),function(t,e){return e.extendAliases({numeric:{mask:function(t){function e(e){for(var i="",n=0;n<e.length;n++)i+=t.definitions[e.charAt(n)]?"\\"+e.charAt(n):e.charAt(n);return i}if(0!==t.repeat&&isNaN(t.integerDigits)&&(t.integerDigits=t.repeat),t.repeat=0,t.groupSeparator===t.radixPoint&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.autoGroup=t.autoGroup&&""!==t.groupSeparator,t.autoGroup&&("string"==typeof t.groupSize&&isFinite(t.groupSize)&&(t.groupSize=parseInt(t.groupSize)),isFinite(t.integerDigits))){var i=Math.floor(t.integerDigits/t.groupSize),n=t.integerDigits%t.groupSize;t.integerDigits=parseInt(t.integerDigits)+(0===n?i-1:i),t.integerDigits<1&&(t.integerDigits="*")}t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),t.radixFocus=t.radixFocus&&""!==t.placeholder&&t.integerOptional===!0,t.definitions[";"]=t.definitions["~"],t.definitions[";"].definitionSymbol="~",1==t.numericInput&&(t.radixFocus=!1,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t.decimalProtect=!1);var o=e(t.prefix);return o+="[+]",o+=t.integerOptional===!0?"~{1,"+t.integerDigits+"}":"~{"+t.integerDigits+"}",void 0!==t.digits&&(isNaN(t.digits)||parseInt(t.digits)>0)&&(o+=t.digitsOptional?"["+(t.decimalProtect?":":t.radixPoint)+";{1,"+t.digits+"}]":(t.decimalProtect?":":t.radixPoint)+";{"+t.digits+"}"),""!==t.negationSymbol.back&&(o+="[-]"),
o+=e(t.suffix),t.greedy=!1,o},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(i,n,o,a){a.numericInput===!0&&(i=i.reverse(),isFinite(n)&&(n=i.join("").length-n-1));var s,r,l=!1;i.length>=a.suffix.length&&i.join("").indexOf(a.suffix)===i.length-a.suffix.length&&(i.length=i.length-a.suffix.length,l=!0),n=n>=i.length?i.length-1:n<a.prefix.length?a.prefix.length:n;var c=!1,d=i[n];if(""===a.groupSeparator||a.numericInput!==!0&&-1!==t.inArray(a.radixPoint,i)&&n>t.inArray(a.radixPoint,i)||new RegExp("["+e.escapeRegex(a.negationSymbol.front)+"+]").test(d)){if(l)for(s=0,r=a.suffix.length;r>s;s++)i.push(a.suffix.charAt(s));return{pos:n}}var u=i.slice();d===a.groupSeparator&&(u.splice(n--,1),d=u[n]),o?d!==a.radixPoint&&(u[n]="?"):u.splice(n,0,"?");var h=u.join(""),p=h;if(h.length>0&&a.autoGroup||o&&-1!==h.indexOf(a.groupSeparator)){var f=e.escapeRegex(a.groupSeparator);c=0===h.indexOf(a.groupSeparator),h=h.replace(new RegExp(f,"g"),"");var m=h.split(a.radixPoint);if(h=""===a.radixPoint?h:m[0],h!==a.prefix+"?0"&&h.length>=a.groupSize+a.prefix.length)for(var g=new RegExp("([-+]?[\\d?]+)([\\d?]{"+a.groupSize+"})");g.test(h);)h=h.replace(g,"$1"+a.groupSeparator+"$2"),h=h.replace(a.groupSeparator+a.groupSeparator,a.groupSeparator);""!==a.radixPoint&&m.length>1&&(h+=a.radixPoint+m[1])}for(c=p!==h,i.length=h.length,s=0,r=h.length;r>s;s++)i[s]=h.charAt(s);var v=t.inArray("?",i);if(-1===v&&d===a.radixPoint&&(v=t.inArray(a.radixPoint,i)),o?i[v]=d:i.splice(v,1),!c&&l)for(s=0,r=a.suffix.length;r>s;s++)i.push(a.suffix.charAt(s));return v=a.numericInput&&isFinite(n)?i.join("").length-v-1:v,a.numericInput&&(i=i.reverse(),t.inArray(a.radixPoint,i)<v&&i.join("").length-a.suffix.length!==v&&(v-=1)),{pos:v,refreshFromBuffer:c,buffer:i}},onBeforeWrite:function(i,n,o,a){if(i&&("blur"===i.type||"checkval"===i.type)){var s=n.join(""),r=s.replace(a.prefix,"");if(r=r.replace(a.suffix,""),r=r.replace(new RegExp(e.escapeRegex(a.groupSeparator),"g"),""),","===a.radixPoint&&(r=r.replace(e.escapeRegex(a.radixPoint),".")),isFinite(r)&&isFinite(a.min)&&parseFloat(r)<parseFloat(a.min))return t.extend(!0,{refreshFromBuffer:!0,buffer:(a.prefix+a.min).split("")},a.postFormat((a.prefix+a.min).split(""),0,!0,a));if(a.numericInput!==!0){var l=""!==a.radixPoint?n.join("").split(a.radixPoint):[n.join("")],c=l[0].match(a.regex.integerPart(a)),d=2===l.length?l[1].match(a.regex.integerNPart(a)):void 0;if(c){c[0]!==a.negationSymbol.front+"0"&&c[0]!==a.negationSymbol.front&&"+"!==c[0]||void 0!==d&&!d[0].match(/^0+$/)||n.splice(c.index,1);var u=t.inArray(a.radixPoint,n);if(-1!==u){if(isFinite(a.digits)&&!a.digitsOptional){for(var h=1;h<=a.digits;h++)(void 0===n[u+h]||n[u+h]===a.placeholder.charAt(0))&&(n[u+h]="0");return{refreshFromBuffer:s!==n.join(""),buffer:n}}if(u===n.length-a.suffix.length-1)return n.splice(u,1),{refreshFromBuffer:!0,buffer:n}}}}}if(a.autoGroup){var p=a.postFormat(n,a.numericInput?o:o-1,!0,a);return p.caret=o<=a.prefix.length?p.pos:p.pos+1,p}},regex:{integerPart:function(t){return new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+e.escapeRegex(t.groupSeparator)+"]+")}},signHandler:function(t,e,i,n,o){if(!n&&o.allowMinus&&"-"===t||o.allowPlus&&"+"===t){var a=e.buffer.join("").match(o.regex.integerPart(o));if(a&&a[0].length>0)return e.buffer[a.index]===("-"===t?"+":o.negationSymbol.front)?"-"===t?""!==o.negationSymbol.back?{pos:a.index,c:o.negationSymbol.front,remove:a.index,caret:i,insert:{pos:e.buffer.length-o.suffix.length-1,c:o.negationSymbol.back}}:{pos:a.index,c:o.negationSymbol.front,remove:a.index,caret:i}:""!==o.negationSymbol.back?{pos:a.index,c:"+",remove:[a.index,e.buffer.length-o.suffix.length-1],caret:i}:{pos:a.index,c:"+",remove:a.index,caret:i}:e.buffer[a.index]===("-"===t?o.negationSymbol.front:"+")?"-"===t&&""!==o.negationSymbol.back?{remove:[a.index,e.buffer.length-o.suffix.length-1],caret:i-1}:{remove:a.index,caret:i-1}:"-"===t?""!==o.negationSymbol.back?{pos:a.index,c:o.negationSymbol.front,caret:i+1,insert:{pos:e.buffer.length-o.suffix.length,c:o.negationSymbol.back}}:{pos:a.index,c:o.negationSymbol.front,caret:i+1}:{pos:a.index,c:t,caret:i+1}}return!1},radixHandler:function(e,i,n,o,a){if(!o&&(-1!==t.inArray(e,[",","."])&&(e=a.radixPoint),e===a.radixPoint&&void 0!==a.digits&&(isNaN(a.digits)||parseInt(a.digits)>0))){var s=t.inArray(a.radixPoint,i.buffer),r=i.buffer.join("").match(a.regex.integerPart(a));if(-1!==s&&i.validPositions[s])return i.validPositions[s-1]?{caret:s+1}:{pos:r.index,c:r[0],caret:s+1};if(!r||"0"===r[0]&&r.index+1!==n)return i.buffer[r?r.index:n]="0",{pos:(r?r.index:n)+1,c:a.radixPoint}}return!1},leadingZeroHandler:function(e,i,n,o,a){if(a.numericInput===!0){if("0"===i.buffer[i.buffer.length-a.prefix.length-1])return{pos:n,remove:i.buffer.length-a.prefix.length-1}}else{var s=i.buffer.join("").match(a.regex.integerNPart(a)),r=t.inArray(a.radixPoint,i.buffer);if(s&&!o&&(-1===r||r>=n))if(0===s[0].indexOf("0")){n<a.prefix.length&&(n=s.index);var l=t.inArray(a.radixPoint,i._buffer),c=i._buffer&&i.buffer.slice(r).join("")===i._buffer.slice(l).join("")||0===parseInt(i.buffer.slice(r+1).join("")),d=i._buffer&&i.buffer.slice(s.index,r).join("")===i._buffer.slice(a.prefix.length,l).join("")||"0"===i.buffer.slice(s.index,r).join("");if(-1===r||c&&d)return i.buffer.splice(s.index,1),n=n>s.index?n-1:s.index,{pos:n,remove:s.index};if(s.index+1===n||"0"===e)return i.buffer.splice(s.index,1),n=s.index,{pos:n,remove:s.index}}else if("0"===e&&n<=s.index&&s[0]!==a.groupSeparator)return!1}return!0},postValidation:function(t,i,n){var o=!0,a=n.numericInput?t.slice().reverse().join(""):t.join(""),s=a.replace(n.prefix,"");return s=s.replace(n.suffix,""),s=s.replace(new RegExp(e.escapeRegex(n.groupSeparator),"g"),""),","===n.radixPoint&&(s=s.replace(e.escapeRegex(n.radixPoint),".")),s=s.replace(new RegExp("^"+e.escapeRegex(n.negationSymbol.front)),"-"),s=s.replace(new RegExp(e.escapeRegex(n.negationSymbol.back)+"$"),""),s=s===n.negationSymbol.front?s+"0":s,isFinite(s)&&(null!==n.max&&isFinite(n.max)&&(s=parseFloat(s)>parseFloat(n.max)?n.max:s,o=n.postFormat((n.prefix+s).split(""),0,!0,n)),null!==n.min&&isFinite(n.min)&&(s=parseFloat(s)<parseFloat(n.min)?n.min:s,o=n.postFormat((n.prefix+s).split(""),0,!0,n))),o},definitions:{"~":{validator:function(i,n,o,a,s){var r=s.signHandler(i,n,o,a,s);if(!r&&(r=s.radixHandler(i,n,o,a,s),!r&&(r=a?new RegExp("[0-9"+e.escapeRegex(s.groupSeparator)+"]").test(i):new RegExp("[0-9]").test(i),r===!0&&(r=s.leadingZeroHandler(i,n,o,a,s),r===!0)))){var l=t.inArray(s.radixPoint,n.buffer);r=-1!==l&&s.digitsOptional===!1&&s.numericInput!==!0&&o>l&&!a?{pos:o,remove:o}:{pos:o}}return r},cardinality:1,prevalidator:null},"+":{validator:function(t,e,i,n,o){var a=o.signHandler(t,e,i,n,o);return!a&&(n&&o.allowMinus&&t===o.negationSymbol.front||o.allowMinus&&"-"===t||o.allowPlus&&"+"===t)&&(a="-"!==t||(""!==o.negationSymbol.back?{pos:i,c:"-"===t?o.negationSymbol.front:"+",caret:i+1,insert:{pos:e.buffer.length,c:o.negationSymbol.back}}:{pos:i,c:"-"===t?o.negationSymbol.front:"+",caret:i+1})),a},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(t,e,i,n,o){var a=o.signHandler(t,e,i,n,o);return!a&&n&&o.allowMinus&&t===o.negationSymbol.back&&(a=!0),a},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(t,i,n,o,a){var s=a.signHandler(t,i,n,o,a);if(!s){var r="["+e.escapeRegex(a.radixPoint)+",\\.]";s=new RegExp(r).test(t),s&&i.validPositions[n]&&i.validPositions[n].match.placeholder===a.radixPoint&&(s={caret:n+1})}return s?{c:a.radixPoint}:s},cardinality:1,prevalidator:null,placeholder:function(t){return t.radixPoint}}},onUnMask:function(t,i,n){var o=t.replace(n.prefix,"");return o=o.replace(n.suffix,""),o=o.replace(new RegExp(e.escapeRegex(n.groupSeparator),"g"),""),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==o.indexOf(n.radixPoint)&&(o=o.replace(e.escapeRegex.call(this,n.radixPoint),".")),Number(o)):o},isComplete:function(t,i){var n=t.join(""),o=t.slice();if(i.postFormat(o,0,!0,i),o.join("")!==n)return!1;var a=n.replace(i.prefix,"");return a=a.replace(i.suffix,""),a=a.replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(a=a.replace(e.escapeRegex(i.radixPoint),".")),isFinite(a)},onBeforeMask:function(t,i){if(""!==i.radixPoint&&isFinite(t))t=t.toString().replace(".",i.radixPoint);else{var n=t.match(/,/g),o=t.match(/\./g);o&&n?o.length>n.length?(t=t.replace(/\./g,""),t=t.replace(",",i.radixPoint)):n.length>o.length?(t=t.replace(/,/g,""),t=t.replace(".",i.radixPoint)):t=t.indexOf(".")<t.indexOf(",")?t.replace(/\./g,""):t=t.replace(/,/g,""):t=t.replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),"")}if(0===i.digits&&(-1!==t.indexOf(".")?t=t.substring(0,t.indexOf(".")):-1!==t.indexOf(",")&&(t=t.substring(0,t.indexOf(",")))),""!==i.radixPoint&&isFinite(i.digits)&&-1!==t.indexOf(i.radixPoint)){var a=t.split(i.radixPoint),s=a[1].match(new RegExp("\\d*"))[0];if(parseInt(i.digits)<s.toString().length){var r=Math.pow(10,parseInt(i.digits));t=t.replace(e.escapeRegex(i.radixPoint),"."),t=Math.round(parseFloat(t)*r)/r,t=t.toString().replace(".",i.radixPoint)}}return t.toString()},canClearPosition:function(i,n,o,a,s){var r=i.validPositions[n].input,l=r!==s.radixPoint||null!==i.validPositions[n].match.fn&&s.decimalProtect===!1||isFinite(r)||n===o||r===s.groupSeparator||r===s.negationSymbol.front||r===s.negationSymbol.back;if(l&&isFinite(r)){var c,d=t.inArray(s.radixPoint,i.buffer),u=!1;if(void 0===i.validPositions[d]&&(i.validPositions[d]={input:s.radixPoint},u=!0),!a&&i.buffer){c=i.buffer.join("").substr(0,n).match(s.regex.integerNPart(s));var h=n+1,p=null==c||0===parseInt(c[0].replace(new RegExp(e.escapeRegex(s.groupSeparator),"g"),""));if(p)for(;i.validPositions[h]&&(i.validPositions[h].input===s.groupSeparator||"0"===i.validPositions[h].input);)delete i.validPositions[h],h++}var f=[];for(var m in i.validPositions)void 0!==i.validPositions[m].input&&f.push(i.validPositions[m].input);if(u&&delete i.validPositions[d],d>0){var g=f.join("");if(c=g.match(s.regex.integerNPart(s)))if(d>=n)if(0===c[0].indexOf("0"))l=c.index!==n||"0"===s.placeholder;else{var v=parseInt(c[0].replace(new RegExp(e.escapeRegex(s.groupSeparator),"g"),"")),b=parseInt(g.split(s.radixPoint)[1]);10>v&&i.validPositions[n]&&("0"!==s.placeholder||b>0)&&(i.validPositions[n].input="0",i.p=s.prefix.length+1,l=!1)}else 0===c[0].indexOf("0")&&3===g.length&&(i.validPositions={},l=!1)}}return l},onKeyDown:function(i,n,o,a){var s=t(this);if(i.ctrlKey)switch(i.keyCode){case e.keyCode.UP:s.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(a.step)),s.trigger("setvalue");break;case e.keyCode.DOWN:s.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(a.step)),s.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),e}(jQuery,Inputmask),function(t,e){return e.extendAliases({phone:{url:"phone-codes/phone-codes.js",countrycode:"",phoneCodeCache:{},mask:function(e){if(void 0===e.phoneCodeCache[e.url]){var i=[];e.definitions["#"]=e.definitions[9],t.ajax({url:e.url,async:!1,type:"get",dataType:"json",success:function(t){i=t},error:function(t,i,n){alert(n+" - "+e.url)}}),e.phoneCodeCache[e.url]=i.sort(function(t,e){return(t.mask||t)<(e.mask||e)?-1:1})}return e.phoneCodeCache[e.url]},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(t,e){var i=t.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(i.indexOf(e.countrycode)>1||-1===i.indexOf(e.countrycode))&&(i="+"+e.countrycode+i),i}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),e}(jQuery,Inputmask),function(t,e){return e.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(t,e){return new RegExp(e.regex).test(t.join(""))},definitions:{r:{validator:function(e,i,n,o,a){function s(t,e){this.matches=[],this.isGroup=t||!1,this.isQuantifier=e||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function r(){var t,e,i=new s,n=[];for(a.regexTokens=[];t=a.tokenizer.exec(a.regex);)switch(e=t[0],e.charAt(0)){case"(":n.push(new s((!0)));break;case")":d=n.pop(),n.length>0?n[n.length-1].matches.push(d):i.matches.push(d);break;case"{":case"+":case"*":var o=new s((!1),(!0));e=e.replace(/[{}]/g,"");var r=e.split(","),l=isNaN(r[0])?r[0]:parseInt(r[0]),c=1===r.length?l:isNaN(r[1])?r[1]:parseInt(r[1]);if(o.quantifier={min:l,max:c},n.length>0){var u=n[n.length-1].matches;t=u.pop(),t.isGroup||(d=new s((!0)),d.matches.push(t),t=d),u.push(t),u.push(o)}else t=i.matches.pop(),t.isGroup||(d=new s((!0)),d.matches.push(t),t=d),i.matches.push(t),i.matches.push(o);break;default:n.length>0?n[n.length-1].matches.push(e):i.matches.push(e)}i.matches.length>0&&a.regexTokens.push(i)}function l(e,i){var n=!1;i&&(h+="(",f++);for(var o=0;o<e.matches.length;o++){var a=e.matches[o];if(a.isGroup===!0)n=l(a,!0);else if(a.isQuantifier===!0){var s=t.inArray(a,e.matches),r=e.matches[s-1],d=h;if(isNaN(a.quantifier.max)){for(;a.repeaterPart&&a.repeaterPart!==h&&a.repeaterPart.length>h.length&&!(n=l(r,!0)););n=n||l(r,!0),n&&(a.repeaterPart=h),h=d+a.quantifier.max}else{for(var u=0,p=a.quantifier.max-1;p>u&&!(n=l(r,!0));u++);h=d+"{"+a.quantifier.min+","+a.quantifier.max+"}"}}else if(void 0!==a.matches)for(var m=0;m<a.length&&!(n=l(a[m],i));m++);else{var g;if("["==a.charAt(0)){g=h,g+=a;for(var v=0;f>v;v++)g+=")";var b=new RegExp("^("+g+")$");n=b.test(c)}else for(var y=0,w=a.length;w>y;y++)if("\\"!==a.charAt(y)){g=h,g+=a.substr(0,y+1),g=g.replace(/\|$/,"");for(var v=0;f>v;v++)g+=")";var b=new RegExp("^("+g+")$");if(n=b.test(c))break}h+=a}if(n)break}return i&&(h+=")",f--),n}var c,d,u=i.buffer.slice(),h="",p=!1,f=0;null===a.regexTokens&&r(),u.splice(n,0,e),c=u.join("");for(var m=0;m<a.regexTokens.length;m++){var g=a.regexTokens[m];if(p=l(g,g.isGroup))break}return p},cardinality:1}}}}),e}(jQuery,Inputmask),!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof module&&module.exports){var e=require("jquery");module.exports=t(e)}else t(jQuery)}(function(t){return t.fn.numberMask=function(e){var i,n={type:"int",beforePoint:10,afterPoint:2,defaultValueInput:0,allowNegative:!1,decimalMark:["."],pattern:""},o=function(t){var e=t.which;if(t.ctrlKey||t.altKey||t.metaKey||32>e)return!0;if(e){var o=String.fromCharCode(e),a=t.target.value,r=s(t.target);return a=a.substring(0,r.start)+o+a.substring(r.end),n.allowNegative&&"-"===a||i.test(a)}},a=function(e){var i=t(e.currentTarget);i.val(r(i))},s=function(t){var e,i,n,o,a,s=0,r=0,l=!1;return"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd?(s=t.selectionStart,r=t.selectionEnd):(i=document.selection.createRange(),i&&i.parentElement()==t&&(o=t.value.length,e=t.value.replace(/\r\n/g,"\n"),n=t.createTextRange(),n.moveToBookmark(i.getBookmark()),a=t.createTextRange(),a.collapse(!1),n.compareEndPoints("StartToEnd",a)>-1?s=r=o:(s=-n.moveStart("character",-o),s+=e.slice(0,s).split("\n").length-1,n.compareEndPoints("EndToEnd",a)>-1?r=o:(r=-n.moveEnd("character",-o),r+=e.slice(0,r).split("\n").length-1)))),s-r!=0&&(l=!0),{start:s,end:r,statusSelection:l}},r=function(t){var e=t.val();return i.test(e)?e:n.defaultValueInput},l=function(){for(var t="(\\"+n.decimalMark[0],e=1;e<n.decimalMark.length;e++)t+="|\\"+n.decimalMark[e];return t+=")"};if(this.bind("keypress",o).bind("input",a),e&&(e.decimalMark&&"string"===t.type(e.decimalMark)&&(e.decimalMark=[e.decimalMark]),t.extend(n,e)),"object"==typeof n.pattern&&n.pattern instanceof RegExp)i=n.pattern;else{var c=n.allowNegative?"[-]?":"",d="^"+c+"\\d{1,"+n.beforePoint+"}$",u="^"+c+"\\d{1,"+n.beforePoint+"}"+l()+"\\d{0,"+n.afterPoint+"}$";i=new RegExp("int"==n.type?d:d+"|"+u)}return this},t}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?i=e:e={};var t,i,n;!function(e){function o(t,e){return w.call(t,e)}function a(t,e){var i,n,o,a,s,r,l,c,d,u,h,p=e&&e.split("/"),f=b.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),s=t.length-1,b.nodeIdCompat&&x.test(t[s])&&(t[s]=t[s].replace(x,"")),t=p.slice(0,p.length-1).concat(t),d=0;d<t.length;d+=1)if(h=t[d],"."===h)t.splice(d,1),d-=1;else if(".."===h){if(1===d&&(".."===t[2]||".."===t[0]))break;d>0&&(t.splice(d-1,2),d-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||m)&&f){for(i=t.split("/"),d=i.length;d>0;d-=1){if(n=i.slice(0,d).join("/"),p)for(u=p.length;u>0;u-=1)if(o=f[p.slice(0,u).join("/")],o&&(o=o[n])){a=o,r=d;break}if(a)break;!l&&m&&m[n]&&(l=m[n],c=d)}!a&&l&&(a=l,r=c),a&&(i.splice(0,r,a),t=i.join("/"))}return t}function s(t,i){return function(){var n=_.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(e,n.concat([t,i]))}}function r(t){return function(e){return a(e,t)}}function l(t){return function(e){g[t]=e}}function c(t){if(o(v,t)){var i=v[t];delete v[t],y[t]=!0,h.apply(e,i)}if(!o(g,t)&&!o(y,t))throw new Error("No "+t);return g[t]}function d(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function u(t){return function(){return b&&b.config&&b.config[t]||{}}}var h,p,f,m,g={},v={},b={},y={},w=Object.prototype.hasOwnProperty,_=[].slice,x=/\.js$/;f=function(t,e){var i,n=d(t),o=n[0];return t=n[1],o&&(o=a(o,e),i=c(o)),o?t=i&&i.normalize?i.normalize(t,r(e)):a(t,e):(t=a(t,e),n=d(t),o=n[0],t=n[1],o&&(i=c(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},m={require:function(t){return s(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:u(t)}}},h=function(t,i,n,a){var r,d,u,h,p,b,w=[],_=typeof n;if(a=a||t,"undefined"===_||"function"===_){for(i=!i.length&&n.length?["require","exports","module"]:i,p=0;p<i.length;p+=1)if(h=f(i[p],a),d=h.f,"require"===d)w[p]=m.require(t);else if("exports"===d)w[p]=m.exports(t),b=!0;else if("module"===d)r=w[p]=m.module(t);else if(o(g,d)||o(v,d)||o(y,d))w[p]=c(d);else{if(!h.p)throw new Error(t+" missing "+d);h.p.load(h.n,s(a,!0),l(d),{}),w[p]=g[d]}u=n?n.apply(g[t],w):void 0,t&&(r&&r.exports!==e&&r.exports!==g[t]?g[t]=r.exports:u===e&&b||(g[t]=u))}else t&&(g[t]=n)},t=i=p=function(t,i,n,o,a){if("string"==typeof t)return m[t]?m[t](i):c(f(t,i).f);if(!t.splice){if(b=t,b.deps&&p(b.deps,b.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=o,o=a),o?h(e,t,i,n):setTimeout(function(){h(e,t,i,n)},4),p},p.config=function(t){return p(t)},t._defined=g,n=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),o(g,t)||o(v,t)||(v[t]=[t,e,i])},n.amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=n}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var n in e){var o=e[n];"function"==typeof o&&"constructor"!==n&&i.push(n)}return i}var i={};i.Extend=function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},i.Decorate=function(t,i){function n(){var e=Array.prototype.unshift,n=i.prototype.constructor.length,o=t.prototype.constructor;n>0&&(e.call(arguments,t.prototype.constructor),o=i.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=n}var a=e(i),s=e(t);i.displayName=t.displayName,n.prototype=new o;for(var r=0;r<s.length;r++){var l=s[r];n.prototype[l]=t.prototype[l]}for(var c=(function(t){var e=function(){};t in n.prototype&&(e=n.prototype[t]);var o=i.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),o.apply(this,arguments)}}),d=0;d<a.length;d++){var u=a[d];n.prototype[u]=c(u)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice,i=e.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;n>i;i++)t[i].apply(this,e)},i.Observable=n,i.generateChars=function(t){for(var e="",i=0;t>i;i++){var n=Math.floor(36*Math.random());e+=n.toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var o=0;o<i.length;o++){var a=i[o];a=a.substring(0,1).toLowerCase()+a.substring(1),a in n||(n[a]={}),o==i.length-1&&(n[a]=t[e]),n=n[a]}delete t[e]}}return t},i.hasScroll=function(e,i){var n=t(i),o=i.style.overflowX,a=i.style.overflowY;return(o!==a||"hidden"!==a&&"visible"!==a)&&("scroll"===o||"scroll"===a||(n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth))},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,function(t){n=n.add(t)}),i=n}e.append(i)},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);n.append(i(o(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],o=this.option(n);e.push(o)}this.$results.append(e)},i.prototype.position=function(t,e){var i=e.find(".select2-results");i.append(t)},i.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var e=this;this.data.current(function(i){var n=t.map(i,function(t){return t.id.toString()}),o=e.$results.find(".select2-results__option[aria-selected]");o.each(function(){var e=t(this),i=t.data(this,"data"),o=""+i.id;null!=i.element&&i.element.selected||null==i.element&&t.inArray(o,n)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},i.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(i.id=e._resultId),e.title&&(i.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]);for(var o in n){var a=n[o];i.setAttribute(o,a)}if(e.children){var s=t(i),r=document.createElement("strong");r.className="select2-results__group",t(r),this.template(e,r);for(var l=[],c=0;c<e.children.length;c++){var d=e.children[c],u=this.option(d);l.push(u)}var h=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(l),s.append(r),s.append(h)}else this.template(e,i);return t.data(i,"data",e),i},i.prototype.bind=function(e,i){var n=this,o=e.id+"-results";this.$results.attr("id",o),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var o=i-1;0===t.length&&(o=0);var a=e.eq(o);a.trigger("mouseenter");var s=n.$results.offset().top,r=a.offset().top,l=n.$results.scrollTop()+(r-s);0===o?n.$results.scrollTop(0):0>r-s&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t),o=i+1;if(!(o>=e.length)){var a=e.eq(o);a.trigger("mouseenter");var s=n.$results.offset().top+n.$results.outerHeight(!1),r=a.offset().top+a.outerHeight(!1),l=n.$results.scrollTop()+r-s;0===o?n.$results.scrollTop(0):r>s&&n.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,o=t.deltaY>0&&e-t.deltaY<=0,a=t.deltaY<0&&i<=n.$results.height();o?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):a&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),o=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:o}):n.trigger("close",{})):void n.trigger("select",{originalEvent:e,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var i=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:i,element:t(this)})})},i.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),n=this.$results.offset().top,o=t.offset().top,a=this.$results.scrollTop()+(o-n),s=o-n;a-=2*t.outerHeight(!1),2>=i?this.$results.scrollTop(0):(s>this.$results.outerHeight()||0>s)&&this.$results.scrollTop(a)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),a=n(e,i);null==a?i.style.display="none":"string"==typeof a?i.innerHTML=o(a):t(i).append(a)},i}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},n.prototype.bind=function(t,e){var n=this,o=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",o),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(e){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||t.contains(i.$selection[0],document.activeElement)||i.trigger("blur",e)},1)},n.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var i=t(e.target),n=i.closest(".select2"),o=t(".select2.select2-container--open");o.each(function(){var e=t(this);if(this!=n[0]){var i=e.data("element");i.select2("close")}})})},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){var i=e.find(".selection");i.append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i,n){
function o(){o.__super__.constructor.apply(this,arguments)}return i.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var i=this;o.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&i.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||i.$selection.focus()}),t.on("selection:update",function(t){i.update(t.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t,e){var i=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(i(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(e,i);i.empty().append(n),i.prop("title",e.title||e.text)},o}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function n(t,e){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(e,i){var o=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){o.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!o.options.get("disabled")){var i=t(this),n=i.parent(),a=n.data("data");o.trigger("unselect",{originalEvent:e,data:a})}})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t,e){var i=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(i(t,e))},n.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var o=t[n],a=this.selectionContainer(),s=this.display(o,a);a.append(s),a.prop("title",o.title||o.text),a.data("data",o),e.push(a)}var r=this.$selection.find(".select2-selection__rendered");i.appendMany(r,e)}},n}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},e.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id,n=e.length>1;if(n||i)return t.call(this,e);this.clear();var o=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(o)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function i(){}return i.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),o=0;o<n.length;o++){var a={data:n[o]};if(this.trigger("unselect",a),a.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},i.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||(i.which==e.DELETE||i.which==e.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=t('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(t,e,n){var o=this;t.call(this,e,n),e.on("open",function(){o.$search.trigger("focus")}),e.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),e.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),e.on("disable",function(){o.$search.prop("disabled",!0)}),e.on("focus",function(t){o.$search.trigger("focus")}),e.on("results:focus",function(t){o.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){o.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){o._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===i.BACKSPACE&&""===o.$search.val()){var n=o.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var a=n.data("data");o.searchRemoveChoice(a),t.preventDefault()}}});var a=document.documentMode,s=a&&11>=a;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return s?void o.$selection.off("input.search input.searchcheck"):void o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)return void o.$selection.off("input.search input.searchcheck");var e=t.which;e!=i.SHIFT&&e!=i.CTRL&&e!=i.ALT&&e!=i.TAB&&o.handleSearch(t)})},n.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},n}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,n){var o=this,a=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,i,n),i.on("*",function(e,i){if(-1!==t.inArray(e,a)){i=i||{};var n=t.Event("select2:"+e,{params:i});o.$element.trigger(n),-1!==t.inArray(e,s)&&(i.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){var t={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return t}),e.define("select2/data/base",["../utils"],function(t){function e(t,i){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),n+=null!=i.id?"-"+i.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=i(this),o=n.item(t);e.push(o)}),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var o=[];t=[t],t.push.apply(t,n);for(var a=0;a<t.length;a++){var s=t[a].id;-1===i.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("change")});else{var n=t.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,i(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(n){for(var o=[],a=0;a<n.length;a++){var s=n[a].id;s!==t.id&&-1===i.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("change")})},n.prototype.bind=function(t,e){var i=this;this.container=t,t.on("select",function(t){i.select(t.data)}),t.on("unselect",function(t){i.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(t,e){var n=[],o=this,a=this.$element.children();a.each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var a=o.item(e),s=o.matches(t,a);null!==s&&n.push(s)}}),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=i(e),o=this._normalizeItem(t);return o.element=e,i.data(e,"data",o),n},n.prototype.item=function(t){var e={};if(e=i.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),o=[],a=0;a<n.length;a++){var s=i(n[a]),r=this.item(s);o.push(r)}e.children=o}return e=this._normalizeItem(e),e.element=t[0],i.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){i.isPlainObject(t)||(t={id:t,text:t}),t=i.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},n.prototype.matches=function(t,e){var i=this.options.get("matcher");return i(t,e)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return e.Extend(n,t),n.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){function n(t){return function(){return i(this).val()==t.id}}for(var o=this,a=this.$element.find("option"),s=a.map(function(){return o.item(i(this)).id}).get(),r=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(i.inArray(c.id,s)>=0){var d=a.filter(n(c)),u=this.item(d),h=i.extend(!0,{},c,u),p=this.option(h);d.replaceWith(p)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);e.appendMany(f,m)}r.push(f)}}return r},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return i.extend({},t,{q:t.term})},transport:function(t,e,n){var o=i.ajax(t);return o.then(e),o.fail(n),o}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){function n(){var n=a.transport(a,function(n){var a=o.processResults(n,t);o.options.get("debug")&&window.console&&console.error&&(a&&a.results&&i.isArray(a.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(a)},function(){n.status&&"0"===n.status||o.trigger("results:message",{message:"errorLoading"})});o._request=n}var o=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var a=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof a.url&&(a.url=a.url.call(this.$element,t)),"function"==typeof a.data&&(a.data=a.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,n){var o=n.get("tags"),a=n.get("createTag");void 0!==a&&(this.createTag=a);var s=n.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,i,n),t.isArray(o))for(var r=0;r<o.length;r++){var l=o[r],c=this._normalizeItem(l),d=this.option(c);this.$element.append(d)}}return e.prototype.query=function(t,e,i){function n(t,a){for(var s=t.results,r=0;r<s.length;r++){var l=s[r],c=null!=l.children&&!n({results:l.children},!0),d=l.text===e.term;if(d||c)return!a&&(t.data=s,void i(t))}if(a)return!0;var u=o.createTag(e);if(null!=u){var h=o.option(u);h.attr("data-select2-tag",!0),o.addOptions([h]),o.insertTag(s,u)}t.results=s,i(t)}var o=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,i):void t.call(this,e,n)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(e){var i=(this._lastTag,this.$element.find("option[data-select2-tag]"));i.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(e,i,n){function o(e){var i=s._normalizeItem(e),n=s.$element.find("option").filter(function(){return t(this).val()===i.id});if(!n.length){var o=s.option(i);o.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([o])}a(i)}function a(t){s.trigger("select",{data:t})}var s=this;i.term=i.term||"";var r=this.tokenizer(i,this.options,o);r.term!==i.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),i.term=r.term),e.call(this,i,n)},e.prototype.tokenizer=function(e,i,n,o){for(var a=n.get("tokenSeparators")||[],s=i.term,r=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};r<s.length;){var c=s[r];if(-1!==t.inArray(c,a)){var d=s.substr(0,r),u=t.extend({},i,{term:d}),h=l(u);null!=h?(o(h),s=s.substr(r+1)||"",r=0):r++}else r++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){var n=this;this.current(function(o){var a=null!=o?o.length:0;return n.maximumSelectionLength>0&&a>=n.maximumSelectionLength?void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):void t.call(n,e,i)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.bind=function(){},i.prototype.position=function(t,e){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function i(){}return i.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(e,i,n){var o=this;e.call(this,i,n),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),i.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),i.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val("")}),i.on("focus",function(){i.isOpen()&&o.$search.focus()}),i.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=o.showSearch(t);e?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide")}})},i.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.showSearch=function(t,e){return!0},i}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var o=e[n];this.placeholder.id===o.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,i,n){var o=this;e.call(this,i,n),i.on("query",function(t){o.lastParams=t,o.loading=!0}),i.on("query:append",function(t){o.lastParams=t,o.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,o.$loadingMore[0]);if(!o.loading&&e){var i=o.$results.offset().top+o.$results.outerHeight(!1),n=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1);i+50>=n&&o.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(e,i,n){this.$dropdownParent=n.get("dropdownParent")||t(document.body),e.call(this,i,n)}return i.prototype.bind=function(t,e,i){var n=this,o=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,n){var o=this,a="scroll.select2."+n.id,s="resize.select2."+n.id,r="orientationchange.select2."+n.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(a,function(e){var i=t(this).data("select2-scroll-position");t(this).scrollTop(i.y)}),t(window).on(a+" "+s+" "+r,function(t){o._positionDropdown(),o._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var o="scroll.select2."+n.id,a="resize.select2."+n.id,s="orientationchange.select2."+n.id,r=this.$container.parents().filter(e.hasScroll);r.off(o),t(window).off(o+" "+a+" "+s)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),o=null,a=this.$container.offset();a.bottom=a.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=a.top,s.bottom=a.top+s.height;var r={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<a.top-r.height,d=l.bottom>a.bottom+r.height,u={left:a.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p=h.offset();u.top-=p.top,u.left-=p.left,i||n||(o="below"),d||!c||i?!c&&d&&i&&(o="below"):o="above",("above"==o||i&&"below"!==o)&&(u.top=s.top-p.top-r.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(u)},i.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,n=0;n<e.length;n++){var o=e[n];o.children?i+=t(o.children):i++}return i}function e(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return e.prototype.showSearch=function(e,i){
return!(t(i.data.results)<this.minimumResultsForSearch)&&e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(t){n._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var i=e.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var n=this.getHighlightedResults();if(!(n.length<1)){var o=n.data("data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){var e=t.minimum-t.input.length,i="Please enter "+e+" or more characters";return i},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,n,o,a,s,r,l,c,d,u,h,p,f,m,g,v,b,y,w,_,x,k,C,A,$,S,T){function I(){this.reset()}I.prototype.apply=function(u){if(u=t.extend(!0,{},this.defaults,u),null==u.dataAdapter){if(null!=u.ajax?u.dataAdapter=f:null!=u.data?u.dataAdapter=p:u.dataAdapter=h,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,b)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,m)),(null!=u.tokenSeparators||null!=u.tokenizer)&&(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null!=u.query){var T=e(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,T)}if(null!=u.initSelection){var I=e(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,I)}}if(null==u.resultsAdapter&&(u.resultsAdapter=i,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,k)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,x)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,$))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=w;else{var P=c.Decorate(w,_);u.dropdownAdapter=P}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,A)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,S)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var D=e(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,D)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,C)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=o:u.selectionAdapter=n,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,r)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var j=e(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,j)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}if("string"==typeof u.language)if(u.language.indexOf("-")>0){var M=u.language.split("-"),E=M[0];u.language=[u.language,E]}else u.language=[u.language];if(t.isArray(u.language)){var O=new d;u.language.push("en");for(var L=u.language,F=0;F<L.length;F++){var B=L[F],z={};try{z=d.loadPath(B)}catch(V){try{B=this.defaults.amdLanguageBase+B,z=d.loadPath(B)}catch(q){u.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+B+'" could not be automatically loaded. A fallback will be used instead.');continue}}O.extend(z)}u.translations=O}else{var H=d.loadPath(this.defaults.amdLanguageBase+"en"),W=new d(u.language);W.extend(H),u.translations=W}return u},I.prototype.reset=function(){function e(t){function e(t){return u[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(n,o){if(""===t.trim(n.term))return o;if(o.children&&o.children.length>0){for(var a=t.extend(!0,{},o),s=o.children.length-1;s>=0;s--){var r=o.children[s],l=i(n,r);null==l&&a.children.splice(s,1)}return a.children.length>0?a:i(n,a)}var c=e(o.text).toUpperCase(),d=e(n.term).toUpperCase();return c.indexOf(d)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:T,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},I.prototype.set=function(e,i){var n=t.camelCase(e),o={};o[n]=i;var a=c._convertData(o);t.extend(this.defaults,a)};var P=new I;return P}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,n){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),this.options=i.apply(this.options),o&&o.is("input")){var a=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,a)}}return o.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var o={};o=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var a=e.extend(!0,{},o);a=n._convertData(a);for(var s in a)e.inArray(s,i)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],a[s]):this.options[s]=a[s]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,n){var o=function(t,i){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),o.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(t,this.options);var s=this.render();this._placeContainer(s);var r=this.options.get("selectionAdapter");this.selection=new r(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){d.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(o,i.Observable),o.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return 0>=o?"auto":o+"px"}if("style"==e){var a=t.attr("style");if("string"!=typeof a)return null;for(var s=a.split(";"),r=0,l=s.length;l>r;r+=1){var c=s[r].replace(/\s/g,""),d=c.match(i);if(null!==d&&d.length>=1)return d[1]}return null}return e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){t.each(i,e._syncA),t.each(i,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerSelectionEvents=function(){var e=this,i=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(n,o){-1===t.inArray(n,i)&&e.trigger(n,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&e.altKey?(t.close(),e.preventDefault()):i===n.ENTER?(t.trigger("results:select",{}),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):i===n.UP?(t.trigger("results:previous",{}),e.preventDefault()):i===n.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._syncSubtree=function(t,e){var i=!1,n=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var o=0;o<e.addedNodes.length;o++){var a=e.addedNodes[o];a.selected&&(i=!0)}else e.removedNodes&&e.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(t){n.trigger("selection:update",{data:t})})}},o.prototype.trigger=function(t,e){var i=o.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in n){var a=n[t],s={prevented:!1,name:t,args:e};if(i.call(this,a,s),s.prevented)return void(e.prevented=!0)}i.call(this,t,e)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},o}),e.define("select2/compat/utils",["jquery"],function(t){function e(e,i,n){var o,a,s=[];o=t.trim(e.attr("class")),o&&(o=""+o,t(o.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)})),o=t.trim(i.attr("class")),o&&(o=""+o,t(o.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(a=n(this),null!=a&&s.push(a))})),e.attr("class",s.join(" "))}return{syncCssClasses:e}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function i(t){return null}function n(){}return n.prototype.render=function(n){var o=n.call(this),a=this.options.get("containerCssClass")||"";t.isFunction(a)&&(a=a(this.$element));var s=this.options.get("adaptContainerCssClass");if(s=s||i,-1!==a.indexOf(":all:")){a=a.replace(":all:","");var r=s;s=function(t){var e=r(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(o,this.$element,s),o.css(l),o.addClass(a),o},n}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function i(t){return null}function n(){}return n.prototype.render=function(n){var o=n.call(this),a=this.options.get("dropdownCssClass")||"";t.isFunction(a)&&(a=a(this.$element));var s=this.options.get("adaptDropdownCssClass");if(s=s||i,-1!==a.indexOf(":all:")){a=a.replace(":all:","");var r=s;s=function(t){var e=r(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(o,this.$element,s),o.css(l),o.addClass(a),o},n}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,t.call(this,e,i)}return e.prototype.current=function(e,i){var n=this;return this._isInitialized?void e.call(this,i):void this.initSelection.call(null,this.$element,function(e){n._isInitialized=!0,t.isArray(e)||(e=[e]),i(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(t){function e(t,e,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===e.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,i)}return e.prototype.current=function(e,i){function n(e,i){var o=[];return e.selected||-1!==t.inArray(e.id,i)?(e.selected=!0,o.push(e)):e.selected=!1,e.children&&o.push.apply(o,n(e.children,i)),o}for(var o=[],a=0;a<this._currentData.length;a++){var s=this._currentData[a];o.push.apply(o,n(s,this.$element.val().split(this._valueSeparator)))}i(o)},e.prototype.select=function(e,i){if(this.options.get("multiple")){var n=this.$element.val();n+=this._valueSeparator+i.id,this.$element.val(n),this.$element.trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},e.prototype.unselect=function(t,e){var i=this;e.selected=!1,this.current(function(t){for(var n=[],o=0;o<t.length;o++){var a=t[o];e.id!=a.id&&n.push(a.id)}i.$element.val(n.join(i._valueSeparator)),i.$element.trigger("change")})},e.prototype.query=function(t,e,i){for(var n=[],o=0;o<this._currentData.length;o++){var a=this._currentData[o],s=this.matches(e,a);null!==s&&n.push(s)}i({results:n})},e.prototype.addOptions=function(e,i){var n=t.map(i,function(e){return t.data(e[0],"data")});this._currentData.push.apply(this._currentData,n)},e}),e.define("select2/compat/matcher",["jquery"],function(t){function e(e){function i(i,n){var o=t.extend(!0,{},n);if(null==i.term||""===t.trim(i.term))return o;if(n.children){for(var a=n.children.length-1;a>=0;a--){var s=n.children[a],r=e(i.term,s.text,s);r||o.children.splice(a,1)}if(o.children.length>0)return o}return e(i.term,n.text,n)?o:null}return i}return e}),e.define("select2/compat/query",[],function(){function t(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.callback=i;var n=this.options.get("query");n.call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,i){t.call(this,e,i)}return t.prototype.position=function(t,e,i){var n=i.find(".dropdown-wrapper");n.append(e),e.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(n.join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(n.join(" "),function(t){t.stopPropagation()})},t}),function(i){"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],i):"object"==typeof exports?module.exports=i:i(t)}(function(t){function e(e){var s=e||window.event,r=l.call(arguments,1),c=0,u=0,h=0,p=0,f=0,m=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(u=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in s&&(h=-1*s.deltaY,c=h),"deltaX"in s&&(u=s.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===s.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(p=Math.max(Math.abs(h),Math.abs(u)),(!a||a>p)&&(a=p,n(s,p)&&(a/=40)),n(s,p)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/a),u=Math[u>=1?"floor":"ceil"](u/a),h=Math[h>=1?"floor":"ceil"](h/a),d.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=e.clientX-b.left,m=e.clientY-b.top}return e.deltaX=u,e.deltaY=h,e.deltaFactor=a,e.offsetX=f,e.offsetY=m,e.deltaMode=0,r.unshift(e,c,u,h),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,r)}}function i(){a=null}function n(t,e){return d.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var o,a,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var d=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",d.getLineHeight(this)),t.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=r.length;i;)this.removeEventListener(r[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,i,n){if(null==t.fn.select2){var o=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var n=t.extend(!0,{},e);new i(t(this),n)}),this;if("string"==typeof e){var n,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=t(this).data("select2");null==i&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),n=i[e].apply(i,a)}),t.inArray(e,o)>-1?this:n}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i}),function(t,e,i,n){var o=i("html"),a=i(t),s=i(e),r=i.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,d=e.createTouch!==n,u=function(t){return t&&t.hasOwnProperty&&t instanceof i},h=function(t){return t&&"string"===i.type(t)},p=function(t){return h(t)&&0<t.indexOf("%")},f=function(t,e){var i=parseInt(t,10)||0;return e&&p(t)&&(i*=r.getViewport()[e]/100),Math.ceil(i)},m=function(t,e){return f(t,e)+"px"};i.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){if(t&&(i.isPlainObject(e)||(e={}),!1!==r.close(!0)))return i.isArray(t)||(t=u(t)?i(t).get():[t]),i.each(t,function(o,a){var s,l,c,d,p,f={};"object"===i.type(a)&&(a.nodeType&&(a=i(a)),u(a)?(f={href:a.data("fancybox-href")||a.attr("href"),title:i("<div/>").text(a.data("fancybox-title")||a.attr("title")).html(),isDom:!0,element:a},i.metadata&&i.extend(!0,f,a.metadata())):f=a),s=e.href||f.href||(h(a)?a:null),l=e.title!==n?e.title:f.title||"",d=(c=e.content||f.content)?"html":e.type||f.type,!d&&f.isDom&&(d=a.data("fancybox-type"),d||(d=(d=a.prop("class").match(/fancybox\.(\w+)/))?d[1]:null)),h(s)&&(d||(r.isImage(s)?d="image":r.isSWF(s)?d="swf":"#"===s.charAt(0)?d="inline":h(a)&&(d="html",c=a)),"ajax"===d&&(p=s.split(/\s+/,2),s=p.shift(),p=p.shift())),c||("inline"===d?s?c=i(h(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):f.isDom&&(c=a):"html"===d?c=s:d||s||!f.isDom||(d="inline",c=a)),i.extend(f,{href:s,type:d,content:c,title:l,selector:p}),t[o]=f}),r.opts=i.extend(!0,{},r.defaults,e),e.keys!==n&&(r.opts.keys=!!e.keys&&i.extend({},r.defaults.keys,e.keys)),r.group=t,r._start(r.opts.index)},cancel:function(){var t=r.coming;t&&!1===r.trigger("onCancel")||(r.hideLoading(),t&&(r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),r.coming=null,r.current||r._afterZoomOut(t)))},close:function(t){r.cancel(),!1!==r.trigger("beforeClose")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&!0!==t?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0,!0).removeClass("fancybox-opened"),r.transitions[r.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),r._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(r.player.timer)},i=function(){e(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},n=function(){e(),s.unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")};!0===t||!r.player.isActive&&!1!==t?r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,s.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":i,"beforeLoad.player":e}),i(),r.trigger("onPlayStart")):n()},next:function(t){var e=r.current;e&&(h(t)||(t=e.direction.next),r.jumpto(e.index+1,t,"next"))},prev:function(t){var e=r.current;e&&(h(t)||(t=e.direction.prev),r.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var o=r.current;o&&(t=f(t),r.direction=e||o.direction[t>=o.index?"next":"prev"],r.router=i||"jumpto",o.loop&&(0>t&&(t=o.group.length+t%o.group.length),t%=o.group.length),o.group[t]!==n&&(r.cancel(),r._start(t)))},reposition:function(t,e){var n,o=r.current,a=o?o.wrap:null;a&&(n=r._getPosition(e),t&&"scroll"===t.type?(delete n.position,a.stop(!0,!0).animate(n,200)):(a.css(n),o.pos=i.extend({},o.dim,n)))},update:function(t){var e=t&&t.originalEvent&&t.originalEvent.type,i=!e||"orientationchange"===e;i&&(clearTimeout(c),c=null),r.isOpen&&!c&&(c=setTimeout(function(){var n=r.current;
n&&!r.isClosing&&(r.wrap.removeClass("fancybox-tmp"),(i||"load"===e||"resize"===e&&n.autoResize)&&r._setDimension(),"scroll"===e&&n.canShrink||r.reposition(t),r.trigger("onUpdate"),c=null)},i&&!d?0:300))},toggle:function(t){r.isOpen&&(r.current.fitToView="boolean"===i.type(t)?t:!r.current.fitToView,d&&(r.wrap.removeAttr("style").addClass("fancybox-tmp"),r.trigger("onUpdate")),r.update())},hideLoading:function(){s.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var t,e;r.hideLoading(),t=i('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body"),s.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),r.cancel())}),r.defaults.fixed||(e=r.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x})),r.trigger("onLoading")},getViewport:function(){var e=r.current&&r.current.locked||!1,i={x:a.scrollLeft(),y:a.scrollTop()};return e&&e.length?(i.w=e[0].clientWidth,i.h=e[0].clientHeight):(i.w=d&&t.innerWidth?t.innerWidth:a.width(),i.h=d&&t.innerHeight?t.innerHeight:a.height()),i},unbindEvents:function(){r.wrap&&u(r.wrap)&&r.wrap.unbind(".fb"),s.unbind(".fb"),a.unbind(".fb")},bindEvents:function(){var t,e=r.current;e&&(a.bind("orientationchange.fb"+(d?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),r.update),(t=e.keys)&&s.bind("keydown.fb",function(o){var a=o.which||o.keyCode,s=o.target||o.srcElement;return(27!==a||!r.coming)&&void(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||s&&(s.type||i(s).is("[contenteditable]"))||i.each(t,function(t,s){return 1<e.group.length&&s[a]!==n?(r[t](s[a]),o.preventDefault(),!1):-1<i.inArray(a,s)?(r[t](),o.preventDefault(),!1):void 0}))}),i.fn.mousewheel&&e.mouseWheel&&r.wrap.bind("mousewheel.fb",function(t,n,o,a){for(var s=i(t.target||null),l=!1;s.length&&!(l||s.is(".fancybox-skin")||s.is(".fancybox-wrap"));)l=s[0]&&!(s[0].style.overflow&&"hidden"===s[0].style.overflow)&&(s[0].clientWidth&&s[0].scrollWidth>s[0].clientWidth||s[0].clientHeight&&s[0].scrollHeight>s[0].clientHeight),s=i(s).parent();0!==n&&!l&&1<r.group.length&&!e.canShrink&&(0<a||0<o?r.prev(0<a?"down":"left"):(0>a||0>o)&&r.next(0>a?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var n,o=e||r.coming||r.current;if(o){if(i.isFunction(o[t])&&(n=o[t].apply(o,Array.prototype.slice.call(arguments,1))),!1===n)return!1;o.helpers&&i.each(o.helpers,function(e,n){n&&r.helpers[e]&&i.isFunction(r.helpers[e][t])&&r.helpers[e][t](i.extend(!0,{},r.helpers[e].defaults,n),o)})}s.trigger(t)},isImage:function(t){return h(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return h(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,o={};if(t=f(t),e=r.group[t]||null,!e)return!1;if(o=i.extend(!0,{},r.opts,e),e=o.margin,n=o.padding,"number"===i.type(e)&&(o.margin=[e,e,e,e]),"number"===i.type(n)&&(o.padding=[n,n,n,n]),o.modal&&i.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),o.autoSize&&(o.autoWidth=o.autoHeight=!0),"auto"===o.width&&(o.autoWidth=!0),"auto"===o.height&&(o.autoHeight=!0),o.group=r.group,o.index=t,r.coming=o,!1===r.trigger("beforeLoad"))r.coming=null;else{if(n=o.type,e=o.href,!n)return r.coming=null,!(!r.current||!r.router||"jumpto"===r.router)&&(r.current.index=t,r[r.router](r.direction));if(r.isActive=!0,"image"!==n&&"swf"!==n||(o.autoHeight=o.autoWidth=!1,o.scrolling="visible"),"image"===n&&(o.aspectRatio=!0),"iframe"===n&&d&&(o.scrolling="scroll"),o.wrap=i(o.tpl.wrap).addClass("fancybox-"+(d?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+o.wrapCSS).appendTo(o.parent||"body"),i.extend(o,{skin:i(".fancybox-skin",o.wrap),outer:i(".fancybox-outer",o.wrap),inner:i(".fancybox-inner",o.wrap)}),i.each(["Top","Right","Bottom","Left"],function(t,e){o.skin.css("padding"+e,m(o.padding[t]))}),r.trigger("onReady"),"inline"===n||"html"===n){if(!o.content||!o.content.length)return r._error("content")}else if(!e)return r._error("href");"image"===n?r._loadImage():"ajax"===n?r._loadAjax():"iframe"===n?r._loadIframe():r._afterLoad()}},_error:function(t){i.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var t=r.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,r._error("image")},t.src=r.coming.href,!0!==t.complete&&r.showLoading()},_loadAjax:function(){var t=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},t.ajax,{url:t.href,error:function(t,e){r.coming&&"abort"!==e?r._error("ajax",t):r.hideLoading()},success:function(e,i){"success"===i&&(t.content=e,r._afterLoad())}}))},_loadIframe:function(){var t=r.coming,e=i(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",d?"auto":t.iframe.scrolling).attr("src",t.href);i(t.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(r.showLoading(),e.one("load",function(){i(this).data("ready",1),d||i(this).bind("load.fb",r.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),r._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||r._afterLoad()},_preloadImages:function(){var t,e,i=r.group,n=r.current,o=i.length,a=n.preload?Math.min(n.preload,o-1):0;for(e=1;e<=a;e+=1)t=i[(n.index+e)%o],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,n,o,a,s=r.coming,l=r.current;if(r.hideLoading(),s&&!1!==r.isActive)if(!1===r.trigger("afterLoad",s,l))s.wrap.stop(!0).trigger("onReset").remove(),r.coming=null;else{switch(l&&(r.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),r.unbindEvents(),t=s.content,e=s.type,n=s.scrolling,i.extend(r,{wrap:s.wrap,skin:s.skin,outer:s.outer,inner:s.inner,current:s,previous:l}),o=s.href,e){case"inline":case"ajax":case"html":s.selector?t=i("<div>").html(t).find(s.selector):u(t)&&(t.data("fancybox-placeholder")||t.data("fancybox-placeholder",i('<div class="fancybox-placeholder"></div>').insertAfter(t).hide()),t=t.show().detach(),s.wrap.bind("onReset",function(){i(this).find(t).length&&t.hide().replaceAll(t.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":t=s.tpl.image.replace(/\{href\}/g,o);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',a="",i.each(s.swf,function(e,i){t+='<param name="'+e+'" value="'+i+'"></param>',a+=" "+e+'="'+i+'"'}),t+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}u(t)&&t.parent().is(s.inner)||s.inner.append(t),r.trigger("beforeShow"),s.inner.css("overflow","yes"===n?"scroll":"no"===n?"hidden":n),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?l.prevMethod&&r.transitions[l.prevMethod]():i(".fancybox-wrap").not(s.wrap).stop(!0).trigger("onReset").remove(),r.transitions[r.isOpened?s.nextMethod:s.openMethod](),r._preloadImages()}},_setDimension:function(){var t,e,n,o,a,s,l,c,d,u=r.getViewport(),h=0,g=!1,v=!1,g=r.wrap,b=r.skin,y=r.inner,w=r.current,v=w.width,_=w.height,x=w.minWidth,k=w.minHeight,C=w.maxWidth,A=w.maxHeight,$=w.scrolling,S=w.scrollOutside?w.scrollbarWidth:0,T=w.margin,I=f(T[1]+T[3]),P=f(T[0]+T[2]);if(g.add(b).add(y).width("auto").height("auto").removeClass("fancybox-tmp"),T=f(b.outerWidth(!0)-b.width()),t=f(b.outerHeight(!0)-b.height()),e=I+T,n=P+t,o=p(v)?(u.w-e)*f(v)/100:v,a=p(_)?(u.h-n)*f(_)/100:_,"iframe"===w.type){if(d=w.content,w.autoHeight&&1===d.data("ready"))try{d[0].contentWindow.document.location&&(y.width(o).height(9999),s=d.contents().find("body"),S&&s.css("overflow-x","hidden"),a=s.outerHeight(!0))}catch(D){}}else(w.autoWidth||w.autoHeight)&&(y.addClass("fancybox-tmp"),w.autoWidth||y.width(o),w.autoHeight||y.height(a),w.autoWidth&&(o=y.width()),w.autoHeight&&(a=y.height()),y.removeClass("fancybox-tmp"));if(v=f(o),_=f(a),c=o/a,x=f(p(x)?f(x,"w")-e:x),C=f(p(C)?f(C,"w")-e:C),k=f(p(k)?f(k,"h")-n:k),A=f(p(A)?f(A,"h")-n:A),s=C,l=A,w.fitToView&&(C=Math.min(u.w-e,C),A=Math.min(u.h-n,A)),e=u.w-I,P=u.h-P,w.aspectRatio?(v>C&&(v=C,_=f(v/c)),_>A&&(_=A,v=f(_*c)),v<x&&(v=x,_=f(v/c)),_<k&&(_=k,v=f(_*c))):(v=Math.max(x,Math.min(v,C)),w.autoHeight&&"iframe"!==w.type&&(y.width(v),_=y.height()),_=Math.max(k,Math.min(_,A))),w.fitToView)if(y.width(v).height(_),g.width(v+T),u=g.width(),I=g.height(),w.aspectRatio)for(;(u>e||I>P)&&v>x&&_>k&&!(19<h++);)_=Math.max(k,Math.min(A,_-10)),v=f(_*c),v<x&&(v=x,_=f(v/c)),v>C&&(v=C,_=f(v/c)),y.width(v).height(_),g.width(v+T),u=g.width(),I=g.height();else v=Math.max(x,Math.min(v,v-(u-e))),_=Math.max(k,Math.min(_,_-(I-P)));S&&"auto"===$&&_<a&&v+T+S<e&&(v+=S),y.width(v).height(_),g.width(v+T),u=g.width(),I=g.height(),g=(u>e||I>P)&&v>x&&_>k,v=w.aspectRatio?v<s&&_<l&&v<o&&_<a:(v<s||_<l)&&(v<o||_<a),i.extend(w,{dim:{width:m(u),height:m(I)},origWidth:o,origHeight:a,canShrink:g,canExpand:v,wPadding:T,hPadding:t,wrapSpace:I-b.outerHeight(!0),skinSpace:b.height()-_}),!d&&w.autoHeight&&_>k&&_<A&&!v&&y.height("auto")},_getPosition:function(t){var e=r.current,i=r.getViewport(),n=e.margin,o=r.wrap.width()+n[1]+n[3],a=r.wrap.height()+n[0]+n[2],n={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&a<=i.h&&o<=i.w?n.position="fixed":e.locked||(n.top+=i.y,n.left+=i.x),n.top=m(Math.max(n.top,n.top+(i.h-a)*e.topRatio)),n.left=m(Math.max(n.left,n.left+(i.w-o)*e.leftRatio)),n},_afterZoomIn:function(){var t=r.current;t&&(r.isOpen=r.isOpened=!0,r.wrap.css("overflow","visible").addClass("fancybox-opened"),r.update(),(t.closeClick||t.nextClick&&1<r.group.length)&&r.inner.css("cursor","pointer").bind("click.fb",function(e){i(e.target).is("a")||i(e.target).parent().is("a")||(e.preventDefault(),r[t.closeClick?"close":"next"]())}),t.closeBtn&&i(t.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(t){t.preventDefault(),r.close()}),t.arrows&&1<r.group.length&&((t.loop||0<t.index)&&i(t.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(t.loop||t.index<r.group.length-1)&&i(t.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.trigger("afterShow"),t.loop||t.index!==t.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play(!0)):r.play(!1))},_afterZoomOut:function(t){t=t||r.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",t)}}),r.transitions={getOrigPosition:function(){var t=r.current,e=t.element,i=t.orig,n={},o=50,a=50,s=t.hPadding,l=t.wPadding,c=r.getViewport();return!i&&t.isDom&&e.is(":visible")&&(i=e.find("img:first"),i.length||(i=e)),u(i)?(n=i.offset(),i.is("img")&&(o=i.outerWidth(),a=i.outerHeight())):(n.top=c.y+(c.h-a)*t.topRatio,n.left=c.x+(c.w-o)*t.leftRatio),("fixed"===r.wrap.css("position")||t.locked)&&(n.top-=c.y,n.left-=c.x),n={top:m(n.top-s*t.topRatio),left:m(n.left-l*t.leftRatio),width:m(o+l),height:m(a+s)}},step:function(t,e){var i,n,o=e.prop;n=r.current;var a=n.wrapSpace,s=n.skinSpace;"width"!==o&&"height"!==o||(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),r.isClosing&&(i=1-i),n="width"===o?n.wPadding:n.hPadding,n=t-n,r.skin[o](f("width"===o?n:n-a*i)),r.inner[o](f("width"===o?n:n-a*i-s*i)))},zoomIn:function(){var t=r.current,e=t.pos,n=t.openEffect,o="elastic"===n,a=i.extend({opacity:1},e);delete a.position,o?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===n&&(e.opacity=.1),r.wrap.css(e).animate(a,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:o?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var t=r.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),r.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var t,e=r.current,i=e.nextEffect,n=e.pos,o={opacity:1},a=r.direction;n.opacity=.1,"elastic"===i&&(t="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(n[t]=m(f(n[t])-200),o[t]="+=200px"):(n[t]=m(f(n[t])+200),o[t]="-=200px")),"none"===i?r._afterZoomIn():r.wrap.css(n).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var t=r.previous,e=t.prevEffect,n={opacity:.1},o=r.direction;"elastic"===e&&(n["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"=200px"),t.wrap.animate(n,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(t){var e;t=i.extend({},this.defaults,t),this.overlay&&this.close(),e=r.coming?r.coming.parent:t.parent,this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(e&&e.lenth?e:"body"),this.fixed=!1,t.fixed&&r.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=i.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(a.bind("resize.overlay",i.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(i(t.target).hasClass("fancybox-overlay"))return r.isActive?r.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){a.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),a.scrollTop(this.scrollV).scrollLeft(this.scrollH)),i(".fancybox-overlay").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var t,i="100%";this.overlay.width(i).height("100%"),l?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),s.width()>t&&(i=s.width())):s.width()>a.width()&&(i=s.width()),this.overlay.width(i).height(s.height())},onReady:function(t,e){var n=this.overlay;i(".fancybox-overlay").stop(!0,!0),n||this.create(t),t.locked&&this.fixed&&e.fixed&&(e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){e.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&i("*").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=a.scrollTop(),this.scrollH=a.scrollLeft(),this.el.addClass("fancybox-lock"),a.scrollTop(this.scrollV).scrollLeft(this.scrollH)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!r.coming&&this.overlay.fadeOut(t.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e=r.current,n=e.title,o=t.type;if(i.isFunction(n)&&(n=n.call(e.element,e)),h(n)&&""!==i.trim(n)){switch(e=i('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+n+"</div>"),o){case"inside":o=r.skin;break;case"outside":o=r.wrap;break;case"over":o=r.inner;break;default:o=r.skin,e.appendTo("body"),l&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(f(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](o)}}},i.fn.fancybox=function(t){var e,n=i(this),o=this.selector||"",a=function(a){var s,l,c=i(this).blur(),d=e;a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||c.is(".fancybox-wrap")||(s=t.groupAttr||"data-fancybox-group",l=c.attr(s),l||(s="rel",l=c.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(c=o.length?i(o):n,c=c.filter("["+s+'="'+l+'"]'),d=c.index(this)),t.index=d,!1!==r.open(c,t)&&a.preventDefault())};return t=t||{},e=t.index||0,o&&!1!==t.live?s.undelegate(o,"click.fb-start").delegate(o+":not('.fancybox-item, .fancybox-nav')","click.fb-start",a):n.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancybox-start=1]").trigger("click"),this},s.ready(function(){var e,a;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var t=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),e=e.innerWidth()-e.height(99).innerWidth();return t.remove(),e}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var t=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===t[0].offsetTop||15===t[0].offsetTop;return t.remove(),e}()),i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),e=i(t).width(),o.addClass("fancybox-lock-test"),a=i(t).width(),o.removeClass("fancybox-lock-test"),i("<style type='text/css'>.fancybox-margin{margin-right:"+(a-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery),!function(t){"use strict";var e=t.jCarousel={};e.version="0.3.5";var i=/^([+\-]=)?(.+)$/;e.parseTarget=function(t){var e=!1,n="object"!=typeof t?i.exec(t):null;return n?(t=parseInt(n[2],10)||0,n[1]&&(e=!0,"-="===n[1]&&(t*=-1))):"object"!=typeof t&&(t=parseInt(t,10)||0),{target:t,relative:e}},e.detectCarousel=function(t){for(var e;t.length>0;){if(e=t.filter("[data-jcarousel]"),e.length>0)return e;if(e=t.find("[data-jcarousel]"),e.length>0)return e;t=t.parent()}return null},e.base=function(i){return{version:e.version,_options:{},_element:null,_carousel:null,_init:t.noop,_create:t.noop,_destroy:t.noop,_reload:t.noop,create:function(){return this._element.attr("data-"+i.toLowerCase(),!0).data(i,this),!1===this._trigger("create")?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return!1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(i).removeAttr("data-"+i.toLowerCase()),this)},reload:function(t){return!1===this._trigger("reload")?this:(t&&this.options(t),this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(e,i){if(0===arguments.length)return t.extend({},this._options);if("string"==typeof e){if(void 0===i)return void 0===this._options[e]?null:this._options[e];this._options[e]=i}else this._options=t.extend({},this._options,e);return this},carousel:function(){return this._carousel||(this._carousel=e.detectCarousel(this.options("carousel")||this._element),this._carousel||t.error('Could not detect carousel for plugin "'+i+'"')),this._carousel},_trigger:function(e,n,o){var a,s=!1;return o=[this].concat(o||[]),(n||this._element).each(function(){a=t.Event((i+":"+e).toLowerCase()),t(this).trigger(a,o),a.isDefaultPrevented()&&(s=!0)}),!s}}},e.plugin=function(i,n){var o=t[i]=function(e,i){this._element=t(e),this.options(i),this._init(),this.create()};return o.fn=o.prototype=t.extend({},e.base(i),n),t.fn[i]=function(e){var n=Array.prototype.slice.call(arguments,1),a=this;return"string"==typeof e?this.each(function(){var o=t(this).data(i);if(!o)return t.error("Cannot call methods on "+i+' prior to initialization; attempted to call method "'+e+'"');if(!t.isFunction(o[e])||"_"===e.charAt(0))return t.error('No such method "'+e+'" for '+i+" instance");var s=o[e].apply(o,n);return s!==o&&void 0!==s?(a=s,!1):void 0}):this.each(function(){var n=t(this).data(i);n instanceof o?n.reload(e):new o(this,e)}),a},o}}(jQuery),function(t,e){"use strict";var i=t(e),n=function(t){return parseFloat(t)||0};t.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeState:null,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:t(),_first:t(),_last:t(),_visible:t(),_fullyvisible:t(),_init:function(){var t=this;return t.resizeState=i.width()+"x"+i.height(),this.onWindowResize=function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){var e=i.width()+"x"+i.height();e!==t.resizeState&&(t.resizeState=e,t.reload())},100)},this},_create:function(){this._reload(),i.on("resize.jcarousel",this.onWindowResize)},_destroy:function(){i.off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical"),null==this.vertical&&(this.vertical=this.list().height()>this.list().width()),this.rtl=this.options("rtl"),null==this.rtl&&(this.rtl=function(e){if("rtl"===(""+e.attr("dir")).toLowerCase())return!0;var i=!1;return e.parents("[dir]").each(function(){if(/rtl/i.test(t(this).attr("dir")))return i=!0,!1}),i}(this._element)),this.lt=this.vertical?"top":"left",this.relative="relative"===this.list().css("position"),this._list=null,this._items=null;var e=this.index(this._target)>=0?this._target:this.closest();this.circular="circular"===this.options("wrap"),this.underflow=!1;var i={left:0,top:0};return e.length>0&&(this._prepare(e),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,i[this.lt]=this._position(e)+"px"),this.move(i),this},list:function(){if(null===this._list){var e=this.options("list");this._list=t.isFunction(e)?e.call(this):this._element.find(e)}return this._list},items:function(){if(null===this._items){var e=this.options("items");this._items=(t.isFunction(e)?e.call(this):this.list().find(e)).not("[data-jcarousel-clone]")}return this._items},index:function(t){return this.items().index(t)},closest:function(){var e,i=this,o=this.list().position()[this.lt],a=t(),s=!1,r=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right";return this.rtl&&this.relative&&!this.vertical&&(o+=this.list().width()-this.clipping()),this.items().each(function(){if(a=t(this),s)return!1;var l=i.dimension(a);if((o+=l)>=0){if(e=l-n(a.css("margin-"+r)),!(Math.abs(o)-l+e/2<=0))return!1;s=!0}}),a},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var t=this.options("wrap"),e=this.items().length-1,i=this.options("center")?this._target:this._last;return!!(e>=0&&!this.underflow&&(t&&"first"!==t||this.index(i)<e||this.tail&&!this.inTail))},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var t=this.options("wrap");return!!(this.items().length>0&&!this.underflow&&(t&&"last"!==t||this.index(this._first)>0||this.tail&&this.inTail))},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(t){return t["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(e,i,n){if(this.animating)return this;if(!1===this._trigger("scroll",null,[e,i]))return this;t.isFunction(i)&&(n=i,i=!0);var o=t.jCarousel.parseTarget(e);if(o.relative){var a,s,r,l,c,d,u,h,p=this.items().length-1,f=Math.abs(o.target),m=this.options("wrap");if(o.target>0){var g=this.index(this._last);if(g>=p&&this.tail)this.inTail?"both"===m||"last"===m?this._scroll(0,i,n):t.isFunction(n)&&n.call(this,!1):this._scrollTail(i,n);else if(a=this.index(this._target),this.underflow&&a===p&&("circular"===m||"both"===m||"last"===m)||!this.underflow&&g===p&&("both"===m||"last"===m))this._scroll(0,i,n);else if(r=a+f,this.circular&&r>p){for(h=p,c=this.items().get(-1);h++<r;)c=this.items().eq(0),d=this._visible.index(c)>=0,d&&c.after(c.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(c),d||(u={},u[this.lt]=this.dimension(c),this.moveBy(u)),this._items=null;this._scroll(c,i,n)}else this._scroll(Math.min(r,p),i,n)}else if(this.inTail)this._scroll(Math.max(this.index(this._first)-f+1,0),i,n);else if(s=this.index(this._first),a=this.index(this._target),l=this.underflow?a:s,r=l-f,l<=0&&(this.underflow&&"circular"===m||"both"===m||"first"===m))this._scroll(p,i,n);else if(this.circular&&r<0){for(h=r,c=this.items().get(0);h++<0;){c=this.items().eq(-1),d=this._visible.index(c)>=0,d&&c.after(c.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(c),this._items=null;var v=this.dimension(c);u={},u[this.lt]=-v,this.moveBy(u)}this._scroll(c,i,n)}else this._scroll(Math.max(r,0),i,n)}else this._scroll(o.target,i,n);return this._trigger("scrollend"),this},moveBy:function(t,e){var i=this.list().position(),o=1,a=0;return this.rtl&&!this.vertical&&(o=-1,this.relative&&(a=this.list().width()-this.clipping())),t.left&&(t.left=i.left+a+n(t.left)*o+"px"),t.top&&(t.top=i.top+a+n(t.top)*o+"px"),this.move(t,e)},move:function(e,i){i=i||{};var n=this.options("transitions"),o=!!n,a=!!n.transforms,s=!!n.transforms3d,r=i.duration||0,l=this.list();if(!o&&r>0)return void l.animate(e,i);var c=i.complete||t.noop,d={};if(o){var u={transitionDuration:l.css("transitionDuration"),transitionTimingFunction:l.css("transitionTimingFunction"),transitionProperty:l.css("transitionProperty")},h=c;c=function(){t(this).css(u),h.call(this)},d={transitionDuration:(r>0?r/1e3:0)+"s",transitionTimingFunction:n.easing||i.easing,transitionProperty:r>0?function(){return a||s?"all":e.left?"left":"top"}():"none",transform:"none"}}s?d.transform="translate3d("+(e.left||0)+","+(e.top||0)+",0)":a?d.transform="translate("+(e.left||0)+","+(e.top||0)+")":t.extend(d,e),o&&r>0&&l.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",c),l.css(d),r<=0&&l.each(function(){c.call(this)})},_scroll:function(e,i,n){if(this.animating)return t.isFunction(n)&&n.call(this,!1),this;if("object"!=typeof e?e=this.items().eq(e):void 0===e.jquery&&(e=t(e)),0===e.length)return t.isFunction(n)&&n.call(this,!1),this;this.inTail=!1,this._prepare(e);var o=this._position(e);if(o===this.list().position()[this.lt])return t.isFunction(n)&&n.call(this,!1),this;var a={};return a[this.lt]=o+"px",this._animate(a,i,n),this},_scrollTail:function(e,i){if(this.animating||!this.tail)return t.isFunction(i)&&i.call(this,!1),this;var n=this.list().position()[this.lt];this.rtl&&this.relative&&!this.vertical&&(n+=this.list().width()-this.clipping()),this.rtl&&!this.vertical?n+=this.tail:n-=this.tail,this.inTail=!0;var o={};return o[this.lt]=n+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(o,e,i),this},_animate:function(e,i,n){if(n=n||t.noop,!1===this._trigger("animate"))return n.call(this,!1),this;this.animating=!0;var o=this.options("animation"),a=t.proxy(function(){this.animating=!1;var t=this.list().find("[data-jcarousel-clone]");t.length>0&&(t.remove(),this._reload()),this._trigger("animateend"),n.call(this,!0)},this),s="object"==typeof o?t.extend({},o):{duration:o},r=s.complete||t.noop;return i===!1?s.duration=0:void 0!==t.fx.speeds[s.duration]&&(s.duration=t.fx.speeds[s.duration]),s.complete=function(){a(),r.call(this)},this.move(e,s),this},_prepare:function(e){var i,o,a,s,r=this.index(e),l=r,c=this.dimension(e),d=this.clipping(),u=this.vertical?"bottom":this.rtl?"left":"right",h=this.options("center"),p={target:e,first:e,last:e,visible:e,fullyvisible:c<=d?e:t()};if(h&&(c/=2,d/=2),c<d)for(;;){if(i=this.items().eq(++l),0===i.length){if(!this.circular)break;if(i=this.items().eq(0),e.get(0)===i.get(0))break;if(o=this._visible.index(i)>=0,o&&i.after(i.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(i),!o){var f={};f[this.lt]=this.dimension(i),this.moveBy(f)}this._items=null}if(0===(s=this.dimension(i)))break;if(c+=s,p.last=i,p.visible=p.visible.add(i),a=n(i.css("margin-"+u)),c-a<=d&&(p.fullyvisible=p.fullyvisible.add(i)),c>=d)break}if(!this.circular&&!h&&c<d)for(l=r;!(--l<0)&&(i=this.items().eq(l),0!==i.length)&&0!==(s=this.dimension(i))&&(c+=s,p.first=i,p.visible=p.visible.add(i),a=n(i.css("margin-"+u)),c-a<=d&&(p.fullyvisible=p.fullyvisible.add(i)),!(c>=d)););return this._update(p),this.tail=0,h||"circular"===this.options("wrap")||"custom"===this.options("wrap")||this.index(p.last)!==this.items().length-1||(c-=n(p.last.css("margin-"+u)))>d&&(this.tail=c-d),this},_position:function(t){var e=this._first,i=e.position()[this.lt],n=this.options("center"),o=n?this.clipping()/2-this.dimension(e)/2:0;return this.rtl&&!this.vertical?(i-=this.relative?this.list().width()-this.dimension(e):this.clipping()-this.dimension(e),i+=o):i-=o,!n&&(this.index(t)>this.index(e)||this.inTail)&&this.tail?(i=this.rtl&&!this.vertical?i-this.tail:i+this.tail,this.inTail=!0):this.inTail=!1,-i},_update:function(e){var i,n=this,o={target:this._target,first:this._first,last:this._last,visible:this._visible,fullyvisible:this._fullyvisible},a=this.index(e.first||o.first)<this.index(o.first),s=function(i){var s=[],r=[];e[i].each(function(){o[i].index(this)<0&&s.push(this)}),o[i].each(function(){e[i].index(this)<0&&r.push(this)}),a?s=s.reverse():r=r.reverse(),n._trigger(i+"in",t(s)),n._trigger(i+"out",t(r)),n["_"+i]=e[i]};for(i in e)s(i);return this}})}(jQuery,window),function(t){"use strict";t.jcarousel.fn.scrollIntoView=function(e,i,n){var o,a=t.jCarousel.parseTarget(e),s=this.index(this._fullyvisible.first()),r=this.index(this._fullyvisible.last());if((o=a.relative?a.target<0?Math.max(0,s+a.target):r+a.target:"object"!=typeof a.target?a.target:this.index(a.target))<s)return this.scroll(o,i,n);if(o>=s&&o<=r)return t.isFunction(n)&&n.call(this,!1),this;for(var l,c=this.items(),d=this.clipping(),u=this.vertical?"bottom":this.rtl?"left":"right",h=0;l=c.eq(o),0!==l.length;){if((h+=this.dimension(l))>=d){h-(parseFloat(l.css("margin-"+u))||0)!==d&&o++;break}if(o<=0)break;o--}return this.scroll(o,i,n)}}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onEvent=t.proxy(function(e){e.preventDefault();var i=this.options("method");t.isFunction(i)?i.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload),this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent),this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var e,i=t.jCarousel.parseTarget(this.options("target")),n=this.carousel();if(i.relative)e=n.jcarousel(i.target>0?"hasNext":"hasPrev");else{var o="object"!=typeof i.target?n.jcarousel("items").eq(i.target):i.target;e=n.jcarousel("target").index(o)>=0}return this._active!==e&&(this._trigger(e?"active":"inactive"),this._active=e),this}})}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(t){return'<a href="#'+t+'">'+t+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onScroll=t.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll),this._reload()},_destroy:function(){this._clear(),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll),this._carouselItems=null;
},_reload:function(){var e=this.options("perPage");if(this._pages={},this._items={},t.isFunction(e)&&(e=e.call(this)),null==e)this._pages=this._calculatePages();else for(var i,n=parseInt(e,10)||0,o=this._getCarouselItems(),a=1,s=0;i=o.eq(s++),0!==i.length;)this._pages[a]?this._pages[a]=this._pages[a].add(i):this._pages[a]=i,s%n==0&&a++;this._clear();var r=this,l=this.carousel().data("jcarousel"),c=this._element,d=this.options("item"),u=this._getCarouselItems().length;t.each(this._pages,function(e,i){var n=r._items[e]=t(d.call(r,e,i));n.on(r.options("event")+".jcarouselpagination",t.proxy(function(){var t=i.eq(0);if(l.circular){var n=l.index(l.target()),o=l.index(t);parseFloat(e)>parseFloat(r._currentPage)?o<n&&(t="+="+(u-n+o)):o>n&&(t="-="+(n+(u-o)))}l[this.options("method")](t)},r)),c.append(n)}),this._update()},_update:function(){var e,i=this.carousel().jcarousel("target");t.each(this._pages,function(t,n){if(n.each(function(){if(i.is(this))return e=t,!1}),e)return!1}),this._currentPage!==e&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[e])),this._currentPage=e},items:function(){return this._items},reloadCarouselItems:function(){return this._carouselItems=null,this},_clear:function(){this._element.empty(),this._currentPage=null},_calculatePages:function(){for(var t,e,i=this.carousel().data("jcarousel"),n=this._getCarouselItems(),o=i.clipping(),a=0,s=0,r=1,l={};t=n.eq(s++),0!==t.length;)e=i.dimension(t),a+e>o&&(r++,a=0),a+=e,l[r]?l[r]=l[r].add(t):l[r]=t;return l},_getCarouselItems:function(){return this._carouselItems||(this._carouselItems=this.carousel().jcarousel("items")),this._carouselItems}})}(jQuery),function(t,e){"use strict";var i,n,o={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange",webkitHidden:"webkitvisibilitychange"};t.each(o,function(t,o){if(void 0!==e[t])return i=t,n=o,!1}),t.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:!0},_timer:null,_started:!1,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onAnimateEnd=t.proxy(this._start,this),this.onVisibilityChange=t.proxy(function(){e[i]?this._stop():this._start()},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy),t(e).on(n,this.onVisibilityChange),this.options("autostart")&&this.start()},_destroy:function(){this._stop(),this.carousel().off("jcarousel:destroy",this.onDestroy),t(e).off(n,this.onVisibilityChange)},_start:function(){if(this._stop(),this._started)return this.carousel().one("jcarousel:animateend",this.onAnimateEnd),this._timer=setTimeout(t.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval")),this},_stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().off("jcarousel:animateend",this.onAnimateEnd),this},start:function(){return this._started=!0,this._start(),this},stop:function(){return this._started=!1,this._stop(),this}})}(jQuery,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,n){var o,a,s,r=e.nodeName.toLowerCase();return"area"===r?(o=e.parentNode,a=o.name,!(!e.href||!a||"map"!==o.nodeName.toLowerCase())&&(s=t("img[usemap='#"+a+"']")[0],!!s&&i(s))):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),o=isNaN(n);return(o||n>=0)&&e(i,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,a){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),a&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?s["inner"+i].call(this):this.each(function(){t(this).css(a,n(this,e)+"px")})},t.fn["outer"+i]=function(e,o){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(a,n(this,e,!0,o)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var o,a=t.ui[e].prototype;for(o in n)a.plugins[o]=a.plugins[o]||[],a.plugins[o].push([i,n[o]])},call:function(t,e,i,n){var o,a=t.plugins[e];if(a&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<a.length;o++)t.options[a[o][0]]&&a[o][1].apply(t.element,i)}}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var n,o,a;for(a=0;null!=(o=i[a]);a++)try{n=t._data(o,"events"),n&&n.remove&&t(o).triggerHandler("remove")}catch(s){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var o,a,s,r,l={},c=e.split(".")[0];return e=e.split(".")[1],o=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][e],s=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=o,e=n.apply(this,arguments),this._super=i,this._superApply=a,e}}()):void(l[e]=n)}),s.prototype=t.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||e:e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete a._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,o,a=i.call(arguments,1),s=0,r=a.length;s<r;s++)for(n in a[s])o=a[s][n],a[s].hasOwnProperty(n)&&void 0!==o&&(t.isPlainObject(o)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],o):t.widget.extend({},o):e[n]=o);return e},t.widget.bridge=function(e,n){var o=n.prototype.widgetFullName||e;t.fn[e]=function(a){var s="string"==typeof a,r=i.call(arguments,1),l=this;return s?this.each(function(){var i,n=t.data(this,o);return"instance"===a?(l=n,!1):n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")}):(r.length&&(a=t.widget.extend.apply(null,[a].concat(r))),this.each(function(){var e=t.data(this,o);e?(e.option(a||{}),e._init&&e._init()):t.data(this,o,new n(a,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,o,a,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(o=s[e]=t.widget.extend({},this.options[e]),a=0;a<n.length-1;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(e=n.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var o,a=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),t.each(n,function(n,s){function r(){if(e||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?a[s]:s).apply(a,arguments)}"string"!=typeof s&&(r.guid=s.guid=s.guid||r.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,d=l[2];d?o.delegate(d,c,r):i.bind(c,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var o,a,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(o in a)o in i||(i[o]=a[o]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,a){"string"==typeof o&&(o={effect:o});var s,r=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=a,o.delay&&n.delay(o.delay),s&&t.effects&&t.effects.effect[r]?n[e](o):r!==e&&n[r]?n[r](o.duration,o.easing,a):n.queue(function(i){t(this)[e](),a&&a.call(n[0]),i()})}}),t.widget}),function(t){"function"==typeof define&&define.amd?define(["jquery","./widget"],t):t(jQuery)}(function(t){var e=!1;return t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,a=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&t(i.target).closest(this.options.cancel).length;return!(o&&!a&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&t.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),e=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],t):t(jQuery)}(function(t){var e,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",o=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},a=function(e){var i=e.name,n=e.form,o=t([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?t(n).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),o};return t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,o),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,s=this.options,r="checkbox"===this.type||"radio"===this.type,l=r?"":"ui-state-active";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||t(this).removeClass(l)}).bind("click"+this.eventNamespace,function(t){s.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled)return!1;t(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var e=n.element[0];a(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!s.disabled&&(t(this).addClass("ui-state-active"),e=this,void n.document.one("mouseup",function(){e=null}))}).bind("mouseup"+this.eventNamespace,function(){return!s.disabled&&void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return!s.disabled&&void(e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?a(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(n),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),o=this.options.icons,a=o.primary&&o.secondary,s=[];o.primary||o.secondary?(this.options.text&&s.push("ui-button-text-icon"+(a?"s":o.primary?"-primary":"-secondary")),o.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+o.primary+"'></span>"),o.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+o.secondary+"'></span>"),this.options.text||(s.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):s.push("ui-button-text-only"),e.addClass(s.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",s=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),e=o.length;e<i;e++)s.push(a);this.handles=o.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,o,a,s,r,l,c,d=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-d.values(e));(o>i||o===i&&(e===d._lastChangedValue||d.values(e)===u.min))&&(o=i,a=t(this),s=e)}),r=this._start(e,s),r!==!1&&(this._mouseSliding=!0,this._handleIndex=s,a.addClass("ui-state-active").focus(),l=a.offset(),c=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:e.pageX-l.left-a.width()/2,top:e.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,o,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),a=this._valueMin()+n*o,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,o,a;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&i<n)&&(i=n),i!==this.values(e)&&(o=this.values(),o[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:o}),n=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,o,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,o=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(o[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var n,o=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<o;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,n=Math.floor(+(t-e).toFixed(this._precision())/i)*i;t=n+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return i===-1?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,n,o,a,s=this.options.range,r=this.options,l=this,c=!this._animateOff&&r.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,d["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](d,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({
left:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(n=this.value(),o=this._valueMin(),a=this._valueMax(),i=a!==o?(n-o)/(a-o)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](d,r.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},r.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},r.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var i,n,o,a,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),i=this._start(e,s),i===!1))return}switch(a=this.options.step,n=o=this.options.values&&this.options.values.length?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:o=this._valueMin();break;case t.ui.keyCode.END:o=this._valueMax();break;case t.ui.keyCode.PAGE_UP:o=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;o=this._trimAlignValue(n+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;o=this._trimAlignValue(n-a)}this._slide(e,s,o)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,a,s=Math.max,r=Math.abs,l=Math.round,c=/left|center|right/,d=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=n.children()[0];return t("body").append(n),e=a.offsetWidth,n.css("overflow","scroll"),i=a.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),o=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||o?i.width():i.outerWidth(),height:n||o?i.height():i.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return f.apply(this,arguments);o=t.extend({},o);var p,m,g,v,b,y,w=t(o.of),_=t.position.getWithinInfo(o.within),x=t.position.getScrollInfo(_),k=(o.collision||"flip").split(" "),C={};return y=n(w),w[0].preventDefault&&(o.at="left top"),m=y.width,g=y.height,v=y.offset,b=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(o[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):d.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=d.test(i[1])?i[1]:"center",t=u.exec(i[0]),e=u.exec(i[1]),C[this]=[t?t[0]:0,e?e[0]:0],o[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===o.at[0]?b.left+=m:"center"===o.at[0]&&(b.left+=m/2),"bottom"===o.at[1]?b.top+=g:"center"===o.at[1]&&(b.top+=g/2),p=e(C.at,m,g),b.left+=p[0],b.top+=p[1],this.each(function(){var n,c,d=t(this),u=d.outerWidth(),h=d.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),A=u+f+i(this,"marginRight")+x.width,$=h+y+i(this,"marginBottom")+x.height,S=t.extend({},b),T=e(C.my,d.outerWidth(),d.outerHeight());"right"===o.my[0]?S.left-=u:"center"===o.my[0]&&(S.left-=u/2),"bottom"===o.my[1]?S.top-=h:"center"===o.my[1]&&(S.top-=h/2),S.left+=T[0],S.top+=T[1],a||(S.left=l(S.left),S.top=l(S.top)),n={marginLeft:f,marginTop:y},t.each(["left","top"],function(e,i){t.ui.position[k[e]]&&t.ui.position[k[e]][i](S,{targetWidth:m,targetHeight:g,elemWidth:u,elemHeight:h,collisionPosition:n,collisionWidth:A,collisionHeight:$,offset:[p[0]+T[0],p[1]+T[1]],my:o.my,at:o.at,within:_,elem:d})}),o.using&&(c=function(t){var e=v.left-S.left,i=e+m-u,n=v.top-S.top,a=n+g-h,l={target:{element:w,left:v.left,top:v.top,width:m,height:g},element:{element:d,left:S.left,top:S.top,width:u,height:h},horizontal:i<0?"left":e>0?"right":"center",vertical:a<0?"top":n>0?"bottom":"middle"};m<u&&r(e+i)<m&&(l.horizontal="center"),g<h&&r(n+a)<g&&(l.vertical="middle"),s(r(e),r(i))>s(r(n),r(a))?l.important="horizontal":l.important="vertical",o.using.call(this,t,l)}),d.offset(t.extend(S,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,r=t.left-e.collisionPosition.marginLeft,l=o-r,c=r+e.collisionWidth-a-o;e.collisionWidth>a?l>0&&c<=0?(i=t.left+l+e.collisionWidth-a-o,t.left+=l-i):c>0&&l<=0?t.left=o:l>c?t.left=o+a-e.collisionWidth:t.left=o:l>0?t.left+=l:c>0?t.left-=c:t.left=s(t.left-r,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=o-r,c=r+e.collisionHeight-a-o;e.collisionHeight>a?l>0&&c<=0?(i=t.top+l+e.collisionHeight-a-o,t.top+=l-i):c>0&&l<=0?t.top=o:l>c?t.top=o+a-e.collisionHeight:t.top=o:l>0?t.top+=l:c>0?t.top-=c:t.top=s(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,a=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,d=c-l,u=c+e.collisionWidth-s-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];d<0?(i=t.left+h+p+f+e.collisionWidth-s-a,(i<0||i<r(d))&&(t.left+=h+p+f)):u>0&&(n=t.left-e.collisionPosition.marginLeft+h+p+f-l,(n>0||r(n)<u)&&(t.left+=h+p+f))},top:function(t,e){var i,n,o=e.within,a=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,d=c-l,u=c+e.collisionHeight-s-l,h="top"===e.my[1],p=h?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];d<0?(n=t.top+p+f+m+e.collisionHeight-s-a,(n<0||n<r(d))&&(t.top+=p+f+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,(i>0||r(i)<u)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,o,s,r=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)e.style[s]=n[s];e.appendChild(l),i=r||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=t(l).offset().left,a=o>10&&o<11,e.innerHTML="",i.removeChild(e)}()}(),t.ui.position}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery)}(function(t){function e(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){t.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.11.4"}});var s;return t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,o,a;n=e.nodeName.toLowerCase(),o="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),a=this._newInst(t(e),o),a.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,a):o&&this._inlineDatepicker(e,a)},_newInst:function(e,i){var o=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:o,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,o,a,s=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),"focus"!==n&&"both"!==n||e.focus(this._showDatepicker),"button"!==n&&"both"!==n||(o=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:a,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(a?t("<img/>").attr({src:a,alt:o,title:o}):o)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,o,a=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(i=0,n=0,o=0;o<t.length;o++)t[o].length>i&&(i=t[o].length,n=o);return n},a.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),t.input.attr("size",this._formatDate(t,a).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,o,s){var r,l,c,d,u,h=this._dialogInst;return h||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],"datepicker",h)),a(h.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+d,c/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var i,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),s===o&&(s=null))},_enableDatepicker:function(e){var i,n,o=t(e),a=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,o=t(e),a=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var o,s,r,l,c=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):c?"all"===i?t.extend({},c.settings):this._get(c,i):null:(o=i||{},"string"==typeof i&&(o={},o[i]=n),void(c&&(this._curInst===c&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),a(c.settings,o),null!==r&&void 0!==o.dateFormat&&void 0===o.minDate&&(c.settings.minDate=this._formatDate(c,r)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,s),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,o,a=t.datepicker._getInst(e.target),s=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",a.dpDiv),o[0]&&t.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,o[0]),i=t.datepicker._get(a,"onSelect"),i?(n=t.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[n,a])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,o=t.datepicker._getInst(e.target);if(t.datepicker._get(o,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(i){if(i=i.target||i,"input"!==i.nodeName.toLowerCase()&&(i=t("input",i.parentNode)[0]),!t.datepicker._isDisabledDatepicker(i)&&t.datepicker._lastInput!==i){var n,o,s,r,l,c,d;n=t.datepicker._getInst(i),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),o=t.datepicker._get(n,"beforeShow"),s=o?o.apply(i,[i,n]):{},s!==!1&&(a(n.settings,s),n.lastVal=null,t.datepicker._lastInput=i,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(i.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(i),t.datepicker._pos[1]+=i.offsetHeight),r=!1,t(i).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),l=t.datepicker._checkOffset(n,l,r),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(c=t.datepicker._get(n,"showAnim"),d=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",e(t(i))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[c]?n.dpDiv.show(c,t.datepicker._get(n,"showOptions"),d):n.dpDiv[c||"show"](c?d:null),t.datepicker._shouldFocusInput(n)&&n.input.focus(),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,s=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),a=n[1],r=17,l=e.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&o.apply(l.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&e.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",r*a+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var o=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?o-s:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+a>c&&c>a?Math.abs(a+r):0),i},_findPos:function(e){for(var i,n=this._getInst(e),o=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,o,a,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),o=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[i]||t.effects[i])?s.dpDiv.hide(i,t.datepicker._get(s,"showOptions"),n,o):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,a=this._get(s,"onClose"),a&&a.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var o=t(e),a=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(a,i+("M"===n?this._get(a,"showCurrentAtPos"):0),n),this._updateDatepicker(a))},_gotoToday:function(e){var i,n=t(e),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var o=t(e),a=this._getInst(o[0]);a["selected"+("M"===n?"Month":"Year")]=a["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(o)},_selectDay:function(e,i,n,o){var a,s=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(a=this._getInst(s[0]),a.selectedDay=a.currentDay=t("a",o).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=n,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,o=t(e),a=this._getInst(o[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),n=this._get(a,"onSelect"),n?n.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,o,a=this._get(e,"altField");a&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),o=this.formatDate(i,n,this._getFormatConfig(e)),t(a).each(function(){t(this).val(o)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var o,a,s,r,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,w=function(t){var i=o+1<e.length&&e.charAt(o+1)===t;return i&&o++,i},_=function(t){var e=w(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o="y"===t?n:1,a=new RegExp("^\\d{"+o+","+n+"}"),s=i.substring(l).match(a);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},x=function(e,n,o){var a=-1,s=t.map(w(e)?o:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var n=e[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return a=e[0],l+=n.length,!1}),a!==-1)return a+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==e.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<e.length;o++)if(y)"'"!==e.charAt(o)||w("'")?k():y=!1;else switch(e.charAt(o)){case"d":v=_("d");break;case"D":x("D",u,h);break;case"o":b=_("o");break;case"m":g=_("m");break;case"M":g=x("M",p,f);break;case"y":m=_("y");break;case"@":r=new Date(_("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((_("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":w("'")?k():y=!0;break;default:k()}if(l<i.length&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(m===-1?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=d?0:-100)),b>-1)for(g=1,v=b;;){if(a=this._getDaysInMonth(m,g-1),v<=a)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},d=function(t,e,i,n){return l(t)?n[e]:i[e]},u="",h=!1;if(e)for(n=0;n<t.length;n++)if(h)"'"!==t.charAt(n)||l("'")?u+=t.charAt(n):h=!1;else switch(t.charAt(n)){case"d":u+=c("d",e.getDate(),2);break;case"D":u+=d("D",e.getDay(),o,a);break;case"o":u+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",e.getMonth()+1,2);break;case"M":u+=d("M",e.getMonth(),s,r);break;case"y":u+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":h=!0;break;default:u+=t.charAt(n)}return u},_possibleChars:function(t){var e,i="",n=!1,o=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||o("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),a=o,s=this._getFormatConfig(t);
try{a=this.parseDate(i,n,s)||o}catch(r){n=e?"":n}t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),t.currentDay=n?a.getDate():0,t.currentMonth=n?a.getMonth():0,t.currentYear=n?a.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var o=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},a=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,a=o.getFullYear(),s=o.getMonth(),r=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":r+=parseInt(c[1],10);break;case"w":case"W":r+=7*parseInt(c[1],10);break;case"m":case"M":s+=parseInt(c[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(a,s));break;case"y":case"Y":a+=parseInt(c[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(a,s))}c=l.exec(i)}return new Date(a,s,r)},s=null==i||""===i?n:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return s=s&&"Invalid Date"===s.toString()?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,o=t.selectedMonth,a=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),o===t.selectedMonth&&a===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,o,a,s,r,l,c,d,u,h,p,f,m,g,v,b,y,w,_,x,k,C,A,$,S,T,I,P,D,j,M,E,O,L,F,B,z,V=new Date,q=this._daylightSavingAdjust(new Date(V.getFullYear(),V.getMonth(),V.getDate())),H=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),R=this._get(t,"hideIfNoPrevNext"),N=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),K=this._get(t,"stepMonths"),Q=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),X=this._getMinMaxDate(t,"max"),J=t.drawMonth-Y,tt=t.drawYear;if(J<0&&(J+=12,tt--),X)for(e=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-U[0]*U[1]+1,X.getDate())),e=Z&&e<Z?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)J--,J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=N?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-K,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":R?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",o=this._get(t,"nextText"),o=N?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,J+K,1)),this._getFormatConfig(t)):o,a=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+o+"</span></a>":R?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+o+"</span></a>",s=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:q,s=N?this.formatDate(s,r,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":l)+"</div>":"",d=parseInt(this._get(t,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),w="",x=0;x<U[0];x++){for(k="",this.maxRows=4,C=0;C<U[1];C++){if(A=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),$=" ui-corner-all",S="",Q){if(S+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",$=" ui-corner-"+(H?"right":"left");break;case U[1]-1:S+=" ui-datepicker-group-last",$=" ui-corner-"+(H?"left":"right");break;default:S+=" ui-datepicker-group-middle",$=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+$+"'>"+(/all|left/.test($)&&0===x?H?a:n:"")+(/all|right/.test($)&&0===x?H?n:a:"")+this._generateMonthYearHeader(t,J,tt,Z,X,x>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;_<7;_++)I=(_+d)%7,T+="<th scope='col'"+((_+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[I]+"'>"+p[I]+"</span></th>";for(S+=T+"</tr></thead><tbody>",P=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,P)),D=(this._getFirstDayOfMonth(tt,J)-d+7)%7,j=Math.ceil((D+P)/7),M=Q&&this.maxRows>j?this.maxRows:j,this.maxRows=M,E=this._daylightSavingAdjust(new Date(tt,J,1-D)),O=0;O<M;O++){for(S+="<tr>",L=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(E)+"</td>":"",_=0;_<7;_++)F=g?g.apply(t.input?t.input[0]:null,[E]):[!0,""],B=E.getMonth()!==J,z=B&&!b||!F[0]||Z&&E<Z||X&&E>X,L+="<td class='"+((_+d+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(E.getTime()===A.getTime()&&J===t.selectedMonth&&t._keyEvent||y.getTime()===E.getTime()&&y.getTime()===A.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+F[1]+(E.getTime()===G.getTime()?" "+this._currentClass:"")+(E.getTime()===q.getTime()?" ui-datepicker-today":""))+"'"+(B&&!v||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+E.getMonth()+"' data-year='"+E.getFullYear()+"'")+">"+(B&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+E.getDate()+"</span>":"<a class='ui-state-default"+(E.getTime()===q.getTime()?" ui-state-highlight":"")+(E.getTime()===G.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+E.getDate()+"</a>")+"</td>",E.setDate(E.getDate()+1),E=this._daylightSavingAdjust(E);S+=L+"</tr>"}J++,J>11&&(J=0,tt++),S+="</tbody></table>"+(Q?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=S}w+=k}return w+=c,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,i,n,o,a,s,r){var l,c,d,u,h,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(a||!g)w+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=o&&o.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;d<12;d++)(!l||d>=n.getMonth())&&(!c||d<=o.getMonth())&&(w+="<option value='"+d+"'"+(d===e?" selected='selected'":"")+">"+r[d]+"</option>");w+="</select>"}if(b||(y+=w+(!a&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=o?Math.min(m,o.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!a&&g&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),o=t.drawMonth+("M"===i?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(n,o))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,o,a)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),o=i&&e<i?i:e;return n&&o>n?n:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var o=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,n+(e<0?e:o[0]*o[1]),1));return e<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var i,n,o=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),s=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!o||e.getTime()>=o.getTime())&&(!a||e.getTime()<=a.getTime())&&(!s||e.getFullYear()>=s)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4",t.datepicker}),function(t){"function"==typeof define&&define.amd?define(["../datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional.ru={closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ru),t.regional.ru}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],t):t(jQuery)}(function(t){return t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),o=t.inArray(i,n);o!==-1&&n.splice(o,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur");o.target=o.currentTarget=n.element[0],e.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,o=this,a=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){o._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=a),this._open(e,t,i))})}),void(i&&this._open(e,t,i)))},_open:function(e,i,n){function o(t){c.of=t,s.is(":hidden")||s.position(c)}var a,s,r,l,c=t.extend({},this.options.position);if(n){if(a=this._find(i))return void a.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),s=a.tooltip,this._addDescribedBy(i,s.attr("id")),s.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,t("<div>").html(l).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:o}),o(e)):s.position(t.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){s.is(":visible")&&(o(c.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:s})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,o=t(e?e.currentTarget:this.element),a=this._find(o);return a?(i=a.tooltip,void(a.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),a.closing=!0,this._trigger("close",e,{tooltip:i}),a.hiding||(a.closing=!1)))):void o.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur"),a=n.element;o.target=o.currentTarget=a[0],e.close(o,!0),t("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button"],t):t(jQuery)}(function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}return t.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var o=i.attr(n);void 0!==o&&o.length&&(e[n]=o)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return this._start(e)!==!1&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&this._trigger("start",t)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return i===-1?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:e(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,o=this.headers.index(e.target),a=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:a=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[n-1]}a&&(t(e.target).attr("tabIndex",-1),t(a).attr("tabIndex",0),a.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,o=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),o=n.uniqueId().attr("id");e.attr("aria-controls",o),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=o.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget),a=o[0]===n[0],s=a&&i.collapsible,r=s?t():o.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:s?t():o,newPanel:r};e.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=!s&&this.headers.index(o),
this.active=a?t():o,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,o,a,s=this,r=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),d=this.options.animate||{},u=c&&d.down||d,h=function(){s._toggleComplete(i)};return"number"==typeof u&&(a=u),"string"==typeof u&&(o=u),o=o||u.easing||d.easing,a=a||u.duration||d.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:a,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:a,easing:o,complete:h,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(r+=i.now):"content"!==s.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-r),r=0)}})):e.animate(this.hideProps,a,o,h):t.animate(this.showProps,a,o,h)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}),function(t){var e;"undefined"!=typeof window?e=window:"undefined"!=typeof self&&(e=self),e.lazyload=t()}(function(){return function t(e,i,n){function o(s,r){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(a)return a(s,!0);throw l=Error("Cannot find module '"+s+"'"),l.code="MODULE_NOT_FOUND",l}l=i[s]={exports:{}},e[s][0].call(l.exports,function(t){var i=e[s][1][t];return o(i?i:t)},l,l.exports,t,e,i,n)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){(function(i){function n(t){-1===r.call(c,t)&&c.push(t)}function o(t){function e(e){var n;n="function"==typeof t.src?t.src(e):e.getAttribute(t.src),n&&(e.src=n),e.setAttribute("data-lzled",!0),i[r.call(i,e)]=null}t=s({offset:333,src:"data-src",container:!1},t||{}),"string"==typeof t.src&&n(t.src);var i=[];return function(n){n.onload=null,n.removeAttribute("onload"),n.onerror=null,n.removeAttribute("onerror"),-1===r.call(i,n)&&l(n,t,e)}}function a(t){if(t="HTML"+t+"Element",!1!=t in i){var e=i[t].prototype.getAttribute;i[t].prototype.getAttribute=function(t){if("src"===t){for(var i,n=0,o=c.length;n<o&&!(i=e.call(this,c[n]));n++);return i||e.call(this,t)}return e.call(this,t)}}}function s(t,e){for(var i in t)void 0===e[i]&&(e[i]=t[i]);return e}function r(t){for(var e=this.length;e--&&this[e]!==t;);return e}e.exports=o;var l=t("in-viewport"),c=["data-src"];i.lzld=o(),a("Image"),a("IFrame")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"in-viewport":2}],2:[function(t,e,i){(function(t){function i(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i,!1)}function n(t,e,i){var n;return function(){var o=this,a=arguments,s=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||t.apply(o,a)},e),s&&t.apply(o,a)}}function o(e){function o(t,e,i){return{watch:function(){d.add(t,e,i)},dispose:function(){d.remove(t)}}}function r(i,n){if(!(c(t.document.documentElement,i)&&c(t.document.documentElement,e)&&i.offsetWidth&&i.offsetHeight))return!1;var o,a,s,r,l=i.getBoundingClientRect();return e===t.document.body?(o=-n,a=-n,s=t.document.documentElement.clientWidth+n,r=t.document.documentElement.clientHeight+n):(r=e.getBoundingClientRect(),o=r.top-n,a=r.left-n,s=r.right+n,r=r.bottom+n),l.right>=a&&l.left<=s&&l.bottom>=o&&l.top<=r}var d=a(),u=e===t.document.body?t:e,h=n(d.checkAll(function(t,e,i){r(t,e)&&(d.remove(t),i(t))}),15);return i(u,"scroll",h),u===t&&i(t,"resize",h),l&&s(d,e,h),setInterval(h,150),{container:e,isInViewport:function(t,e,i){return i?(t=o(t,e,i),t.watch(),t):r(t,e)}}}function a(){function t(t){for(var e=i.length-1;0<=e;e--)if(i[e][0]===t)return e;return-1}function e(e){return-1!==t(e)}var i=[];return{add:function(t,n,o){e(t)||i.push([t,n,o])},remove:function(e){e=t(e),-1!==e&&i.splice(e,1)},isWatched:e,checkAll:function(t){return function(){for(var e=i.length-1;0<=e;e--)t.apply(this,i[e])}}}}function s(t,e,i){function n(e){return e=s.call([],Array.prototype.slice.call(e.addedNodes),e.target),0<a.call(e,t.isWatched).length}var o=new MutationObserver(function(t){!0===t.some(n)&&setTimeout(i,0)}),a=Array.prototype.filter,s=Array.prototype.concat;o.observe(e,{childList:!0,subtree:!0,attributes:!0})}e.exports=function(e,i,n){var a=t.document.body;void 0!==i&&"function"!=typeof i||(n=i,i={}),a=i.container||a,i=i.offset||0;for(var s=0;s<r.length;s++)if(r[s].container===a)return r[s].isInViewport(e,i,n);return r[r.push(o(a))-1].isInViewport(e,i,n)};var r=[],l="function"==typeof t.MutationObserver,c=t.document.documentElement.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:t.document.documentElement.contains?function(t,e){return t!==e&&!!t.contains&&t.contains(e)}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var s=e||window.event,r=l.call(arguments,1),c=0,u=0,h=0,p=0,f=0,m=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(u=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in s&&(h=-1*s.deltaY,c=h),"deltaX"in s&&(u=s.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===s.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(p=Math.max(Math.abs(h),Math.abs(u)),(!a||a>p)&&(a=p,n(s,p)&&(a/=40)),n(s,p)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/a),u=Math[u>=1?"floor":"ceil"](u/a),h=Math[h>=1?"floor":"ceil"](h/a),d.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=e.clientX-b.left,m=e.clientY-b.top}return e.deltaX=u,e.deltaY=h,e.deltaFactor=a,e.offsetX=f,e.offsetY=m,e.deltaMode=0,r.unshift(e,c,u,h),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,r)}}function i(){a=null}function n(t,e){return d.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var o,a,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var d=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",d.getLineHeight(this)),t.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=r.length;i;)this.removeEventListener(r[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var s=e||window.event,r=l.call(arguments,1),c=0,u=0,h=0,p=0,f=0,m=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(u=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in s&&(h=-1*s.deltaY,c=h),"deltaX"in s&&(u=s.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===s.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(p=Math.max(Math.abs(h),Math.abs(u)),(!a||a>p)&&(a=p,n(s,p)&&(a/=40)),n(s,p)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/a),u=Math[u>=1?"floor":"ceil"](u/a),h=Math[h>=1?"floor":"ceil"](h/a),d.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=e.clientX-b.left,m=e.clientY-b.top}return e.deltaX=u,e.deltaY=h,e.deltaFactor=a,e.offsetX=f,e.offsetY=m,e.deltaMode=0,r.unshift(e,c,u,h),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,r)}}function i(){a=null}function n(t,e){return d.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var o,a,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var d=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",d.getLineHeight(this)),t.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=r.length;i;)this.removeEventListener(r[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(t){!function(e){var i="function"==typeof define&&define.amd,n="undefined"!=typeof module&&module.exports,o="https:"==document.location.protocol?"https:":"http:",a="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";i||(n?require("jquery-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+o+"//"+a+"%3E%3C/script%3E"))),e()}(function(){var e,i="mCustomScrollbar",n="mCS",o=".mCustomScrollbar",a={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,r={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(e){var e=t.extend(!0,{},a,e),i=h.call(this);if(e.live){var l=e.liveSelector||this.selector||o,c=t(l);if("off"===e.live)return void f(l);r[l]=setTimeout(function(){c.mCustomScrollbar(e),"once"===e.live&&c.length&&f(l)},500)}else f(l);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":m(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=g(e.scrollButtons.scrollType),p(e),t(i).each(function(){var i=t(this);if(!i.data(n)){i.data(n,{idx:++s,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var o=i.data(n),a=o.opt,r=i.data("mcs-axis"),l=i.data("mcs-scrollbar-position"),c=i.data("mcs-theme");r&&(a.axis=r),l&&(a.scrollbarPosition=l),c&&(a.theme=c,p(a)),v.call(this),o&&a.callbacks.onCreate&&"function"==typeof a.callbacks.onCreate&&a.callbacks.onCreate.call(this),t("#mCSB_"+o.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,i)}})},update:function(e,i){var o=e||h.call(this);return t(o).each(function(){var e=t(this);if(e.data(n)){var o=e.data(n),a=o.opt,s=t("#mCSB_"+o.idx+"_container"),r=t("#mCSB_"+o.idx),l=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];if(!s.length)return;o.tweenRunning&&K(e),i&&o&&a.callbacks.onBeforeUpdate&&"function"==typeof a.callbacks.onBeforeUpdate&&a.callbacks.onBeforeUpdate.call(this),e.hasClass(d[3])&&e.removeClass(d[3]),e.hasClass(d[4])&&e.removeClass(d[4]),r.css("max-height","none"),r.height()!==e.height()&&r.css("max-height",e.height()),y.call(this),"y"===a.axis||a.advanced.autoExpandHorizontalScroll||s.css("width",b(s)),o.overflowed=C.call(this),T.call(this),a.autoDraggerLength&&_.call(this),x.call(this),$.call(this);var c=[Math.abs(s[0].offsetTop),Math.abs(s[0].offsetLeft)];"x"!==a.axis&&(o.overflowed[0]?l[0].height()>l[0].parent().height()?A.call(this):(Q(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(A.call(this),"y"===a.axis?S.call(this):"yx"===a.axis&&o.overflowed[1]&&Q(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==a.axis&&(o.overflowed[1]?l[1].width()>l[1].parent().width()?A.call(this):(Q(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(A.call(this),"x"===a.axis?S.call(this):"yx"===a.axis&&o.overflowed[0]&&Q(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),i&&o&&(2===i&&a.callbacks.onImageLoad&&"function"==typeof a.callbacks.onImageLoad?a.callbacks.onImageLoad.call(this):3===i&&a.callbacks.onSelectorChange&&"function"==typeof a.callbacks.onSelectorChange?a.callbacks.onSelectorChange.call(this):a.callbacks.onUpdate&&"function"==typeof a.callbacks.onUpdate&&a.callbacks.onUpdate.call(this)),U.call(this)}})},scrollTo:function(e,i){if("undefined"!=typeof e&&null!=e){var o=h.call(this);return t(o).each(function(){var o=t(this);if(o.data(n)){var a=o.data(n),s=a.opt,r={trigger:"external",scrollInertia:s.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=t.extend(!0,{},r,i),c=R.call(this,e),d=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=N.call(this,c[0],"y"),c[1]=N.call(this,c[1],"x"),l.moveDragger&&(c[0]*=a.scrollRatio.y,c[1]*=a.scrollRatio.x),l.dur=ot()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==s.axis&&a.overflowed[0]&&(l.dir="y",l.overwrite="all",Q(o,c[0].toString(),l)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==s.axis&&a.overflowed[1]&&(l.dir="x",l.overwrite="none",Q(o,c[1].toString(),l))},l.timeout)}})}},stop:function(){var e=h.call(this);return t(e).each(function(){var e=t(this);e.data(n)&&K(e)})},disable:function(e){var i=h.call(this);return t(i).each(function(){var i=t(this);i.data(n)&&(i.data(n),U.call(this,"remove"),S.call(this),e&&A.call(this),T.call(this,!0),i.addClass(d[3]))})},destroy:function(){var e=h.call(this);return t(e).each(function(){var o=t(this);if(o.data(n)){var a=o.data(n),s=a.opt,r=t("#mCSB_"+a.idx),l=t("#mCSB_"+a.idx+"_container"),c=t(".mCSB_"+a.idx+"_scrollbar");s.live&&f(s.liveSelector||t(e).selector),U.call(this,"remove"),S.call(this),A.call(this),o.removeData(n),J(this,"mcs"),c.remove(),l.find("img."+d[2]).removeClass(d[2]),r.replaceWith(l.contents()),o.removeClass(i+" _"+n+"_"+a.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},h=function(){return"object"!=typeof t(this)||t(this).length<1?o:this},p=function(e){var i=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],n=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],o=["minimal","minimal-dark"],a=["minimal","minimal-dark"],s=["minimal","minimal-dark"];e.autoDraggerLength=!(t.inArray(e.theme,i)>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,n)>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,o)>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,a)>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,s)>-1?"outside":e.scrollbarPosition},f=function(t){r[t]&&(clearTimeout(r[t]),J(r,t))},m=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},g=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},v=function(){var e=t(this),o=e.data(n),a=o.opt,s=a.autoExpandScrollbar?" "+d[1]+"_expand":"",r=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_vertical"+s+"'><div class='"+d[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_horizontal"+s+"'><div class='"+d[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===a.axis?"mCSB_vertical_horizontal":"x"===a.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===a.axis?r[0]+r[1]:"x"===a.axis?r[1]:r[0],u="yx"===a.axis?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=a.autoHideScrollbar?" "+d[6]:"",p="x"!==a.axis&&"rtl"===o.langDir?" "+d[7]:"";a.setWidth&&e.css("width",a.setWidth),a.setHeight&&e.css("height",a.setHeight),a.setLeft="y"!==a.axis&&"rtl"===o.langDir?"989999px":a.setLeft,e.addClass(i+" _"+n+"_"+o.idx+h+p).wrapInner("<div id='mCSB_"+o.idx+"' class='mCustomScrollBox mCS-"+a.theme+" "+l+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+a.setTop+"; left:"+a.setLeft+";' dir='"+o.langDir+"' /></div>");var f=t("#mCSB_"+o.idx),m=t("#mCSB_"+o.idx+"_container");"y"===a.axis||a.advanced.autoExpandHorizontalScroll||m.css("width",b(m)),"outside"===a.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),f.addClass("mCSB_outside").after(c)):(f.addClass("mCSB_inside").append(c),m.wrap(u)),w.call(this);var g=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},b=function(e){var i=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return t(this).outerWidth(!0)}).get())],n=e.parent().width();return i[0]>n?i[0]:i[1]>n?i[1]:"100%"},y=function(){var e=t(this),i=e.data(n),o=i.opt,a=t("#mCSB_"+i.idx+"_container");if(o.advanced.autoExpandHorizontalScroll&&"y"!==o.axis){a.css({width:"auto","min-width":0,"overflow-x":"scroll"});var s=Math.ceil(a[0].scrollWidth);3===o.advanced.autoExpandHorizontalScroll||2!==o.advanced.autoExpandHorizontalScroll&&s>a.parent().width()?a.css({width:s,"min-width":"100%","overflow-x":"inherit"}):a.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(a[0].getBoundingClientRect().right+.4)-Math.floor(a[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var e=t(this),i=e.data(n),o=i.opt,a=t(".mCSB_"+i.idx+"_scrollbar:first"),s=it(o.scrollButtons.tabindex)?"tabindex='"+o.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+d[13]+"' "+s+" />","<a href='#' class='"+d[14]+"' "+s+" />","<a href='#' class='"+d[15]+"' "+s+" />","<a href='#' class='"+d[16]+"' "+s+" />"],l=["x"===o.axis?r[2]:r[0],"x"===o.axis?r[3]:r[1],r[2],r[3]];o.scrollButtons.enable&&a.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},_=function(){var e=t(this),i=e.data(n),o=t("#mCSB_"+i.idx),a=t("#mCSB_"+i.idx+"_container"),s=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],r=[o.height()/a.outerHeight(!1),o.width()/a.outerWidth(!1)],c=[parseInt(s[0].css("min-height")),Math.round(r[0]*s[0].parent().height()),parseInt(s[1].css("min-width")),Math.round(r[1]*s[1].parent().width())],d=l&&c[1]<c[0]?c[0]:c[1],u=l&&c[3]<c[2]?c[2]:c[3];s[0].css({height:d,"max-height":s[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),s[1].css({width:u,"max-width":s[1].parent().width()-10})},x=function(){var e=t(this),i=e.data(n),o=t("#mCSB_"+i.idx),a=t("#mCSB_"+i.idx+"_container"),s=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],r=[a.outerHeight(!1)-o.height(),a.outerWidth(!1)-o.width()],l=[r[0]/(s[0].parent().height()-s[0].height()),r[1]/(s[1].parent().width()-s[1].width())];i.scrollRatio={y:l[0],x:l[1]}},k=function(t,e,i){var n=i?d[0]+"_expanded":"",o=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(d[0]+" "+n),o.toggleClass(d[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(d[0]),o.removeClass(d[1])):(t.addClass(d[0]),o.addClass(d[1])))},C=function(){var e=t(this),i=e.data(n),o=t("#mCSB_"+i.idx),a=t("#mCSB_"+i.idx+"_container"),s=null==i.overflowed?a.height():a.outerHeight(!1),r=null==i.overflowed?a.width():a.outerWidth(!1),l=a[0].scrollHeight,c=a[0].scrollWidth;return l>s&&(s=l),c>r&&(r=c),[s>o.height(),r>o.width()]},A=function(){var e=t(this),i=e.data(n),o=i.opt,a=t("#mCSB_"+i.idx),s=t("#mCSB_"+i.idx+"_container"),r=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")];if(K(e),("x"!==o.axis&&!i.overflowed[0]||"y"===o.axis&&i.overflowed[0])&&(r[0].add(s).css("top",0),Q(e,"_resetY")),"y"!==o.axis&&!i.overflowed[1]||"x"===o.axis&&i.overflowed[1]){var l=dx=0;"rtl"===i.langDir&&(l=a.width()-s.outerWidth(!1),dx=Math.abs(l/i.scrollRatio.x)),s.css("left",l),r[1].css("left",dx),Q(e,"_resetX")}},$=function(){function e(){s=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(s),M.call(i[0])):e()},100)}var i=t(this),o=i.data(n),a=o.opt;if(!o.bindEvents){if(P.call(this),a.contentTouchScroll&&D.call(this),j.call(this),a.mouseWheel.enable){var s;e()}B.call(this),V.call(this),a.advanced.autoScrollOnFocus&&z.call(this),a.scrollButtons.enable&&q.call(this),a.keyboard.enable&&H.call(this),o.bindEvents=!0}},S=function(){var e=t(this),i=e.data(n),o=i.opt,a=n+"_"+i.idx,s=".mCSB_"+i.idx+"_scrollbar",r=t("#mCSB_"+i.idx+",#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,"+s+" ."+d[12]+",#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal,"+s+">a"),l=t("#mCSB_"+i.idx+"_container");o.advanced.releaseDraggableSelectors&&r.add(t(o.advanced.releaseDraggableSelectors)),o.advanced.extraDraggableSelectors&&r.add(t(o.advanced.extraDraggableSelectors)),i.bindEvents&&(t(document).add(t(!O()||top.document)).unbind("."+a),r.each(function(){t(this).unbind("."+a)}),clearTimeout(e[0]._focusTimeout),J(e[0],"_focusTimeout"),clearTimeout(i.sequential.step),J(i.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),J(l[0],"onCompleteTimeout"),i.bindEvents=!1)},T=function(e){var i=t(this),o=i.data(n),a=o.opt,s=t("#mCSB_"+o.idx+"_container_wrapper"),r=s.length?s:t("#mCSB_"+o.idx+"_container"),l=[t("#mCSB_"+o.idx+"_scrollbar_vertical"),t("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==a.axis&&(o.overflowed[0]&&!e?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),r.removeClass(d[8]+" "+d[10])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&c[0].css("display","none"),r.removeClass(d[10])):(l[0].css("display","none"),r.addClass(d[10])),r.addClass(d[8]))),"y"!==a.axis&&(o.overflowed[1]&&!e?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),r.removeClass(d[9]+" "+d[11])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&c[1].css("display","none"),r.removeClass(d[11])):(l[1].css("display","none"),r.addClass(d[11])),r.addClass(d[9]))),o.overflowed[0]||o.overflowed[1]?i.removeClass(d[5]):i.addClass(d[5])},I=function(e){var i=e.type,n=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,o=O()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(i){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[e.originalEvent.pageY-n[0]+o[0],e.originalEvent.pageX-n[1]+o[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var a=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],s=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[a.screenY,a.screenX,s>1]:[a.pageY,a.pageX,s>1];default:return n?[e.pageY-n[0]+o[0],e.pageX-n[1]+o[1],!1]:[e.pageY,e.pageX,!1]}},P=function(){function e(t,e,n,o){if(p[0].idleTimer=d.scrollInertia<233?250:0,i.attr("id")===h[1])var a="x",l=(i[0].offsetLeft-e+o)*r.scrollRatio.x;else var a="y",l=(i[0].offsetTop-t+n)*r.scrollRatio.y;Q(s,l.toString(),{dir:a,drag:!0})}var i,o,a,s=t(this),r=s.data(n),d=r.opt,u=n+"_"+r.idx,h=["mCSB_"+r.idx+"_dragger_vertical","mCSB_"+r.idx+"_dragger_horizontal"],p=t("#mCSB_"+r.idx+"_container"),f=t("#"+h[0]+",#"+h[1]),m=d.advanced.releaseDraggableSelectors?f.add(t(d.advanced.releaseDraggableSelectors)):f,g=d.advanced.extraDraggableSelectors?t(!O()||top.document).add(t(d.advanced.extraDraggableSelectors)):t(!O()||top.document);f.bind("contextmenu."+u,function(t){t.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),tt(e)){c=!0,l&&(document.onselectstart=function(){return!1}),L.call(p,!1),K(s),i=t(this);var n=i.offset(),r=I(e)[0]-n.top,u=I(e)[1]-n.left,h=i.height()+n.top,f=i.width()+n.left;h>r&&r>0&&f>u&&u>0&&(o=r,a=u),k(i,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(t){t.stopImmediatePropagation(),t.preventDefault();var n=i.offset(),s=I(t)[0]-n.top,r=I(t)[1]-n.left;e(o,a,s,r)}),t(document).add(g).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(t){if(i){var n=i.offset(),s=I(t)[0]-n.top,r=I(t)[1]-n.left;if(o===s&&a===r)return;e(o,a,s,r)}}).add(m).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){i&&(k(i,"active",d.autoExpandScrollbar),i=null),c=!1,l&&(document.onselectstart=null),L.call(p,!0)})},D=function(){function i(t){if(!et(t)||c||I(t)[2])return void(e=0);e=1,x=0,k=0,d=1,C.removeClass("mCS_touch_action");var i=P.offset();u=I(t)[0]-i.top,h=I(t)[1]-i.left,F=[I(t)[0],I(t)[1]]}function o(t){if(et(t)&&!c&&!I(t)[2]&&($.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!k||x)&&d)){g=Z();var e=T.offset(),i=I(t)[0]-e.top,n=I(t)[1]-e.left,o="mcsLinearOut";if(j.push(i),M.push(n),F[2]=Math.abs(I(t)[0]-F[0]),F[3]=Math.abs(I(t)[1]-F[1]),A.overflowed[0])var a=D[0].parent().height()-D[0].height(),s=u-i>0&&i-u>-(a*A.scrollRatio.y)&&(2*F[3]<F[2]||"yx"===$.axis);if(A.overflowed[1])var r=D[1].parent().width()-D[1].width(),p=h-n>0&&n-h>-(r*A.scrollRatio.x)&&(2*F[2]<F[3]||"yx"===$.axis);s||p?(V||t.preventDefault(),x=1):(k=1,C.addClass("mCS_touch_action")),V&&t.preventDefault(),w="yx"===$.axis?[u-i,h-n]:"x"===$.axis?[null,h-n]:[u-i,null],P[0].idleTimer=250,A.overflowed[0]&&l(w[0],E,o,"y","all",!0),A.overflowed[1]&&l(w[1],E,o,"x",L,!0)}}function a(t){if(!et(t)||c||I(t)[2])return void(e=0);e=1,t.stopImmediatePropagation(),K(C),m=Z();var i=T.offset();p=I(t)[0]-i.top,f=I(t)[1]-i.left,j=[],M=[]}function s(t){if(et(t)&&!c&&!I(t)[2]){d=0,t.stopImmediatePropagation(),x=0,k=0,v=Z();var e=T.offset(),i=I(t)[0]-e.top,n=I(t)[1]-e.left;if(!(v-g>30)){y=1e3/(v-m);var o="mcsEaseOut",a=2.5>y,s=a?[j[j.length-2],M[M.length-2]]:[0,0];b=a?[i-s[0],n-s[1]]:[i-p,n-f];var u=[Math.abs(b[0]),Math.abs(b[1])];y=a?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[y,y];var h=[Math.abs(P[0].offsetTop)-b[0]*r(u[0]/y[0],y[0]),Math.abs(P[0].offsetLeft)-b[1]*r(u[1]/y[1],y[1])];w="yx"===$.axis?[h[0],h[1]]:"x"===$.axis?[null,h[1]]:[h[0],null],_=[4*u[0]+$.scrollInertia,4*u[1]+$.scrollInertia];var C=parseInt($.contentTouchScroll)||0;w[0]=u[0]>C?w[0]:0,w[1]=u[1]>C?w[1]:0,A.overflowed[0]&&l(w[0],_[0],o,"y",L,!1),A.overflowed[1]&&l(w[1],_[1],o,"x",L,!1)}}}function r(t,e){var i=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?i[0]:i[3]:t>60?e>3?i[3]:i[2]:t>30?e>8?i[1]:e>6?i[0]:e>4?e:i[2]:e>8?e:i[3]}function l(t,e,i,n,o,a){t&&Q(C,t.toString(),{dur:e,scrollEasing:i,dir:n,overwrite:o,drag:a})}var d,u,h,p,f,m,g,v,b,y,w,_,x,k,C=t(this),A=C.data(n),$=A.opt,S=n+"_"+A.idx,T=t("#mCSB_"+A.idx),P=t("#mCSB_"+A.idx+"_container"),D=[t("#mCSB_"+A.idx+"_dragger_vertical"),t("#mCSB_"+A.idx+"_dragger_horizontal")],j=[],M=[],E=0,L="yx"===$.axis?"none":"all",F=[],B=P.find("iframe"),z=["touchstart."+S+" pointerdown."+S+" MSPointerDown."+S,"touchmove."+S+" pointermove."+S+" MSPointerMove."+S,"touchend."+S+" pointerup."+S+" MSPointerUp."+S],V=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;P.bind(z[0],function(t){i(t)}).bind(z[1],function(t){o(t)}),T.bind(z[0],function(t){a(t)}).bind(z[2],function(t){s(t)}),B.length&&B.each(function(){t(this).bind("load",function(){O(this)&&t(this.contentDocument||this.contentWindow.document).bind(z[0],function(t){i(t),a(t)}).bind(z[1],function(t){o(t)}).bind(z[2],function(t){s(t)})})})},j=function(){function i(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0;
}function o(t,e,i){d.type=i&&a?"stepped":"stepless",d.scrollAmount=10,W(s,t,e,"mcsLinearOut",i?60:null)}var a,s=t(this),r=s.data(n),l=r.opt,d=r.sequential,u=n+"_"+r.idx,h=t("#mCSB_"+r.idx+"_container"),p=h.parent();h.bind("mousedown."+u,function(){e||a||(a=1,c=!0)}).add(document).bind("mousemove."+u,function(t){if(!e&&a&&i()){var n=h.offset(),s=I(t)[0]-n.top+h[0].offsetTop,c=I(t)[1]-n.left+h[0].offsetLeft;s>0&&s<p.height()&&c>0&&c<p.width()?d.step&&o("off",null,"stepped"):("x"!==l.axis&&r.overflowed[0]&&(0>s?o("on",38):s>p.height()&&o("on",40)),"y"!==l.axis&&r.overflowed[1]&&(0>c?o("on",37):c>p.width()&&o("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(){e||(a&&(a=0,o("off",null)),c=!1)})},M=function(){function e(e,n){if(K(i),!F(i,e.target)){var s="auto"!==a.mouseWheel.deltaFactor?parseInt(a.mouseWheel.deltaFactor):l&&e.deltaFactor<100?100:e.deltaFactor||100,d=a.scrollInertia;if("x"===a.axis||"x"===a.mouseWheel.axis)var u="x",h=[Math.round(s*o.scrollRatio.x),parseInt(a.mouseWheel.scrollAmount)],p="auto"!==a.mouseWheel.scrollAmount?h[1]:h[0]>=r.width()?.9*r.width():h[0],f=Math.abs(t("#mCSB_"+o.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===a.mouseWheel.axis?e.deltaY||n:e.deltaX;else var u="y",h=[Math.round(s*o.scrollRatio.y),parseInt(a.mouseWheel.scrollAmount)],p="auto"!==a.mouseWheel.scrollAmount?h[1]:h[0]>=r.height()?.9*r.height():h[0],f=Math.abs(t("#mCSB_"+o.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=e.deltaY||n;"y"===u&&!o.overflowed[0]||"x"===u&&!o.overflowed[1]||((a.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(v=-v),a.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==m||0>v&&m!==g||a.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!a.mouseWheel.normalizeDelta&&(p=e.deltaFactor,d=17),Q(i,(f-v*p).toString(),{dir:u,dur:d}))}}if(t(this).data(n)){var i=t(this),o=i.data(n),a=o.opt,s=n+"_"+o.idx,r=t("#mCSB_"+o.idx),c=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")],d=t("#mCSB_"+o.idx+"_container").find("iframe");d.length&&d.each(function(){t(this).bind("load",function(){O(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+s,function(t,i){e(t,i)})})}),r.bind("mousewheel."+s,function(t,i){e(t,i)})}},E=new Object,O=function(e){var i=!1,n=!1,o=null;if(void 0===e?n="#empty":void 0!==t(e).attr("id")&&(n=t(e).attr("id")),n!==!1&&void 0!==E[n])return E[n];if(e){try{var a=e.contentDocument||e.contentWindow.document;o=a.body.innerHTML}catch(s){}i=null!==o}else{try{var a=top.document;o=a.body.innerHTML}catch(s){}i=null!==o}return n!==!1&&(E[n]=i),i},L=function(t){var e=this.find("iframe");if(e.length){var i=t?"auto":"none";e.css("pointer-events",i)}},F=function(e,i){var o=i.nodeName.toLowerCase(),a=e.data(n).opt.mouseWheel.disableOver,s=["select","textarea"];return t.inArray(o,a)>-1&&!(t.inArray(o,s)>-1&&!t(i).is(":focus"))},B=function(){var e,i=t(this),o=i.data(n),a=n+"_"+o.idx,s=t("#mCSB_"+o.idx+"_container"),r=s.parent(),l=t(".mCSB_"+o.idx+"_scrollbar ."+d[12]);l.bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,function(i){c=!0,t(i.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+a+" pointerup."+a+" MSPointerUp."+a,function(){c=!1}).bind("click."+a,function(n){if(e&&(e=0,t(n.target).hasClass(d[12])||t(n.target).hasClass("mCSB_draggerRail"))){K(i);var a=t(this),l=a.find(".mCSB_dragger");if(a.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var c="x",u=n.pageX>l.offset().left?-1:1,h=Math.abs(s[0].offsetLeft)-u*(.9*r.width())}else{if(!o.overflowed[0])return;var c="y",u=n.pageY>l.offset().top?-1:1,h=Math.abs(s[0].offsetTop)-u*(.9*r.height())}Q(i,h.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},z=function(){var e=t(this),i=e.data(n),o=i.opt,a=n+"_"+i.idx,s=t("#mCSB_"+i.idx+"_container"),r=s.parent();s.bind("focusin."+a,function(){var i=t(document.activeElement),n=s.find(".mCustomScrollBox").length,a=0;i.is(o.advanced.autoScrollOnFocus)&&(K(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=n?(a+17)*n:0,e[0]._focusTimeout=setTimeout(function(){var t=[nt(i)[0],nt(i)[1]],n=[s[0].offsetTop,s[0].offsetLeft],l=[n[0]+t[0]>=0&&n[0]+t[0]<r.height()-i.outerHeight(!1),n[1]+t[1]>=0&&n[0]+t[1]<r.width()-i.outerWidth(!1)],c="yx"!==o.axis||l[0]||l[1]?"all":"none";"x"===o.axis||l[0]||Q(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:a}),"y"===o.axis||l[1]||Q(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:a})},e[0]._focusTimer))})},V=function(){var e=t(this),i=e.data(n),o=n+"_"+i.idx,a=t("#mCSB_"+i.idx+"_container").parent();a.bind("scroll."+o,function(){0===a.scrollTop()&&0===a.scrollLeft()||t(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},q=function(){var e=t(this),i=e.data(n),o=i.opt,a=i.sequential,s=n+"_"+i.idx,r=".mCSB_"+i.idx+"_scrollbar",l=t(r+">a");l.bind("contextmenu."+s,function(t){t.preventDefault()}).bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s+" mouseup."+s+" touchend."+s+" pointerup."+s+" MSPointerUp."+s+" mouseout."+s+" pointerout."+s+" MSPointerOut."+s+" click."+s,function(n){function s(t,i){a.scrollAmount=o.scrollButtons.scrollAmount,W(e,t,i)}if(n.preventDefault(),tt(n)){var r=t(this).attr("class");switch(a.type=o.scrollButtons.scrollType,n.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===a.type)return;c=!0,i.tweenRunning=!1,s("on",r);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===a.type)return;c=!1,a.dir&&s("off",r);break;case"click":if("stepped"!==a.type||i.tweenRunning)return;s("on",r)}}})},H=function(){function e(e){function n(t,e){s.type=a.keyboard.scrollType,s.scrollAmount=a.keyboard.scrollAmount,"stepped"===s.type&&o.tweenRunning||W(i,t,e)}switch(e.type){case"blur":o.tweenRunning&&s.dir&&n("off",null);break;case"keydown":case"keyup":var r=e.keyCode?e.keyCode:e.which,l="on";if("x"!==a.axis&&(38===r||40===r)||"y"!==a.axis&&(37===r||39===r)){if((38===r||40===r)&&!o.overflowed[0]||(37===r||39===r)&&!o.overflowed[1])return;"keyup"===e.type&&(l="off"),t(document.activeElement).is(u)||(e.preventDefault(),e.stopImmediatePropagation(),n(l,r))}else if(33===r||34===r){if((o.overflowed[0]||o.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){K(i);var h=34===r?-1:1;if("x"===a.axis||"yx"===a.axis&&o.overflowed[1]&&!o.overflowed[0])var p="x",f=Math.abs(c[0].offsetLeft)-h*(.9*d.width());else var p="y",f=Math.abs(c[0].offsetTop)-h*(.9*d.height());Q(i,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===r||36===r)&&!t(document.activeElement).is(u)&&((o.overflowed[0]||o.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===a.axis||"yx"===a.axis&&o.overflowed[1]&&!o.overflowed[0])var p="x",f=35===r?Math.abs(d.width()-c.outerWidth(!1)):0;else var p="y",f=35===r?Math.abs(d.height()-c.outerHeight(!1)):0;Q(i,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}}var i=t(this),o=i.data(n),a=o.opt,s=o.sequential,r=n+"_"+o.idx,l=t("#mCSB_"+o.idx),c=t("#mCSB_"+o.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",h=c.find("iframe"),p=["blur."+r+" keydown."+r+" keyup."+r];h.length&&h.each(function(){t(this).bind("load",function(){O(this)&&t(this.contentDocument||this.contentWindow.document).bind(p[0],function(t){e(t)})})}),l.attr("tabindex","0").bind(p[0],function(t){e(t)})},W=function(e,i,o,a,s){function r(t){u.snapAmount&&(h.scrollAmount=u.snapAmount instanceof Array?"x"===h.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var i="stepped"!==h.type,n=s?s:t?i?m/1.5:g:1e3/60,o=t?i?7.5:40:2.5,l=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],f="x"===h.dir[0]?l[1]+h.dir[1]*(d[1]*o):l[0]+h.dir[1]*(d[0]*o),v="x"===h.dir[0]?l[1]+h.dir[1]*parseInt(h.scrollAmount):l[0]+h.dir[1]*parseInt(h.scrollAmount),b="auto"!==h.scrollAmount?v:f,y=a?a:t?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=!!t;return t&&17>n&&(b="x"===h.dir[0]?l[1]:l[0]),Q(e,b.toString(),{dir:h.dir[0],scrollEasing:y,dur:n,onComplete:w}),t?void(h.dir=!1):(clearTimeout(h.step),void(h.step=setTimeout(function(){r()},n)))}function l(){clearTimeout(h.step),J(h,"step"),K(e)}var c=e.data(n),u=c.opt,h=c.sequential,p=t("#mCSB_"+c.idx+"_container"),f="stepped"===h.type,m=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(i){case"on":if(h.dir=[o===d[16]||o===d[15]||39===o||37===o?"x":"y",o===d[13]||o===d[15]||38===o||37===o?-1:1],K(e),it(o)&&"stepped"===h.type)return;r(f);break;case"off":l(),(f||c.tweenRunning&&h.dir)&&r(!0)}},R=function(e){var i=t(this).data(n).opt,o=[];return"function"==typeof e&&(e=e()),e instanceof Array?o=e.length>1?[e[0],e[1]]:"x"===i.axis?[null,e[0]]:[e[0],null]:(o[0]=e.y?e.y:e.x||"x"===i.axis?null:e,o[1]=e.x?e.x:e.y||"y"===i.axis?null:e),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},N=function(e,i){if(null!=e&&"undefined"!=typeof e){var o=t(this),a=o.data(n),s=a.opt,r=t("#mCSB_"+a.idx+"_container"),l=r.parent(),c=typeof e;i||(i="x"===s.axis?"x":"y");var d="x"===i?r.outerWidth(!1)-l.width():r.outerHeight(!1)-l.height(),h="x"===i?r[0].offsetLeft:r[0].offsetTop,p="x"===i?"left":"top";switch(c){case"function":return e();case"object":var f=e.jquery?e:t(e);if(!f.length)return;return"x"===i?nt(f)[1]:nt(f)[0];case"string":case"number":if(it(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(d*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(h-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var m=h+parseInt(e.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==e.indexOf("px")&&it(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(l.height()-r.outerHeight(!1));if("right"===e)return Math.abs(l.width()-r.outerWidth(!1));if("first"===e||"last"===e){var f=r.find(":"+e);return"x"===i?nt(f)[1]:nt(f)[0]}return t(e).length?"x"===i?nt(t(e))[1]:nt(t(e))[0]:(r.css(p,e),void u.update.call(null,o[0]))}}},U=function(e){function i(){return clearTimeout(h[0].autoUpdate),0===r.parents("html").length?void(r=null):void(h[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(l.poll.change.n=a(),l.poll.change.n!==l.poll.change.o)?(l.poll.change.o=l.poll.change.n,void s(3)):c.advanced.updateOnContentResize&&(l.poll.size.n=r[0].scrollHeight+r[0].scrollWidth+h[0].offsetHeight+r[0].offsetHeight+r[0].offsetWidth,l.poll.size.n!==l.poll.size.o)?(l.poll.size.o=l.poll.size.n,void s(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(l.poll.img.n=h.find("img").length,l.poll.img.n===l.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&i()):(l.poll.img.o=l.poll.img.n,void h.find("img").each(function(){o(this)}))},c.advanced.autoUpdateTimeout))}function o(e){function i(t,e){return function(){return e.apply(t,arguments)}}function n(){this.onload=null,t(e).addClass(d[2]),s(2)}if(t(e).hasClass(d[2]))return void s();var o=new Image;o.onload=i(o,n),o.src=e.src}function a(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var t=0,e=h.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&e.length>0&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}function s(t){clearTimeout(h[0].autoUpdate),u.update.call(null,r[0],t)}var r=t(this),l=r.data(n),c=l.opt,h=t("#mCSB_"+l.idx+"_container");return e?(clearTimeout(h[0].autoUpdate),void J(h[0],"autoUpdate")):void i()},Y=function(t,e,i){return Math.round(t/e)*e-i},K=function(e){var i=e.data(n),o=t("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal");o.each(function(){X.call(this)})},Q=function(e,i,o){function a(t){return l&&c.callbacks[t]&&"function"==typeof c.callbacks[t]}function s(){return[c.callbacks.alwaysTriggerOffsets||w>=_[0]+C,c.callbacks.alwaysTriggerOffsets||-A>=w]}function r(){var t=[p[0].offsetTop,p[0].offsetLeft],i=[b[0].offsetTop,b[0].offsetLeft],n=[p.outerHeight(!1),p.outerWidth(!1)],a=[h.height(),h.width()];e[0].mcs={content:p,top:t[0],left:t[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(n[0])-a[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(n[1])-a[1])),direction:o.dir}}var l=e.data(n),c=l.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=t.extend(d,o),u=[o.dur,o.drag?0:o.dur],h=t("#mCSB_"+l.idx),p=t("#mCSB_"+l.idx+"_container"),f=p.parent(),m=c.callbacks.onTotalScrollOffset?R.call(e,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?R.call(e,c.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=o.trigger,0===f.scrollTop()&&0===f.scrollLeft()||(t(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),f.scrollTop(0).scrollLeft(0)),"_resetY"!==i||l.contentReset.y||(a("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(e[0]),l.contentReset.y=1),"_resetX"!==i||l.contentReset.x||(a("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(e[0]),l.contentReset.x=1),"_resetY"!==i&&"_resetX"!==i){if(!l.contentReset.y&&e[0].mcs||!l.overflowed[0]||(a("onOverflowY")&&c.callbacks.onOverflowY.call(e[0]),l.contentReset.x=null),!l.contentReset.x&&e[0].mcs||!l.overflowed[1]||(a("onOverflowX")&&c.callbacks.onOverflowX.call(e[0]),l.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===o.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;i=Y(i,v,c.snapOffset)}switch(o.dir){case"x":var b=t("#mCSB_"+l.idx+"_dragger_horizontal"),y="left",w=p[0].offsetLeft,_=[h.width()-p.outerWidth(!1),b.parent().width()-b.width()],x=[i,0===i?0:i/l.scrollRatio.x],C=m[1],A=g[1],$=C>0?C/l.scrollRatio.x:0,S=A>0?A/l.scrollRatio.x:0;break;case"y":var b=t("#mCSB_"+l.idx+"_dragger_vertical"),y="top",w=p[0].offsetTop,_=[h.height()-p.outerHeight(!1),b.parent().height()-b.height()],x=[i,0===i?0:i/l.scrollRatio.y],C=m[0],A=g[0],$=C>0?C/l.scrollRatio.y:0,S=A>0?A/l.scrollRatio.y:0}x[1]<0||0===x[0]&&0===x[1]?x=[0,0]:x[1]>=_[1]?x=[_[0],_[1]]:x[0]=-x[0],e[0].mcs||(r(),a("onInit")&&c.callbacks.onInit.call(e[0])),clearTimeout(p[0].onCompleteTimeout),G(b[0],y,Math.round(x[1]),u[1],o.scrollEasing),!l.tweenRunning&&(0===w&&x[0]>=0||w===_[0]&&x[0]<=_[0])||G(p[0],y,Math.round(x[0]),u[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!l.tweenRunning&&(a("onScrollStart")&&(r(),c.callbacks.onScrollStart.call(e[0])),l.tweenRunning=!0,k(b),l.cbOffsets=s())},onUpdate:function(){o.callbacks&&o.onUpdate&&a("whileScrolling")&&(r(),c.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===c.axis&&clearTimeout(p[0].onCompleteTimeout);var t=p[0].idleTimer||0;p[0].onCompleteTimeout=setTimeout(function(){a("onScroll")&&(r(),c.callbacks.onScroll.call(e[0])),a("onTotalScroll")&&x[1]>=_[1]-$&&l.cbOffsets[0]&&(r(),c.callbacks.onTotalScroll.call(e[0])),a("onTotalScrollBack")&&x[1]<=S&&l.cbOffsets[1]&&(r(),c.callbacks.onTotalScrollBack.call(e[0])),l.tweenRunning=!1,p[0].idleTimer=0,k(b,"hide")},t)}}})}},G=function(t,e,i,n,o,a,s){function r(){_.stop||(b||f.call(),b=Z()-v,l(),b>=_.time&&(_.time=b>_.time?b+h-(b-_.time):b+h-1,_.time<b+1&&(_.time=b+1)),_.time<n?_.id=p(r):g.call())}function l(){n>0?(_.currVal=u(_.time,y,x,n,o),w[e]=Math.round(_.currVal)+"px"):w[e]=i+"px",m.call()}function c(){h=1e3/60,_.time=b+h,p=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},_.id=p(r)}function d(){null!=_.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(_.id):clearTimeout(_.id),_.id=null)}function u(t,e,i,n,o){switch(o){case"linear":case"mcsLinear":return i*t/n+e;case"mcsLinearOut":return t/=n,t--,i*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return t/=n/2,1>t?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e);case"easeInOutStrong":return t/=n/2,1>t?i/2*Math.pow(2,10*(t-1))+e:(t--,i/2*(-Math.pow(2,-10*t)+2)+e);case"easeInOut":case"mcsEaseInOut":return t/=n/2,1>t?i/2*t*t*t+e:(t-=2,i/2*(t*t*t+2)+e);case"easeOutSmooth":return t/=n,t--,-i*(t*t*t*t-1)+e;case"easeOutStrong":return i*(-Math.pow(2,-10*t/n)+1)+e;case"easeOut":case"mcsEaseOut":default:var a=(t/=n)*t,s=a*t;return e+i*(.499999999999997*s*a+-2.5*a*a+5.5*s+-6.5*a+4*t)}}t._mTween||(t._mTween={top:{},left:{}});var h,p,s=s||{},f=s.onStart||function(){},m=s.onUpdate||function(){},g=s.onComplete||function(){},v=Z(),b=0,y=t.offsetTop,w=t.style,_=t._mTween[e];"left"===e&&(y=t.offsetLeft);var x=i-y;_.stop=0,"none"!==a&&d(),c()},Z=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},X=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],i=0;i<e.length;i++){var n=e[i];t._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[n].id):clearTimeout(t._mTween[n].id),t._mTween[n].id=null,t._mTween[n].stop=1)}},J=function(t,e){try{delete t[e]}catch(i){t[e]=null}},tt=function(t){return!(t.which&&1!==t.which)},et=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},it=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},nt=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},ot=function(){function t(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}var e=t();return!!e&&document[e]};t.fn[i]=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):u.init.apply(this,arguments)},t[i]=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):u.init.apply(this,arguments)},t[i].defaults=a,window[i]=!0,t(window).bind("load",function(){t(o)[i](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var i,n,o=t(e),a=o.parents(".mCSB_container");if(a.length)return i=a.parent(),n=[a[0].offsetTop,a[0].offsetLeft],n[0]+nt(o)[0]>=0&&n[0]+nt(o)[0]<i.height()-o.outerHeight(!1)&&n[1]+nt(o)[1]>=0&&n[1]+nt(o)[1]<i.width()-o.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,i,n){var o,a,s,r,l=t(e),c=l.parents(".mCSB_container"),d="exact"===n[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return o=[l.outerHeight(!1),l.outerWidth(!1)],s=[c[0].offsetTop+nt(l)[0],c[0].offsetLeft+nt(l)[1]],a=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],r=[o[0]<a[0]?d[0]:d[1],o[1]<a[1]?d[0]:d[1]],s[0]-a[0]*r[0][0]<0&&s[0]+o[0]-a[0]*r[0][1]>=0&&s[1]-a[1]*r[1][0]<0&&s[1]+o[1]-a[1]*r[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var i=t(e).data(n);if(i)return i.overflowed[0]||i.overflowed[1]}})})})}),function(t){var e=!0,i=!1;t.fn.imagezoomsl=function(i){return i=i||{},this.each(function(){if(!t(this).is("img"))return e;var o=this;setTimeout(function(){t(new Image).load(function(){n.F(t(o),i)}).attr("src",t(o).attr("src"))},30)})};var n={};t.extend(n,{dsetting:{loadinggif:"",loadopacity:.1,loadbackground:"#878787",cursorshade:e,magnifycursor:"crosshair",cursorshadecolor:"#fff",cursorshadeopacity:.3,cursorshadeborder:"1px solid black",zindex:"",stepzoom:.5,zoomrange:[2,2],zoomstart:2,disablewheel:e,showstatus:e,showstatustime:2e3,statusdivborder:"1px solid black",statusdivbackground:"#C0C0C0",statusdivpadding:"4px",statusdivfont:"bold 13px Arial",statusdivopacity:.8,magnifierpos:"right",magnifiersize:[0,0],magnifiereffectanimate:"showIn",innerzoom:i,innerzoommagnifier:i,descarea:i,leftoffset:15,rightoffset:15,switchsides:e,magnifierborder:"1px solid black",textdnbackground:"#fff",textdnpadding:"10px",textdnfont:"13px/20px cursive",scrollspeedanimate:5,zoomspeedanimate:7,loopspeedanimate:2.5,magnifierspeedanimate:350,classmagnifier:"magnifier",classcursorshade:"cursorshade",classstatusdiv:"statusdiv",classtextdn:"textdn"},U:-1!=navigator.userAgent.indexOf("MSIE")?e:i,T:function(e){var i,n=0;return e.parents().add(e).each(function(){i=t(this).css("zIndex"),i=isNaN(i)?0:+i,n=Math.max(n,i)}),n},L:function(t,e,i){return"left"==t?(t=-i.f.b*i.k+i.e.b,0<e?0:e<t?t:e):(t=-i.f.d*i.k+i.e.d,0<e?0:e<t?t:e)},H:function(t){var e=this,i=t.data("specs");if(i){var n=i.r.offsetsl(),o=e.a.g-n.left,a=e.a.i-n.top;e.a.B+=(e.a.g-e.a.B)/2.45342,e.a.C+=(e.a.i-e.a.C)/2.45342,i.G.css({left:e.a.B-10,top:e.a.C+20});var s=Math.round(i.e.b/i.k),r=Math.round(i.e.d/i.k);e.a.z+=(o-e.a.z)/i.c.loopspeedanimate,e.a.A+=(a-e.a.A)/i.c.loopspeedanimate,i.K.css({left:i.f.b>s?Math.min(i.f.b-s,Math.max(0,e.a.z-s/2))+n.left-i.w.t.N:n.left-i.w.t.N,top:i.f.d>r?Math.min(i.f.d-r,Math.max(0,e.a.A-r/2))+n.top-i.w.t.R:n.top-i.w.t.R}),i.c.innerzoommagnifier&&(e.a.p+=(e.a.g-e.a.p)/i.c.loopspeedanimate,e.a.q+=(e.a.i-e.a.q)/i.c.loopspeedanimate,i.l.css({left:e.a.p-Math.round(i.e.b/2),top:e.a.q-Math.round(i.e.d/2)}),i.s.css({left:e.a.p-Math.round(i.e.b/2),top:e.a.q+i.e.d/2})),e.a.u+=(o-e.a.u)/i.c.scrollspeedanimate,e.a.v+=(a-e.a.v)/i.c.scrollspeedanimate,i.J.css({left:e.L("left",-e.a.u*i.k+i.e.b/2,i),top:e.L("top",-e.a.v*i.k+i.e.d/2,i)}),e.a.n=setTimeout(function(){e.H(t)},30)}},I:function(t){var e=this,i=t.data("specs");i&&(i.h+=(i.k-i.h)/i.c.zoomspeedanimate,i.h=Math.round(1e3*i.h)/1e3,i.K.css({width:i.f.b>Math.round(i.e.b/i.h)?Math.round(i.e.b/i.h):i.f.b,height:i.f.d>Math.round(i.e.d/i.h)?Math.round(i.e.d/i.h):i.f.d}),i.J.css({width:Math.round(i.h*i.m.b*(i.f.b/i.m.b)),height:Math.round(i.h*i.m.d*(i.f.d/i.m.d))}),e.a.o=setTimeout(function(){e.I(t)},30))},a:{},P:function(i){function n(){}var o=i.data("specs");i=o.c.magnifiersize[0];var a,s=o.c.magnifiersize[1],r=o.r.offsetsl(),l=0,c=0;switch(a=r.left+("left"===o.c.magnifierpos?-o.e.b-o.c.leftoffset:o.f.b+o.c.rightoffset),o.c.switchsides&&!o.c.innerzoom&&("left"!==o.c.magnifierpos&&a+o.e.b+o.c.leftoffset>=t(window).width()&&r.left-o.e.b>=o.c.leftoffset?a=r.left-o.e.b-o.c.leftoffset:"left"===o.c.magnifierpos&&0>a&&(a=r.left+o.f.b+o.c.rightoffset)),l=a,c=r.top,o.l.css({visibility:"visible",display:"none"}),o.c.descarea&&(l=t(o.c.descarea).offsetsl().left,c=t(o.c.descarea).offsetsl().top),o.c.innerzoommagnifier&&(l=this.a.g-Math.round(o.e.b/2),c=this.a.i-Math.round(o.e.d/2)),n=function(){o.s.stop(e,e).fadeIn(o.c.magnifierspeedanimate),o.c.innerzoommagnifier||o.s.css({left:l,top:c+s})},o.c.innerzoom&&(l=r.left,c=r.top,n=function(){o.r.css({visibility:"hidden"}),o.s.css({left:l,top:c+s}).stop(e,e).fadeIn(o.c.magnifierspeedanimate)}),o.c.magnifiereffectanimate){case"slideIn":o.l.css({left:l,top:c-s/3,width:i,height:s}).stop(e,e).show().animate({top:c},o.c.magnifierspeedanimate,"easeOutBounceSL",n);break;case"showIn":o.l.css({left:r.left+Math.round(o.f.b/2),top:r.top+Math.round(o.f.d/2),width:Math.round(o.e.b/5),height:Math.round(o.e.d/5)}).stop(e,e).show().css({opacity:"0.1"}).animate({left:l,top:c,opacity:"1",width:i,height:s},o.c.magnifierspeedanimate,n);break;default:o.l.css({left:l,top:c,width:i,height:s}).stop(e,e).fadeIn(o.c.magnifierspeedanimate,n)}o.c.showstatus&&(o.Q||o.M)?o.G.html(o.Q+'<div style="font-size:80%">'+o.M+"</div>").stop(e,e).fadeIn().delay(o.c.showstatustime).fadeOut("slow"):o.G.hide()},S:function(t){var i=t.data("specs");switch(t=i.r.offsetsl(),i.c.magnifiereffectanimate){case"showIn":i.l.stop(e,e).animate({left:t.left+Math.round(i.f.b/2),top:t.top+Math.round(i.f.d/2),opacity:"0.1",width:Math.round(i.e.b/5),height:Math.round(i.e.d/5)},i.c.magnifierspeedanimate,function(){i.l.hide()});break;default:i.l.stop(e,e).fadeOut(i.c.magnifierspeedanimate)}},F:function(n,o,a){function s(){this.i=this.g=0}function r(t){m.data("specs",{c:v,Q:w,M:_,r:n,l:h,J:t,G:f,K:p,s:g,f:y,m:{b:t.width(),d:t.height()},e:{b:h.width(),d:h.height()},w:{b:p.width(),d:p.height(),t:{N:parseInt(p.css("border-left-width"))||0,R:parseInt(p.css("border-top-width"))||0}},h:d,k:d})}function l(t){return!t.complete||"undefined"!=typeof t.naturalWidth&&0===t.naturalWidth?i:e}function c(e){var i=e||window.event,n=[].slice.call(arguments,1),o=0,a=0,s=0,r=0,r=0;return e=t.event.fix(i),e.type="mousewheel",i.wheelDelta&&(o=i.wheelDelta),i.detail&&(o=-1*i.detail),i.deltaY&&(o=s=-1*i.deltaY),i.deltaX&&(a=i.deltaX,o=-1*a),void 0!==i.wheelDeltaY&&(s=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(a=-1*i.wheelDeltaX),r=Math.abs(o),(!C||r<C)&&(C=r),r=Math.max(Math.abs(s),Math.abs(a)),(!A||r<A)&&(A=r),i=0<o?"floor":"ceil",o=Math[i](o/C),a=Math[i](a/A),s=Math[i](s/A),n.unshift(e,o,a,s),(t.event.dispatch||t.event.handle).apply(this,n)}var d,u,h,p,f,m,g,v=t.extend({},this.dsetting,o),b=v.zindex||this.T(n),y={b:n.width(),d:n.height()},s=new s,w=n.attr("data-title")?n.attr("data-title"):"",_=n.attr("data-help")?n.attr("data-help"):"",x=n.attr("data-text-bottom")?n.attr("data-text-bottom"):"",k=this;if(0===y.d||0===y.b)t(new Image).load(function(){k.F(n,o)}).attr("src",n.attr("src"));else{n.css({visibility:"visible"}),v.j=n.attr("data-large")||n.attr("src");for(u in v)""===v[u]&&(v[u]=this.dsetting[u]);d=v.zoomrange[0]<v.zoomstart?v.zoomstart:v.zoomrange[0],"0,0"!==v.magnifiersize.toString()&&""!==v.magnifiersize.toString()||(v.magnifiersize=v.innerzoommagnifier?[y.b/2,y.d/2]:[y.b,y.d]),v.descarea&&t(v.descarea).length?0===t(v.descarea).width()||0===t(v.descarea).height()?v.descarea=i:v.magnifiersize=[t(v.descarea).width(),t(v.descarea).height()]:v.descarea=i,v.innerzoom&&(v.magnifiersize=[y.b,y.d],o.cursorshade||(v.cursorshade=i),o.scrollspeedanimate||(v.scrollspeedanimate=10)),v.innerzoommagnifier&&(o.magnifycursor||!window.chrome&&!window.sidebar||(v.magnifycursor="none"),v.cursorshade=i,v.magnifiereffectanimate="fadeIn"),u=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"];var C,A,$="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var S=u.length;S;)t.event.fixHooks[u[--S]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=$.length;t;)this.addEventListener($[--t],c,i);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var t=$.length;t;)this.removeEventListener($[--t],c,i);else this.onmousewheel=null}},t.fn.offsetsl=function(){var t=this.get(0);if(t.getBoundingClientRect)t=this.offset();else{for(var e=0,i=0;t;)e+=parseInt(t.offsetTop),i+=parseInt(t.offsetLeft),t=t.offsetParent;t={top:e,left:i}}return t},t.easing.easeOutBounceSL=function(t,e,i,n,o){return(e/=o)<1/2.75?7.5625*n*e*e+i:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},h=t("<div />").attr({"class":v.classmagnifier}).css({position:"absolute",zIndex:b,width:v.magnifiersize[0],height:v.magnifiersize[1],left:-1e4,top:-1e4,visibility:"hidden",overflow:"hidden"}).appendTo(document.body),o.classmagnifier||h.css({border:v.magnifierborder}),p=t("<div />"),v.cursorshade&&(p.attr({"class":v.classcursorshade}).css({zIndex:b,display:"none",position:"absolute",width:Math.round(v.magnifiersize[0]/v.zoomstart),height:Math.round(v.magnifiersize[1]/v.zoomstart),top:0,left:0}).appendTo(document.body),o.classcursorshade||p.css({border:v.cursorshadeborder,opacity:v.cursorshadeopacity,backgroundColor:v.cursorshadecolor})),v.loadinggif||(v.loadinggif="data:image/gif;base64,R0lGODlhQABAAKEAAPz6/Pz+/Pr6+gAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBgACACwAAAAAQABAAAACVJSPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+s73/g8MCofEovGITCqXzKbzCY1Kp9Sq9YqFBbaBH5cL4H2/4vG2bEaPe+YwmysqAAAh+QQJBgACACwAAAAAQABAAAACVZSPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+s73/g8MCofEovGITCqXzKbzqQpIAT+pNdC7XnlaK7eL3YHDOrAPsIWq1+y2+w2PnwoAIfkECQYAAgAsAAAAAEAAQAAAAleUj6nL7Q+jnLTai7PevPsPhuJIluaJpurKtu4Lx/JM1/aN5/rO9/4PDI4AgQDgV0wGekolr5l8Qpe7KVVHhDKbQKPwCw6Lx+Sy+YxOq9fstvsNj8vn4AIAIfkECQYAAgAsAAAAAEAAQAAAAmiUj6nL7Q+jnLTai7PevPsPhuJIluaJpurKtu4Lx/JM1/aNk0DAB3nSC/4OwR5guCvyhsreUNA8MpVPQ7GKzWq33K73Cw6Lx+Sy+YxOq9fsttsWlD6bz+R1qpTjmgH9zS40R1UV95ZQAAAh+QQJBgACACwAAAAAQABAAAACapSPqcvtD6OctNqLs968+w+G4kiW5omm6sq2bRAAbgXAtjxH9p5D9W7rOYA8IeMHxBkXxMByWHwOpdSq9YrNarfcrvcLDovH5LL5jE6r1+y2+/JTZonaphNrnzf1dCzyVgfUFfNWaHgoVQAAIfkECQYAAgAsAAAAAEAAQAAAAm2Uj6nL7Q+jnLTai7PevPsPhuJIluZ5AQDKBe7LYsD7rnFF0zeeuzvV8/0kwcBw0jtSZgGb8gmNSqfUqvWKzWq33K73Cw6Lx4uZc5s7X4NaZhJbNGaLWjaapoY3yfy+/w8YKDhIWGh4iJioWFIAACH5BAkGAAIALAAAAABAAEAAAAJ3lI+py+0Po5y02ouz3rz7D4YcEACAGAbqinrrG7QczMoardo3rmf42cPQgpsS8YhMKpfMpvMJjUqn1Kr1+iSZsIchFhe7gr88cdlKggHNL2537Y7L5/S6/Y7P6/f8vt+nAsdWM9hWSFg1dphD9iJIlYb4N0nZVAAAIfkECQYAAgAsAAAAAEAAQAAAAnqUj6nL7Q+jnLTai7O+YHsZhOFHLuJZpgJwip36tSjsyeFLb3b+sSfO042CxKLxiEwql8ym85mcQR2yacMWsJp22gS26+WCDeKxwTc0q9fstvsNj8vn9Lr9js/r9/y+/w8YWCOlVgaGRgiGBdS1qIYowmY4hsYoeIlQAAAh+QQJBgACACwAAAAAQABAAAACepSPqcvtD6OctNp7QQC4Wx2Em0dC4lmmC3iO6iu0KKyyJ0ercpDDbU8L4YDEovGITCqXzJho2IzsotIp9bFzXRlZ6DZhE30dMu848Tur1+y2+w2Py+f0uv2Oz+v3/H5yFicTaOWWBWf4hpiYNhji9wgZKTlJWWl5SVkAACH5BAkGAAIALAAAAABAAEAAAAKJlI+py+0Po5z0BRCq3ir4z4XURwLiaZEgyiaY6rXyAcezXN+3aup77wsKh8RGqSiCAZGUl4qpqV2go9qS+nCSsNUnd3L8isfksvmMTqvX7Lb7DY/L5zPMla3NvHNtqVt6d+b3B/OWJ+cRSLfISKW4xrOnRFjYx8c2iHmpuQX38dgYKjpKWmqKVAAAIfkECQYAAgAsAAAAAEAAQAAAAoiUj6nL7Q9ZALHaa4LeuPuzhcFHWiJXps6pqe7Cju+csfR93t60yvqV+7lYFGEqZjzakiQk8+N87kTSEqBVzWq33K73Cw6Lx+SyuXMFFM+IIFsQPcfN83KdfBWt2e53Zu8XKDhIWGh4iJiouMjY6PgIGSlpSBW4xJan9xbjQ0fkd8mnGZgJSFMAACH5BAkGAAIALAAAAABAAEAAAAKLlI+py+0PW5gz2oupxrwnvXliBk7AiEJAGZzpu7ABTCulW5MUs1Y5x/rlZEJYr1R8yWbJFAvXFB13UaWpis1qt9yu9wsOi8dCDZRsA53RBiL783wjZGv0lCo/3PJwPP8PGCg4SFhoeIiYqLjI2Oj4+LMCUCeHBOjGh5mnWRn0F3cJQtgCWWp6inpYAAAh+QQJBgACACwAAAAAQABAAAACnpSPqQgBC6Oc9ISLq94b+8eFIuJ54xmWGcpS6tWyzQWSaoy+Slnj6a1o9HycF4xInAGROOOQydJBiaWp9YrNarfcrpcDeH411XFnaZYY066XmG2RwiFK0zyCvi+U+r7/DxgoOEhYaHiImKi4yMhVFqH0hiW3k5dVt7JAqeWk6dbVGbTGhXlUaZmlIrm59Qjh2hgrO0tba3uLm6u721IAACH5BAkGAAIALAAAAABAAEAAAAKalI+pCeELo5zUuBuq3rvhx4Ui8l3jGQFLCaKu8CVs9qKsXNan96lHrhvNaIygjeUzGm9KJc+RbC5b0qr1ig0BotnjhdvlIMNCJllsPmtmanSv7TbBOR7w/I7P6/f8vv8PGCg4SLiwVWgRM/gkF8gm+OiY9hcpiYFYh6i5ydnp+QkaKjpK6mJnCUU4SbnaV8kKhPqlqkgbcCpSAAAh+QQJBgACACwAAAAAQABAAAACnJSPqQrhsKKctIrmst2c5w91otWEB/Y54xqhz5F+7IzEQW3TtJuZuT6zqU4y4Iz3MipxqaUTVnw+k9KqlRUAmK66GFeHvH2xv/FIaF6h06Iw+9x8q8Xyuv2Oz+v3/L7/D8iCEpjgRXhRBrgWuKiY6BhHyHNYs0V5iZmpucnZ6fkJGio62oFhyRiJaqia+tfo+uiHdOq3SplFmutUAAAh+QQJBgACACwAAAAAQABAAAACmJSPqSvhwaKcNL5Xs9b37l91SYeB5kJCR6qersEeQPrW8doB9Xvjzm6jAYcjEfHo0yFPAYBySZx5oEMhlZd6Xk1S0tbF0n4/1jGo+zNjxeq2+w2Py+f0un2HZt99D/29t8c3FShYQghTduh1WJTG+AgZKTlJWWl5iZmpucnoR4jW8pgYCEhYSjq6B+rIuBg5yBkrO0tbO1sAACH5BAkGAAIALAAAAABAAEAAAAKalI+paxAfmJy0Moit3gkChXncWIXR4ZgnyXYqqq7tHCPqN+f18eZ6D4P4hsChDucSGn+ZpZNnQj6Nuym1aGWGslcTt6v8DlPisvmMTqvXFIeUrdnC4955+2afxGT5RCr01mdTJ3iBEVg4iJjI2Oj4CBkpOUlZaXn5lbLISPhY5fjZGMqJRQoo2RkZsInZ6voKGys7S1trextZAAAh+QQJBgACACwAAAAAQABAAAACmpSPqYvhwaKcFLD3qN4XJ+xxogY6TQmNKgOgloGm63zEckznQoueoU7rfR4v4ASE4BGNOWHNxGw6o0Ylksq0YaOuLdMK9WYdRbH5jE6r1+wgub0qwUW4OWlqj9Tzkj1fD1L215ExaHiImKi4yNjo+AgZKdECIMgo5+inqJnIieh5CBZg2XkFOSqZqrrK2ur6ChsrO0tba3vbWgAAIfkECQYAAgAsAAAAAEAAQAAAApiUj6mbEA+YnHS+ENPdtfu1PVoYfKZHioaTnq6UlkYsv/YRH2yY3XeOI/lQHJ1wdBl2WsFLT2kDQqcrKXVqvSpTT+2Q6aU6w+Sy+YxONzZdtWeXdJ+ycgq9DgPj7fq9JeT3URRIWGh4iJiouMjY+DLmKACn0sjVOBm3SON4d9inORgpOkpaanqKmqq6ytrq+gobKztLW9tYAAAh+QQJBgACACwAAAAAQABAAAACn5SPqbsQAJicdIZ7Fca1+7VxhxMG39mV2aGa6Mu0kdHCdkKGs1DfXe4yAEW00s4nGQZ5ukQJWekJiQoHNKW6ap3ZrVfq1T7D4Q35jIZC0tsm26c6vlHg+alu9+DzUSP/NfaHQiInaHiImKi4yNhIBlToWLQR2bhn2SXJkqnJFNjpSQUaOlpqeoqaqrrK2ur6ChsrO0tba3uLm6u7y7tYAAAh+QQJBgACACwAAAAAQABAAAACo5SPqQgBex6ctNKAs8rY+r9wmWSIHYh65ik0Zgpf67E6McoldbSSd/WiBYWin2pGxPgEpqUxhOQ5S5qnZWfNbqLaLrPoDX9Z4ptjWv4N00YXmK3mwmHYeaxuT7lz+fu77wcoOEhYaHiImNcAgJaIsOaoIxdJBUk59neJyadpsKfU+ZgZytRIeoqaqrrK2ur6ChsrO0tba3uLm6u7y9vr+wusUAAAIfkECQYAAgAsAAAAAEAAQAAAAp6Uj6kJ4QujnNS4G2ADtXvUYE8iZt8pleOhcqgXmqxK0m9VuoIq7/xNiWEQtlkJOPkZL4oiEsLTsSIi6bPp9ASs10W2C7YMw88Ll9w9osPK9bXtRsLjtzkd9b3jMWe9/w8YKDhIWPjBZ9iRk5iUx7g09ujlKCnEJAlVhUkVuen5CRoqOkpaanqKmqq6ytrq+gobKztLW2t7i5uru/tUAAAh+QQJBgACACwAAAAAQABAAAACopSPqQrhsKKctIrmst2c5w8xWkcaTXhgn6OsQcmpz+GOaQ1bOL3zbk6RZVA93wo4qbFuNoQSKRHOYi4UtPUjZa+RI/DFvXwSp/BVak4balY1Urp0Q5Vg+bxoz+HzORn/DxgoOJhWRgjjdeixpRjE1lhBB+lYNUmxZ4k1lBkZ0MYJGio6SlpqeoqaqrrK2ur6ChsrO0tba3uLm6u7y9vr+0taAAAh+QQJBgACACwAAAAAQABAAAACnJSPqSvhwaKcNL5Xs9b37l91SYctgAOAHImQzsKqlAsZZ4zcoizRbZcauXi94e8FcwWJCt9G52EycBsjb3d4LD9UlVV6OIGV4HLOaS7Tamk1adtmQpFxd6mOz+v3qwCcD9IF2Ic1SBhleHiXGPLFOAP0WIUoWWl5iZmpucnZ6fkJGio6SlpqeoqaqrrK2ur6ChsrO0tba3uLmytTAAAh+QQJBgACACwAAAAAQABAAAACnpSPqXsQH5ictDKIrd4IgoV53EiFEeKYJ8l2KqquCUC3VZyo3xzaE+7qKV4+EDH4MJqKl+UoFdqxhAcqJyYdHZmGrdaUZTpZUCtX8Ah/vWeurg0XlJPxuKiOz+v3LTOfxPanMZcmCAhkuEFIl7gR2PgzBulYOGl5iZmpucnZ6fkJGio6SlpqeoqaqrrK2ur6ChsrO0tba3uLm6u7e1kAACH5BAkGAAIALAAAAABAAEAAAAKklI+pqxDPopwSyIcD3Vxl7X1QR04iiJxoySKOaKVnSx/qKqh1/YpJj4ntWrNQpvIQsj6ujzIReBoxRJ8Mt4RlrUNosQM8dr1czm1MZpZO0u6XFMainbUgOiK/61sOQHs/VAYY+DZYV2hYJZi4pcZIE5f3aOY4Wfdnmam5ydnp+QkaKjpKWmp6ipqqusra6voKGys7S1tre4ubq7vL2+v7CxxcWwAAIfkECQYAAgAsAAAAAEAAQAAAAp6Uj6nLBg2jTKG+VvPc3GS9fGBHhmKlAGdQttSqrMHltnK80jV54+Ie+R1UQl9GB3wVBSIk4pOE9KJUx7SKUDknVyxzyT1to7kOzHvohmfo57kNVGehcEaZQaTXjSiMeG8yNiQHuHZS6HKHyHO42JLH4ig5SVlpeYmZqbnJ2en5CRoqOkpaanqKmqq6ytrq+gobKztLW2t7i5uru7tXAAAh+QQJBgACACwAAAAAQABAAAACopSPqQiwD6OcB4R7o3W0e4OFT5h95kiWSRpw5wuy7sEG8F0rtX1DFpb4kRa53kIIRKRQQyORpWtFSDMnDQqTWp/LrTfW/XrD4nGyjE5HL9WVSA1JtcFveBDrJtvpoXZtrvangIQBmFaU17SnpHfVt7imcnQGWWl5iZmpucnZ6fkJGio6SlpqeoqaqrrK2ur6ChsrO0tba3uLm6u7y9vr+4taAAAh+QQJBgACACwAAAAAQABAAAACm5SPqRoNC6OcVICGQ92cZ/x04nhcXyNl5GqcGGSqLCQnrrbcM/PxPe3aIXS2Wi4obCFJxGRztHRGRzFc8nC6an3W7SwACHm32fG1+jILn+oVuw2dwkVo1JxVvn+7+n775yciF5gySAhkeJhQB6ZI8eZ4lCEWKRFTiZmpucnZ6fkJGio6SlpqeoqaqrrK2ur6ChsrO0tba3uL+1kAACH5BAkGAAIALAAAAABAAEAAAAKYlI+pK+HBopw0vlez1vfuDyYdFpYIQCqjY7YjoK5UgLYJOi7v1MF2I9OlLLnfiuY6GoOmI2TZseF6P0MU6gE9fFXG9VPsLlDcjVKMPqO76jU2636z4uxLmY7P6/f8vv8PGCg4SFhoeIgINpQo8sV40PYYyTiZWIk4tfgIpLnp+QkaKjpKWmp6ipqqusra6voKGys7S1urVwAAIfkECQYAAgAsAAAAAEAAQAAAApqUj6l7EB+YnLQyiK3eG0PAhRMGKo73iGqCRsmJrjKcKW0pi22AH22+2vV8NaCIBjESeUrBTxmDfpq7Da05elaQLqxNS7l5v1EKNzVGiCu7btpQZoPfhqFlTp8V8/y+/w8YKDhIWGh4iJiouMjY6PgIGSk5SVlpeYmZqbnJ2dkxNYnHWBUpVLr2eBbqYefo4QkbKztLW2t7m1kAACH5BAkGAAIALAAAAABAAEAAAAKYlI+pywLQopw0hYurpgCH2HkBtJWKeDVoarbGSp6r24Yos350meuK7dmZYCqRcHiLYGLHDbApNEKniBmVSrw2gUHtsedtZsOJp4TrIx+syq66yn4jk/K5tM6L4yv6fcXsFyg4SFhoeIiYqLjI2Oj4CBkpOUlZaXmJmam5ydnp+QkaKjo66gaJwsSYc9qnuPr4CiuS2mgKVQAAIfkECQYAAgAsAAAAAEAAQAAAApeUj6nL7Q9ZmCDai8XcIfKahQfHPWQAitk5OQCrhmzXzPEK1/lt7ZLPg7w2Kd0nOCohlUjNqQlFsIpR3vBZXdqyWhKVq7puwFAi+YxOq9fstvsNj1dJcg+2zhCb8YsZjZ/gB9h3N4ig92VoMKbY6PgIGSk5SVlpeYmZqRmzF1nYuOUYCgpkOKpYqii2ydrq+gobKztL61YAACH5BAkGAAIALAAAAABAAEAAAAKZlI+pCLAPo5wHhHup3hx7DoaJ94lmR16OZGHrqaXZlL4wK9P5LXj2kaLIArzaQxXbnVokXk9pGv6izZvU+ZzdmCWs1wD9YqvisvmMTqvX7Lb7DY/L5/S6/Y7P6/fr1pQfxAcUpjckCEaYZ3jIhXGI2PXY80fXIDkYCWh0uCjYqRnomahI9uh3iZqqusra6voKGys7S1trO1cAACH5BAkGAAIALAAAAABAAEAAAAKalI+pC+Gxopy0ioet3hs/wIUi0njOiHLmk7YNtYKtWLLROo94VEN5uPL9hoegjHjJ6HZIJqdna5qOKg/SAI2KHFRiUHjNxcJDJ3nWO6vX7Lb7DY8zlPKOqW73dPFzM1/x9QczJTjhV5hghbjI2Oj4CBkpOUlZaXmJmam5ydnp+QkaKjpKKoix53i4mAWWOgZpFMk6qcp4WkpRAAAh+QQJBgACACwAAAAAQABAAAACmZSPqZvhwKKcNLobqt4bYw6GjeeIpgBcFFmeIAlZrMul5ATT3SzdusYKxH5EQ7CINPqSRQ/zCY1KQ4+pznYZWqnLLcKpwIK9yvEhmCGjeAhxVi04Kthk+fwDj9Pn+a9H24ejEkhYaHiImKi4yNjo+AgZKTlJWWl5iZmpucnZ6elpA9jYxWhXuqdouqiq6CYESer4+klba0tbAAAh+QQJBgACACwAAAAAQABAAAACmZSPqcvtD6MLNACJc6xc+8NdEMBVn1dSUEqJZ0SmI+u+D2vdrC3hNbPjzWSbyk/YCCJ5gGNoySNCp7HnFIq7YpXaKLf7yoKF0jGzZU6r1+y2+w2Py+f0uv2Oz+v3DNKRX/KHR8NnILZXVVIocCjgd3cYaCf1JWdykNgB2KjHmVfZabXImDNqeoqaqrrK2ur6ChsrO0tba3tVAAAh+QQJBgACACwAAAAAQABAAAACm5SPqcvtD1kIINqLBZi85g8a3BiW1zh610aZEIsGWOw68aRCt+xuQC64zYQmGgKV2RWJCKBFWYLWbs6hsRZELq/YYPVD7YqP2rHZe06r1+y2+w2Py+f0uv2Oz+v3fLvv28fVJ8I0mCUYWDgoZQjTYUhGApnQMml5iZmpucnZ6fkJGio6KvqIiZiIuse4qJhaBhkDqOfIQ3qLa1kAACH5BAkGAAIALAAAAABAAEAAAAKclI+pGQGwopy0moaD3ZxnDHXiiHwYiUphaTbpe3xMC790bNYp0K6CrEO1XAleMDX0HQXK0W3Jy+w+zdqTdFperlrYsBv8gmtR4NhrPqOJ6rb7Dbdl48403SK+47l6Sb4/8QcYwTe4UKZhqLjI2Oj4CBkpOUlZaXmJmam5ydnp+QkaKjpK6idFWciIOAeZJOkaucoWmdpYVlWaW1EAACH5BAkGAAIALAAAAABAAEAAAAKclI+pa+EBmJy0svei3dxi3IUVAF2fI6YKiWnIiaqyACtwMKvs5x5nn+PccDZQULRrHZeJGvPZMEKhDuD0is1qt9yu9ytSgkPOsadsptys6eKvTUk+4JU3XS2ls9h3hJzYtwDD13cTuGJ42ISmSHPS6BYDOUlZaXmJmam5ydnpaSJZ+SjKqJg4eQqZqvqBmfcJGys7S1tre4uby1UAACH5BAkGAAIALAAAAABAAEAAAAKZlI+py+0P4wOhygsDvbRWgIWJ50EdGYgq+j1sq2Jv6sxgLJ3o9OJy72L5LsAMafjz3CQ0ZEjjjEqn1GoQZnWyllmcrtT12cK4MVn1tZxjxbWIxHXL5/S6/Y7P6/f8vv8PGCg4SFiYQBEX+FXY9jczaAb4CCk0uGiIZai5CZgoiOLZ9xK6NxloKtnoh5p6xJjJGSs7S1trG1sAACH5BAkGAAIALAAAAABAAEAAAAKZlI+py+0PWQCx2muC3rj7s4XBR1oiV6bOqXWi2rDjxcKLjOF2cmKA/pmsZq6ap7fLnChFEXP3ex2NSUGIBKyqstoSt4uVgmHRsfmMTqvX7Lb7DY/L53T5D/Cs38R6xFf/VxdINzgXFZLXp3SleJPYCBkpOUlZaXmJmam5ydnp+QkaKirHB0nVeIgYKUOkKPMIiLTqRHkIa1MAACH5BAkGAAIALAAAAABAAEAAAAKYlI+py+0PW5gz2oupxrwnvXliBk7AiEJAGZzpu7ABTCulW5MUs1Y5x/rlZEJYr1R8yWbJFAvXFB13UaWpis1qndetB+nVgcIXIjliPj/Sagn4oIGqx4hbex28u+362LO/MEUFaAMiRwgXgrjI2Oj4CBkpOUlZaXmJmam5yXmxAnDI+NbItliKeEqYCvj3OOoa2ik7S1ubWQAAIfkECQYAAgAsAAAAAEAAQAAAAp6Uj6kIAQujnPSEi6veG/vHhSLieeMZlhnKUurVss0FkmqMvkpZ4+mtaPR8nBeMSJwBkTjjkMnSQYmlqfWKzWq33K6XA3h+NdVxZ2mWGNOul5htkcIhStM8gr4vlPq+/w8YKDhIWGh4iJiouMjIVRah9IYlt5OXVbeyQKnlpOnW1Rm0xoV5VGmZpSK5ufUI4doYKztLW2t7i5uru9tSAAAh+QQJBgACACwAAAAAQABAAAACmpSPqQnhC6Oc1Lgbqt674ceFIvJd4xkBSwmirvAlbPairFzWp/epR64bzWiMoI3lMxpvSiXPkWwuW9Kq9YoNAaLZ44Xb5SDDQiZZbD5rZmp0r+02wTke8PyOz+v3/L7/DxgoOEi4sFVoETP4JBfIJvjomPYXKYmBWIeoucnZ6fkJGio6SupiZwlFOEm52lfJCoT6papIG3AqUgAAIfkECQYAAgAsAAAAAEAAQAAAApyUj6kK4bCinLSK5rLdnOcPdaLVhAf2OeMaoc+RfuyMxEFt07Sbmbk+s6lOMuCM9zIqcamlE1Z8PpPSqpUVAJiuuhhXh7x9sb/xSGheodOiMPvcfKvF8rr9js/r9/y+/w/IghKY4EV4UQa4FriomOgYR8hzWLNFeYmZqbnJ2en5CRoqOtqBYckYiWqomvrX6Proh3Tqt0qZRZrrVAAAIfkECQYAAgAsAAAAAEAAQAAAApiUj6kr4cGinDS+V7PW9+5fdUmHgeZCQkeqnq7BHkD61vHaAfV7485uowGHIxHx6NMhTwGAckmceaBDIZWXel5NUtLWxdJ+P9YxqPszY8XqtvsNj8vn9Lp9h2bffQ/9vbfHNxUoWEIIU3bodViUxvgIGSk5SVlpeYmZqbnJ6EeI1vKYGAhIWEo6ugfqyLgYOcgZKztLWztbAAAh+QQJBgACACwAAAAAQABAAAACmpSPqWsQH5ictDKIrd4JAoV53FiF0eGYJ8l2Kqqu7Rwj6jfn9fHmeg+D+IbAoQ7nEhp/maWTZ0I+jbsptWhlhrJXE7er/A5T4rL5jE6r1xSHlK3ZwuPeeftmn8Rk+UQq9NZnUyd4gRFYOIiYyNjo+AgZKTlJWWl5+ZWyyEj4WOX42RjKiUUKKNkZGbCJ2er6ChsrO0tba3sbWQAAIfkECQYAAgAsAAAAAEAAQAAAApqUj6mL4cGinBSw96jeFyfscaIGOk0JjSoDoJaBput8xHJM50KLnqFO630eL+AEhOARjTlhzcRsOqNGJZLKtGGjri3TCvVmHUWx+YxOq9fsILm9KsFFuDlpao/U85I9Xw9S9teRMWh4iJiouMjY6PgIGSnRAiDIKOfop6iZyInoeQgWYNl5BTkqmaq6ytrq+gobKztLW2t721oAACH5BAkGAAIALAAAAABAAEAAAAKYlI+pmxAPmJx0vhDT3bX7tT1aGHymR4qGk56ulJZGLL/2ER9smN13jiP5UBydcHQZdlrBS09pA0KnKyl1ar0qU0/tkOmlOsPksvmMTjc2XbVnl3SfsnIKvQ4D4+36vSXk91EUSFhoeIiYqLjI2Pgy5igAp9LI1TgZt0jjeHfYpzkYKTpKWmp6ipqqusra6voKGys7S1vbWAAAIfkECQYAAgAsAAAAAEAAQAAAAp+Uj6m7EACYnHSGexXGtfu1cYcTBt/ZldmhmujLtJHRwnZChrNQ313uMgBFtNLOJxkGebpECVnpCYkKBzSlumqd2a1X6tU+w+EN+YyGQtLbJtunOr5R4Pmpbvfg81Ej/zX2h0IiJ2h4iJiouMjYSAZU6Fi0Edm4Z9klyZKpyRTY6UkFGjpaanqKmqq6ytrq+gobKztLW2t7i5uru8u7WAAAIfkECQYAAgAsAAAAAEAAQAAAAqOUj6kIAXsenLTSgLPK2Pq/cJlkiB2IeuYpNGYKX+uxOjHKJXW0knf1ogWFop9qRsT4BKalMYTkOUuap2VnzW6i2i6z6A1/WeKbY1r+DdNGF5it5sJh2Hmsbk+5c/n7u+8HKDhIWGh4iJjXAICWiLDmqCMXSQVJOfZ3icmnabCn1PmYGcrUSHqKmqq6ytrq+gobKztLW2t7i5uru8vb6/sLrFAAACH5BAkGAAIALAAAAABAAEAAAAKelI+pCeELo5zUuBtgA7V71GBPImbfKZXjoXKoF5qsStJvVbqCKu/8TYlhELZZCTj5GS+KIhLC07EiIumz6fQErNdFtgu2DMPPC5fcPaLDyvW17UbC47c5HfW94zFnvf8PGCg4SFj4wWfYkZOYlMe4NPbo5SgpxCQJVYVJFbnp+QkaKjpKWmp6ipqqusra6voKGys7S1tre4ubq7v7VAAAIfkECQYAAgAsAAAAAEAAQAAAAqKUj6kK4bCinLSK5rLdnOcPMVpHGk14YJ+jrEHJqc/hjmkNWzi9825OkWVQPd8KOKmxbjaEEikRzmIuFLT1I2WvkSPwxb18EqfwVWpOG2pWNVK6dEOVYPm8aM/h8zkZ/w8YKDiYVkYI43XosaUYxNZYQQfpWDVJsWeJNZQZGdDGCRoqOkpaanqKmqq6ytrq+gobKztLW2t7i5uru8vb6/tLWgAAIfkECQYAAgAsAAAAAEAAQAAAApyUj6kr4cGinDS+V7PW9+5fdUmHLYADgByJkM7CqpQLGWeM3KIs0W2XGrl4veHvBXMFiQrfRudhMnAbI293eCw/VJVVejiBleByzmku02ppNWnbZkKRcXepjs/r96sAnA/SBdiHNUgYZXh4lxjyxTgD9FiFKFlpeYmZqbnJ2en5CRoqOkpaanqKmqq6ytrq+gobKztLW2t7i5srUwAAIfkECQYAAgAsAAAAAEAAQAAAAp6Uj6l7EB+YnLQyiK3eCIKFedxIhRHimCfJdiqqrglAt1WcqN8c2hPu6ilePhAx+DCaipflKBXasYQHKicmHR2Zhq3WlGU6WVArV/AIf71nrq4NF5ST8biojs/r9y0zn8T2pzGXJggIZLhBSJe4Edj4MwbpWDhpeYmZqbnJ2en5CRoqOkpaanqKmqq6ytrq+gobKztLW2t7i5uru3tZAAAh+QQJBgACACwAAAAAQABAAAACpJSPqasQz6KcEsiHA91cZe19UEdOIoicaMkijmilZ0sf6iqodf2KSY+J7VqzUKbyELI+ro8yEXgaMUSfDLeEZa1DaLEDPHa9XM5tTGaWTtLulxTGop21IDoiv+tbDkB7P1QGGPg2WFdoWCWYuKXGSBOX92jmOFn3Z5mpucnZ6fkJGio6SlpqeoqaqrrK2ur6ChsrO0tba3uLm6u7y9vr+wscXFsAACH5BAkGAAIALAAAAABAAEAAAAKelI+pywYNo0yhvlbz3NxkvXxgR4ZipQBnULbUqqzB5bZyvNI1eePiHvkdVEJfRgd8FQUiJOKThPSiVMe0ilA5J1csc8k9baO5Dsx76IZn6Oe5DVRnoXBGmUGk140ojHhvMjYkB7h2Uuhyh8hzuNiSx+IoOUlZaXmJmam5ydnp+QkaKjpKWmp6ipqqusra6voKGys7S1tre4ubq7u7VwAAIfkECQYAAgAsAAAAAEAAQAAAAqKUj6kIsA+jnAeEe6N1tHuDhU+YfeZIlkkacOcLsu7BBvBdK7V9QxaW+JEWud5CCESkUEMjkaVrRUgzJw0Kk1qfy6031v16w+JxsoxORy/VlUgNSbXBb3gQ6ybb6aF2ba72p4CEAZhWlNe0p6R31be4pnJ0BllpeYmZqbnJ2en5CRoqOkpaanqKmqq6ytrq+gobKztLW2t7i5uru8vb6/uLWgAAIfkECQYAAgAsAAAAAEAAQAAAApuUj6kaDQujnFSAhkPdnGf8dOJ4XF8jZeRqnBhkqiwkJ6623DPz8T3t2iF0tlouKGwhScRkc7R0RkcxXPJwump91u0sAAh5t9nxtfoyC5/qFbsNncJFaNScVb5/u/p+++cnIheYMkgIZHiYUAemSPHmeJQhFikRU4mZqbnJ2en5CRoqOkpaanqKmqq6ytrq+gobKztLW2t7i/tZAAAh+QQJBgACACwAAAAAQABAAAACmJSPqSvhwaKcNL5Xs9b37g8mHRaWCEAqo2O2I6CuVIC2CTou79TBdiPTpSy534rmOhqDpiNk2bHhej9DFOoBPXxVxvVT7C5Q3I1SjD6ju+o1Nut+s+LsS5mOz+v3/L7/DxgoOEhYaHiICDaUKPLFeND2GMk4mViJOLX4CKS56fkJGio6SlpqeoqaqrrK2ur6ChsrO0tbq1cAACH5BAkGAAIALAAAAABAAEAAAAKalI+pexAfmJy0Moit3htDwIUTBiqO94hqgkbJia4ynCltKYttgB9tvtr1fDWgiAYxEnlKwU8Zg36auw2tOXpWkC6sTUu5eb9RCjc1Rogru27aUGaD34ahZU6fFfP8vv8PGCg4SFhoeIiYqLjI2Oj4CBkpOUlZaXmJmam5ydnZMTWJx1gVKVS69ngW6mHn6OEJGys7S1tre5tZAAAh+QQJBgACACwAAAAAQABAAAACmJSPqcsC0KKcNIWLq6YAh9h5AbSVing1aGq2xkqeq9uGKLN+dJnriu3ZmWAqkXB4i2Bixw2wKTRCp4gZlUq8NoFB7bHnbWbDiaeE6yMfrMquusp+I5PyubTOi+Mr+n3F7BcoOEhYaHiImKi4yNjo+AgZKTlJWWl5iZmpucnZ6fkJGio6OuoGicLEmHPap7j6+AorktpoClUAACH5BAkGAAIALAAAAABAAEAAAAKNlI+py+0PWZgg2ovF3CHymoUHxz1kAIrZOTkAq4Zs18zxCtf5be2Sz4O8NindJzgqIZVIzakJRbCKUd7wWV3asloSlau6bsBQIvmMTqvX7Lb7DY9XSXIPts4Qm/GLGY2f4AfYdzeIoPdlaDCm2Oj4CBkpOUlZaXmJmam5ydnp+QkaKjpKWmp6ipqqqlYAACH5BAkGAAIALAAAAABAAEAAAAKLlI+pCLAPo5wHhHup3hx7DoaJ94lmR16OZGHrqaXZlL4wK9P5LXj2kaLIArzaQxXbnVokXk9pGv6izZvU+ZzdmCWs1wD9YqvisvmMTqvX7Lb7DY/L5/S6/Y7P6/f8vv8PGCg4SFj41TAY9CczlTe0GKb36DdJSfbX0mi4ydnp+QkaKjpKWmp6iqpWAAAh+QQJBgACACwAAAAAQABAAAACi5SPqQvhsaKctIqHrd4bP8CFItJ4zohy5pO2DbWCrViy0TqPeFRDebjy/YaHoIx4yeh2SCanZ2uajioP0gCNihxUYlB4zcXCQyd51jur1+y2+w2Py+f0uv2Oz+v3/L7/DxgoOEhYaHiImKi4yNjo+AgZKTlJWZmH0eVnxpcF1mcECPrXKbj5+WEpUQAAIfkECQYAAgAsAAAAAEAAQAAAAnmUj6mb4cCinDS6G6reG2MOho3niKYAXBRZniAJWazLpeQE090s3brGCsR+REOwiDT6kkUP8wmNSqfUqvXa+2Bfy+2K5/12w7IxeWFznnGe4bqcecvn9Lr9js/r9/y+/w8YKDhIWGh4iJiouMjY6PgIGSk5SVlp2VgAACH5BAkGAAIALAAAAABAAEAAAAJ7lI+py+0Pows0AIlzrFz7w10QwFWfV1JQSolnRKYj674Pa92sLeE1s+PNZJvKT9gIIpeJEPMJjUqn1Kr1is1qt9yu9wsOi8fksvmMTqvX7PaJdEyX4mXaGqeOEeVKNP5e4mbiRlhoeIiYqLjI2Oj4CBkpOUlZaXmJ2VAAACH5BAkGAAIALAAAAABAAEAAAAJ6lI+py+0PWQgg2osFmLzmDxrcGJbXOHrXRpkQiwZY7DrxpEK3XEv0ees1UJmd0AYyHpewzvL5e0Jz0qr1is1qt9yu9wsOi8fksvmMTqvX7Lb7DY/L5/S6/Y7P6/f8vv8PGCg45wQXxaaEGNSWuNboiEKl1sQzaHmZVQAAIfkECQYAAgAsAAAAAEAAQAAAAm2Uj6kZAbCinLSahoPdnGcMdeKIfBiJdoDZpK7Fau8csfS9fPiuOPzPCwFxq8zwZju6YsplskliQklF3TRqvWJb2q73Cw6Lx+Sy+YxOq9fstvsNj8vn9Lr9js/r9/y+/w8YKDhIWGh4iJioeFUAACH5BAkGAAIALAAAAABAAEAAAAJnlI+pa+EBmJy0svei3dxi3IVi8j3jGZYOynpqC0+lFtckaOf6zvf+DwwKh8Si8YhMKpfMpvMJjUp3mSkCULI2ZlpVwIp9Wb3drFbwOavX7Lb7DY/L5/S6/Y7P6/f8vv8PGCg4SMhXAAAh+QQJBgACACwAAAAAQABAAAACapSPqcvtD+MDocqLZd0B5A8aFGeFpkZW3sk2qdrGyhvINvLeukDufu0LCofEovGITCqXzKbzCY1Kp9Sq9YrNarfcrvcLDovH5LL5jE6r1+zsikt6X1/yKi17x+bnOXxvu1HXNkhYaHj4VAAAIfkECQYAAgAsAAAAAEAAQAAAAleUj6nL7Q+jnLTai7PevHsZhOFHHuJZkieacsAqth08yhsN2Desz3EPDAqHxKLxiEwql8ym8wmNSqfUqvWKzWq33K73Cw6Lx+Sy+YxOq9fstvsNj8vnyAIAIfkECQYAAgAsAAAAAEAAQAAAAlmUj6nL7Q+jnLTai7PevPsPhuJIluaJpurKtu4Lx/JMBTZAP/Ye5AzP8ymAO2GCaDMikD2lAelEAILRqvWKzWq33K73Cw6Lx+Sy+YxOq9fstvsNj8vn9Hq4AAAh+QQJBgACACwAAAAAQABAAAACVpSPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+s73/g8MCofEovGITCqXzGYrAIX6olQetbq7RgFZbYCrA3h7WrAV60yr1+y2+w2Py0UFADs="),
f=t("<div />").attr({"class":v.classstatusdiv+" preloadevt"}).css({position:"absolute",display:"none",zIndex:b,top:0,left:0}).html('<img src="'+v.loadinggif+'" />').appendTo(document.body),m=t("<div />").attr({"class":"tracker"}).css({zIndex:b,backgroundImage:k.U?"url(cannotbe)":"none",position:"absolute",width:y.b,height:y.d,left:a?n.offsetsl().left:-1e4,top:a?n.offsetsl().top:-1e4}).appendTo(document.body),g=t("<div />"),x&&(g.attr({"class":v.classtextdn}).css({position:"absolute",zIndex:b,left:0,top:0,display:"none"}).html(x).appendTo(document.body),o.classtextdn||g.css({border:v.magnifierborder,background:v.textdnbackground,padding:v.textdnpadding,font:v.textdnfont}),g.css({width:v.magnifiersize[0]-parseInt(g.css("padding-left"))-parseInt(g.css("padding-right"))})),m.data("largeimage",v.j),t(window).bind("resize",function(){var t=n.offsetsl();m.data("loadimgevt")&&m.css({left:t.left,top:t.top}),f.filter(".preloadevt").css({left:t.left+y.b/2-f.width()/2,top:t.top+y.d/2-f.height()/2,visibility:"visible"})}),t(document).mousemove(function(t){k.a.D=t.pageX,k.a.g!==k.a.D&&(clearTimeout(k.a.n),clearTimeout(k.a.o),n.css({visibility:"visible"}))}),n.mouseover(function(){var t=n.offsetsl();m.css({left:t.left,top:t.top}).show()}),m.mouseover(function(i){k.a.g=i.pageX,k.a.i=i.pageY,s.g=i.pageX,s.i=i.pageY,k.a.D=i.pageX;var a=n.offsetsl();i=k.a.g-a.left,a=k.a.i-a.top,k.a.z=i,k.a.A=a,k.a.u=i,k.a.v=a,k.a.p=k.a.g,k.a.q=k.a.i,k.a.B=k.a.g-10,k.a.C=k.a.i+20,m.css({cursor:v.magnifycursor}),v.j=n.attr("data-large")||n.attr("src"),f.show(),clearTimeout(k.a.n),clearTimeout(k.a.o),v.j!==m.data("largeimage")&&(t(new Image).load(function(){}).attr("src",v.j),t(m).unbind(),t(f).remove(),t(p).remove(),t(h).remove(),t(m).remove(),t(g).remove(),k.F(n,o,e)),m.data("loadevt")&&(p.fadeIn(),k.P(m),k.H(m),k.I(m))}),m.mousemove(function(i){v.j=n.attr("data-large")||n.attr("src"),v.j!==m.data("largeimage")&&(t(new Image).load(function(){}).attr("src",v.j),t(m).unbind(),t(f).remove(),t(p).remove(),t(h).remove(),t(m).remove(),t(g).remove(),k.F(n,o,e)),k.a.g=i.pageX,k.a.i=i.pageY,s.g=i.pageX,s.i=i.pageY,k.a.D=i.pageX}),m.mouseout(function(){clearTimeout(k.a.n),clearTimeout(k.a.o),n.css({visibility:"visible"}),g.hide(),p.add(f.not(".preloadevt")).stop(e,e).hide()}),m.one("mouseover",function(){var a=n.offsetsl(),c=t('<img src="'+v.j+'"/>').css({position:"relative",maxWidth:"none"}).appendTo(h);k.O[v.j]||(m.css({opacity:v.loadopacity,background:v.loadbackground}),m.data("loadimgevt",e),f.css({left:a.left+y.b/2-f.width()/2,top:a.top+y.d/2-f.height()/2,visibility:"visible"})),c.bind("loadevt",function(t,a){if("error"!==a.type){m.mouseout(function(){k.S(m),clearTimeout(k.a.n),clearTimeout(k.a.o),n.css({visibility:"visible"}),g.hide(),m.hide().css({left:-1e4,top:-1e4})}),m.mouseover(function(){l.h=l.k}),m.data("loadimgevt",i),m.css({opacity:0,cursor:v.magnifycursor}),f.empty(),o.classstatusdiv||f.css({border:v.statusdivborder,background:v.statusdivbackground,padding:v.statusdivpadding,font:v.statusdivfont,opacity:v.statusdivopacity}),f.hide().removeClass("preloadevt"),k.O[v.j]=e,r(c),s.g==k.a.D&&(p.fadeIn(),k.P(m),clearTimeout(k.a.n),clearTimeout(k.a.o),k.H(m),k.I(m));var l=m.data("specs");c.css({width:v.zoomstart*l.m.b*(y.b/l.m.b),height:v.zoomstart*l.m.d*(y.d/l.m.d)}),m.data("loadevt",e),v.zoomrange&&v.zoomrange[1]>v.zoomrange[0]?m.bind("mousewheel",function(t,e){var i=l.k,i="in"==(0>e?"out":"in")?Math.min(i+v.stepzoom,v.zoomrange[1]):Math.max(i-v.stepzoom,v.zoomrange[0]);l.k=i,l.V=e,t.preventDefault()}):v.disablewheel&&m.bind("mousewheel",function(t){t.preventDefault()})}}),l(c.get(0))?c.trigger("loadevt",{type:"load"}):c.bind("load error",function(t){c.trigger("loadevt",t)})})}},O:{}})}(jQuery,window),!function(t){"use strict";t.ThreeSixty=function(e,i){var n,o=this,a=[];o.$el=t(e),o.el=e,o.$el.data("ThreeSixty",o),o.init=function(){n=t.extend({},t.ThreeSixty.defaultOptions,i),n.disableSpin&&(n.currentFrame=1,n.endFrame=1),o.initProgress(),o.loadImages()},o.resize=function(){},o.initProgress=function(){o.$el.css({width:n.width+"px",height:n.height+"px","background-image":"none !important"}),n.styles&&o.$el.css(n.styles),o.responsive(),o.$el.find(n.progress).css({marginTop:n.height/2-15+"px"}),o.$el.find(n.progress).fadeIn("slow"),o.$el.find(n.imgList).hide()},o.loadImages=function(){var e,i,s,r;e=document.createElement("li"),r=n.zeroBased?0:1,i=n.imgArray?n.imgArray[n.loadedImages]:n.domain+n.imagePath+n.filePrefix+o.zeroPad(n.loadedImages+r)+n.ext+(o.browser.isIE()?"?"+(new Date).getTime():""),s=t("<img>").attr("src",i).addClass("previous-image").appendTo(e),a.push(s),o.$el.find(n.imgList).append(e),t(s).load(function(){o.imageLoaded()})},o.imageLoaded=function(){n.loadedImages+=1,t(n.progress+" span").text(Math.floor(100*(n.loadedImages/n.totalFrames))+"%"),n.loadedImages>=n.totalFrames?(n.disableSpin&&a[0].removeClass("previous-image").addClass("current-image"),t(n.progress).fadeOut("slow",function(){t(this).hide(),o.showImages(),o.showNavigation()})):o.loadImages()},o.showImages=function(){o.$el.find(".txtC").fadeIn(),o.$el.find(n.imgList).fadeIn(),o.ready=!0,n.ready=!0,n.drag&&o.initEvents(),o.refresh(),o.initPlugins(),n.onReady(),setTimeout(function(){o.responsive()},50)},o.initPlugins=function(){t.each(n.plugins,function(e,i){if("function"!=typeof t[i])throw new Error(i+" not available.");t[i].call(o,o.$el,n)})},o.showNavigation=function(){if(n.navigation&&!n.navigation_init){var e,i,a,s;e=t("<div/>").attr("class","nav_bar"),i=t("<a/>").attr({href:"#","class":"nav_bar_next"}).html("next"),a=t("<a/>").attr({href:"#","class":"nav_bar_previous"}).html("previous"),s=t("<a/>").attr({href:"#","class":"nav_bar_play"}).html("play"),e.append(a),e.append(s),e.append(i),o.$el.prepend(e),i.bind("mousedown touchstart",o.next),a.bind("mousedown touchstart",o.previous),s.bind("mousedown touchstart",o.play_stop),n.navigation_init=!0}},o.play_stop=function(e){e.preventDefault(),n.autoplay?(n.autoplay=!1,t(e.currentTarget).removeClass("nav_bar_stop").addClass("nav_bar_play"),clearInterval(n.play),n.play=null):(n.autoplay=!0,n.play=setInterval(o.moveToNextFrame,n.playSpeed),t(e.currentTarget).removeClass("nav_bar_play").addClass("nav_bar_stop"))},o.next=function(t){t&&t.preventDefault(),n.endFrame-=5,o.refresh()},o.previous=function(t){t&&t.preventDefault(),n.endFrame+=5,o.refresh()},o.play=function(t){var e=t||n.playSpeed;n.autoplay||(n.autoplay=!0,n.play=setInterval(o.moveToNextFrame,e))},o.stop=function(){n.autoplay&&(n.autoplay=!1,clearInterval(n.play),n.play=null)},o.moveToNextFrame=function(){1===n.autoplayDirection?n.endFrame-=1:n.endFrame+=1,o.refresh()},o.gotoAndPlay=function(t){if(n.disableWrap)n.endFrame=t,o.refresh();else{var e=Math.ceil(n.endFrame/n.totalFrames);0===e&&(e=1);var i=e>1?n.endFrame-(e-1)*n.totalFrames:n.endFrame,a=n.totalFrames-i,s=0;s=t-i>0?t-i<i+(n.totalFrames-t)?n.endFrame+(t-i):n.endFrame-(i+(n.totalFrames-t)):a+t>i-t?n.endFrame-(i-t):n.endFrame+(a+t),i!==t&&(n.endFrame=s,o.refresh())}},o.initEvents=function(){o.$el.bind("mousedown touchstart touchmove touchend mousemove click",function(t){t.preventDefault(),"mousedown"===t.type&&1===t.which||"touchstart"===t.type?(n.pointerStartPosX=o.getPointerEvent(t).pageX,n.dragging=!0):"touchmove"===t.type?o.trackPointer(t):"touchend"===t.type&&(n.dragging=!1)}),t(document).bind("mouseup",function(){n.dragging=!1,t(this).css("cursor","none")}),t(window).bind("resize",function(){o.responsive()}),t(document).bind("mousemove",function(t){n.dragging?(t.preventDefault(),!o.browser.isIE&&n.showCursor&&o.$el.css("cursor","url(assets/images/hand_closed.png), auto")):!o.browser.isIE&&n.showCursor&&o.$el.css("cursor","url(assets/images/hand_open.png), auto"),o.trackPointer(t)}),t(window).resize(function(){o.resize()})},o.getPointerEvent=function(t){return t.originalEvent.targetTouches?t.originalEvent.targetTouches[0]:t},o.trackPointer=function(t){n.ready&&n.dragging&&(n.pointerEndPosX=o.getPointerEvent(t).pageX,n.monitorStartTime<(new Date).getTime()-n.monitorInt&&(n.pointerDistance=n.pointerEndPosX-n.pointerStartPosX,n.endFrame=n.pointerDistance>0?n.currentFrame+Math.ceil((n.totalFrames-1)*n.speedMultiplier*(n.pointerDistance/o.$el.width())):n.currentFrame+Math.floor((n.totalFrames-1)*n.speedMultiplier*(n.pointerDistance/o.$el.width())),n.disableWrap&&(n.endFrame=Math.min(n.totalFrames-(n.zeroBased?1:0),n.endFrame),n.endFrame=Math.max(n.zeroBased?0:1,n.endFrame)),o.refresh(),n.monitorStartTime=(new Date).getTime(),n.pointerStartPosX=o.getPointerEvent(t).pageX))},o.refresh=function(){0===n.ticker&&(n.ticker=setInterval(o.render,Math.round(1e3/n.framerate)))},o.render=function(){var t;n.currentFrame!==n.endFrame?(t=n.endFrame<n.currentFrame?Math.floor(.1*(n.endFrame-n.currentFrame)):Math.ceil(.1*(n.endFrame-n.currentFrame)),o.hidePreviousFrame(),n.currentFrame+=t,o.showCurrentFrame(),o.$el.trigger("frameIndexChanged",[o.getNormalizedCurrentFrame(),n.totalFrames])):(window.clearInterval(n.ticker),n.ticker=0)},o.hidePreviousFrame=function(){a[o.getNormalizedCurrentFrame()].removeClass("current-image").addClass("previous-image")},o.showCurrentFrame=function(){a[o.getNormalizedCurrentFrame()].removeClass("previous-image").addClass("current-image")},o.getNormalizedCurrentFrame=function(){var t,e;return n.disableWrap?(t=Math.min(n.currentFrame,n.totalFrames-(n.zeroBased?1:0)),e=Math.min(n.endFrame,n.totalFrames-(n.zeroBased?1:0)),t=Math.max(t,n.zeroBased?0:1),e=Math.max(e,n.zeroBased?0:1),n.currentFrame=t,n.endFrame=e):(t=Math.ceil(n.currentFrame%n.totalFrames),0>t&&(t+=n.totalFrames-(n.zeroBased?1:0))),t},o.getCurrentFrame=function(){return n.currentFrame},o.responsive=function(){n.responsive&&o.$el.css({height:o.$el.find(".current-image").first().css("height"),width:"100%"})},o.zeroPad=function(t){function e(t,e){var i=t.toString();if(n.zeroPadding)for(;i.length<e;)i="0"+i;return i}var i=Math.log(n.totalFrames)/Math.LN10,o=1e3,a=Math.round(i*o)/o,s=Math.floor(a)+1;return e(t,s)},o.browser={},o.browser.isIE=function(){var t=-1;if("Microsoft Internet Explorer"===navigator.appName){var e=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");null!==i.exec(e)&&(t=parseFloat(RegExp.$1))}return-1!==t},o.getConfig=function(){return n},t.ThreeSixty.defaultOptions={dragging:!1,ready:!1,pointerStartPosX:0,pointerEndPosX:0,pointerDistance:0,monitorStartTime:0,monitorInt:10,ticker:0,speedMultiplier:7,totalFrames:180,currentFrame:0,endFrame:0,loadedImages:0,framerate:60,domains:null,domain:"",parallel:!1,queueAmount:8,idle:0,filePrefix:"",ext:"png",height:300,width:300,styles:{},navigation:!1,autoplay:!1,autoplayDirection:1,disableSpin:!1,disableWrap:!1,responsive:!1,zeroPadding:!1,zeroBased:!1,plugins:[],showCursor:!1,drag:!0,onReady:function(){},imgList:".threesixty_images",imgArray:null,playSpeed:100},o.init()},t.fn.ThreeSixty=function(e){return Object.create(new t.ThreeSixty(this,e))}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(t){"use strict";function e(){}return e.prototype=t,new e}),function(t,e){var i,n=t.jQuery||t.Cowboy||(t.Cowboy={});n.throttle=i=function(t,i,o,a){function s(){function n(){l=+new Date,o.apply(c,u)}function s(){r=e}var c=this,d=+new Date-l,u=arguments;a&&!r&&n(),r&&clearTimeout(r),a===e&&d>t?n():i!==!0&&(r=setTimeout(a?s:n,a===e?t-d:t))}var r,l=0;return"boolean"!=typeof i&&(a=o,o=i,i=e),n.guid&&(s.guid=o.guid=o.guid||n.guid++),s},n.debounce=function(t,n,o){return o===e?i(t,n,!1):i(t,o,n!==!1)}}(this),function(){var _1="5.01",_2="!aknzcaehveg@erneishg.tur",hq="http://orphus.ru/ru/",_4="<!!!>",_5="<!!!>",_6=60,_7=256,_8={alt:"Выделите орфографическую ошибку мышью и нажмите Ctrl+Enter. Сделаем язык чище!",badbrowser:"Ваш браузер не поддерживает возможность перехвата выделенного текста или IFRAME. Возможно, слишком старая версия, а возможно, еще какая-нибудь ошибка.",toobig:"Вы выбрали слишком большой объем текста!",thanks:"Спасибо за сотрудничество!",subject:"Орфографическая ошибка",docmsg:"Документ:",intextmsg:"Орфографическая ошибка в тексте:",ifsendmsg:"Послать сообщение об ошибке автору?\nВаш браузер останется на той же странице.",gohome:"Перейти на домашнюю страницу системы Orphus?",newwin:"Страница откроется в новом окне.",name:"Система Orphus",author:"Автор: Дмитрий Котеров.",to:"Пользователь Orphus",send:"Отправить",cancel:"Отмена",entercmnt:"Комментарий для автора (необязательно):"},_9="css",_a=0,w=window,d=w.document,de=d.documentElement,b=d.body,_f=null,_10={},_11=!1,_12="",_13=function(){"!"==_2.substr(0,1)&&(_2=_2.substr(1).replace(/(.)(.)/g,"$2$1")),setTimeout(function(){var t=_15();t&&(t.onclick=_16,t.title=t.childNodes[0]&&t.childNodes[0].alt)},100),d.onkeypress=_17,_8.gohome+=" "+_8.newwin},_15=function(){return d.getElementById("orphus")},_16=function(){with(_8)return confirm(name+" v"+_1+".\n"+author+"\n\n"+alt+"\n\n"+gohome)&&w.open(hq,"_blank"),!1},_18=function(){var t=0,e=function(){++t>20||(w.status=t%5?_8.thanks:" ",setTimeout(e,100))};e()},_1b=function(t){t.style.position="absolute",t.style.top="-10000px",b.lastChild?b.insertBefore(t,b.lastChild):b.appendChild(t)},_1d=function(t){var e=d.createElement("DIV");return e.innerHTML='<iframe name="'+t+'"></iframe>',_1b(e),d.childNodes[0]},_20=function(t,e,i){var n="orphus_ifr";_f||(_f=_1d(n));var o=d.createElement("FORM");o.style.position="absolute",o.style.top="-10000px",o.action=hq,o.method="post",o.target=n;var a={version:_1,email:_2,to:_8.to,subject:_8.subject,ref:t,c_pre:e.pre,c_sel:e.text,c_suf:e.suf,c_pos:e.pos,c_tag1:_4,c_tag2:_5,charset:d.charset||d.characterSet||"",comment:i};for(var s in a){var r=d.createElement("INPUT");r.type="hidden",r.name=s,r.value=a[s],o.appendChild(r)}_1b(o),o.submit(),jQuery.ajax({url:"/bitrix/php_interface/ajax/orphusMail.php",type:"POST",dataType:"html",data:{comment:r.value,mess:a}}),o.parentNode.removeChild(o)},_29=function(){var t=0,e=0;"number"==typeof w.innerWidth?(t=w.innerWidth,e=w.innerHeight):de&&(de.clientWidth||de.clientHeight)?(t=de.clientWidth,e=de.clientHeight):b&&(b.clientWidth||b.clientHeight)&&(t=b.clientWidth,e=b.clientHeight);var i=0,n=0;return"number"==typeof w.pageYOffset?(n=w.pageYOffset,i=w.pageXOffset):b&&(b.scrollLeft||b.scrollTop)?(n=b.scrollTop,i=b.scrollLeft):de&&(de.scrollLeft||de.scrollTop)&&(n=de.scrollTop,i=de.scrollLeft),{w:t,h:e,x:i,y:n}};_10.confirm=function(t,e,i){var n=(new Date).getTime(),o=confirm(_8.docmsg+"\n   "+d.location.href+"\n"+_8.intextmsg+'\n   "'+t+'"\n\n'+_8.ifsendmsg),a=(new Date).getTime()-n;if(o)e("");else if(!i&&a<50){var s=d.onkeyup;d.onkeyup=function(i){i||(i=window.event),17==i.keyCode&&(d.onkeyup=s,_10.confirm(t,e,!0))}}},_10.css=function(t,e){if(!_11){_11=!0;var i=d.createElement("DIV"),n=550;n>b.clientWidth-10&&(n=b.clientWidth-10),i.style.zIndex="10001",i.innerHTML='<div style="background:#FFFFFF; width:'+n+'px; z-index:10001; border: 1px solid #555; padding:1em; font-size: 90%; text-align:center; "><div style="font-weight:bold; padding-bottom:0.2em">'+_8.intextmsg+'</div><div style="padding: 0 0 1em 1em">'+t.replace(_4,'<u style="color:red">').replace(_5,"</u>")+'</div><div style="padding: 0 0 1em 0">'+_8.ifsendmsg.replace(/\n/,"<br/>")+'</div><form style="padding:0; margin:0; border:0"><div>'+_8.entercmnt+'</div><input type="text" maxlength="250" style="width:100%; margin: 0.2em 0" /><div style="text-align:right; font-family: Tahoma"><input type="submit" value="'+_8.send+'" >&nbsp;&nbsp;<input type="button" value="'+_8.cancel+'"></div></form></div>',_1b(i);var o=i.getElementsByTagName("input"),a=i.getElementsByTagName("form"),s=o[0],r=null,l=[],c=function(){d.onkeydown=r,r=null,i.parentNode.removeChild(i);for(var t=0;t<l.length;t++)l[t][0].style.visibility=l[t][1];_11=!1,_12=s.value},u=function(t){for(var e={x:0,y:0};t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop,t=t.offsetParent;return e};setTimeout(function(){var t=i.clientWidth,n=i.clientHeight,h=_29(),p=(h.w-t)/2+h.x;p<10&&(p=10);var f=(h.h-n)/2+h.y-10;if(f<10&&(f=10),i.style.left=p+"px",i.style.top=f+"px",navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1<7)for(var m=d.getElementsByTagName("SELECT"),g=0;g<m.length;g++){var v=m[g],b=u(v);b.x>p+t||b.y>f+n||b.x+v.offsetWidth<p||b.y+v.offsetHeight<f||(l[l.length]=[v,v.style.visibility],v.style.visibility="hidden")}s.value=_12,s.focus(),s.select(),r=d.onkeydown,d.onkeydown=function(t){t||(t=window.event),27==t.keyCode&&c()},a[0].onsubmit=function(){return e(s.value),c(),_12="",!1},o[2].onclick=function(){c()}},10)}};var _4e=function(t){return(""+t).replace(/[\r\n]+/g," ").replace(/^\s+|\s+$/g,"")},_50=function(){try{var t=null,e=null;e=w.getSelection?w.getSelection():d.getSelection?d.getSelection():d.selection;if(null!=e){var i="",t=null,n="",o=-1;if(e.getRangeAt){var a=e.getRangeAt(0);t=a.toString();var s=d.createRange();s.setStartBefore(a.startContainer.ownerDocument.body),s.setEnd(a.startContainer,a.startOffset),i=s.toString();var r=a.cloneRange();r.setStart(a.endContainer,a.endOffset),r.setEndAfter(a.endContainer.ownerDocument.body),n=r.toString()}else if(e.createRange){var a=e.createRange();t=a.text;var s=e.createRange();s.moveStart("character",-_6),s.moveEnd("character",-t.length),i=s.text;var r=e.createRange();r.moveEnd("character",_6),r.moveStart("character",t.length),n=r.text}else t=""+e;var l,c=(l=t.match(/^(\s*)/))&&l[0].length,u=(l=t.match(/(\s*)$/))&&l[0].length;return i+=t.substring(0,c),n=t.substring(t.length-u,t.length)+n,t=t.substring(c,t.length-u),""==t?null:{pre:i,text:t,suf:n,pos:o}}return void alert(_8.badbrowser)}catch(u){return null}},_5d=function(){if(!_2||navigator.appName.indexOf("Netscape")!=-1&&eval(navigator.appVersion.substring(0,1))<5)return void alert(_8.badbrowser);var _5e=function(t){alert("Wrong installation (code "+t+"). Please reinstall Orphus.")},_60=_15();if(!_60)return void _5e(1);if(_60.href.replace(/.*\/\/|\/.*/g,"")!=hq.replace(/.*\/\/|\/.*/g,""))return void _5e(2);for(var i=null,n=0;n<_60.childNodes.length;n++)if("IMG"==_60.childNodes[n].tagName){i=_60.childNodes[n];break}if(!i)return void _5e(3);if(!i.alt.match(/orphus/i))return void _5e(4);if(i.width<30&&i.height<10)return void _5e(5);if("none"==_60.style.display||"none"==i.style.display||"hidden"==_60.style.visibility||"hidden"==i.style.visibility)return void _5e(6);var _63=_50();if(_63){with(_63)pre=pre.substring(pre.length-_6,pre.length).replace(/^\S{1,10}\s+/,""),suf=suf.substring(0,_6).replace(/\s+\S{1,10}$/,"");var _64=_4e(_63.pre+_4+_63.text+_5+_63.suf);return _64.length>_7?void alert(_8.toobig):void _10[_9](_64,function(t){_20(d.location.href,_63,t),_18()})}},_17=function(t){var e=0,i=w.event;if(i?e=10==i.keyCode||13==i.keyCode&&i.ctrlKey:t&&(e=10==t.which&&2==t.modifiers||0==t.keyCode&&106==t.charCode&&t.ctrlKey||13==t.keyCode&&t.ctrlKey),e)return _5d(),!1};_13()}(),$("*").is(".shop-map")&&(InfoBox.prototype=new google.maps.OverlayView,InfoBox.prototype.createInfoBoxDiv_=function(){var t,e,i,n=this,o=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},a=function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),n.enableEventPropagation_||o(t)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(i=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-i.left-i.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],e=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],t=0;t<e.length;t++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,e[t],o));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(t){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",a),google.maps.event.trigger(this,"domready")}},InfoBox.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},InfoBox.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},InfoBox.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(t,"closeclick"),t.close()}},InfoBox.prototype.panBox_=function(t){var e,i,n=0,o=0;if(!t&&(e=this.getMap(),e instanceof google.maps.Map)){e.getBounds().contains(this.position_)||e.setCenter(this.position_),i=e.getBounds();var a=e.getDiv(),s=a.offsetWidth,r=a.offsetHeight,l=this.pixelOffset_.width,c=this.pixelOffset_.height,d=this.div_.offsetWidth,u=this.div_.offsetHeight,h=this.infoBoxClearance_.width,p=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);f.x<-l+h?n=f.x+l-h:f.x+d+l+h>s&&(n=f.x+d+l+h-s),this.alignBottom_?f.y<-c+p+u?o=f.y+c-p-u:f.y+c+p>r&&(o=f.y+c+p-r):f.y<-c+p?o=f.y+c-p:f.y+u+c+p>r&&(o=f.y+u+c+p-r),(0!==n||0!==o)&&(e.getCenter(),e.panBy(n,o))}},InfoBox.prototype.setBoxStyle_=function(){var t,e;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_;for(t in e)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},InfoBox.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},i=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=i.ownerDocument.defaultView.getComputedStyle(i,""),t&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0)):document.documentElement.currentStyle&&i.currentStyle&&(e.top=parseInt(i.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(i.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(i.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(i.currentStyle.borderRightWidth,10)||0),e},InfoBox.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},InfoBox.prototype.setOptions=function(t){"undefined"!=typeof t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),"undefined"!=typeof t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),"undefined"!=typeof t.content&&this.setContent(t.content),"undefined"!=typeof t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),"undefined"!=typeof t.maxWidth&&(this.maxWidth_=t.maxWidth),"undefined"!=typeof t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),"undefined"!=typeof t.alignBottom&&(this.alignBottom_=t.alignBottom),"undefined"!=typeof t.position&&this.setPosition(t.position),"undefined"!=typeof t.zIndex&&this.setZIndex(t.zIndex),"undefined"!=typeof t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),"undefined"!=typeof t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),"undefined"!=typeof t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),"undefined"!=typeof t.isHidden&&(this.isHidden_=t.isHidden),"undefined"!=typeof t.visible&&(this.isHidden_=!t.visible),"undefined"!=typeof t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},InfoBox.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},InfoBox.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},InfoBox.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},InfoBox.prototype.setVisible=function(t){this.isHidden_=!t,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},InfoBox.prototype.getContent=function(){return this.content_},InfoBox.prototype.getPosition=function(){return this.position_},InfoBox.prototype.getZIndex=function(){return this.zIndex_},InfoBox.prototype.getVisible=function(){var t;return t="undefined"!=typeof this.getMap()&&null!==this.getMap()&&!this.isHidden_},InfoBox.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},InfoBox.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},InfoBox.prototype.open=function(t,e){var i=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){i.setPosition(this.getPosition())})),this.setMap(t),this.div_&&this.panBox_()},InfoBox.prototype.close=function(){var t;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(t=0;t<this.eventListeners_.length;t++)google.maps.event.removeListener(this.eventListeners_[t]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery)}(function(t){"use strict";var e=0,i=t,n="parseJSON";"JSON"in window&&"parse"in JSON&&(i=JSON,n="parse"),t.ajaxTransport("iframe",function(i){if(i.async){var n,o,a,s=i.initialIframeSrc||"javascript:false;";return{send:function(r,l){n=t('<form style="display:none;"></form>'),n.attr("accept-charset",i.formAcceptCharset),a=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+a+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+a+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+a+"_method=PATCH",i.type="POST"),e+=1,o=t('<iframe src="'+s+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,a=t.isArray(i.paramName)?i.paramName:[i.paramName];o.unbind("load").bind("load",function(){var e;try{if(e=o.contents(),!e.length||!e[0].firstChild)throw new Error}catch(i){e=void 0}l(200,"success",{iframe:e}),t('<iframe src="'+s+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",o.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&t.each(i.formData,function(e,i){t('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(n)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(e=i.fileInput.clone(),i.fileInput.after(function(t){return e[t]}),i.paramName&&i.fileInput.each(function(e){t(this).prop("name",a[e]||i.paramName)}),n.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),n.submit(),e&&e.length&&i.fileInput.each(function(i,n){var o=t(e[i]);t(n).prop("name",o.prop("name")).attr("form",o.attr("form")),o.replaceWith(n)})}),n.append(o).appendTo(document.body)},abort:function(){o&&o.unbind("load").prop("src",s),n&&n.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&i[n](t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var i=e&&e[0];return i&&t.isXMLDoc(i)?i:t.parseXML(i.XMLDocument&&i.XMLDocument.xml||t(i.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(i,n){var o,a=this;a.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(i),appendDots:t(i),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,i){return t('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},a.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(a,a.initials),a.activeBreakpoint=null,a.animType=null,a.animProp=null,a.breakpoints=[],a.breakpointSettings=[],a.cssTransitions=!1,a.focussed=!1,a.interrupted=!1,a.hidden="hidden",a.paused=!0,a.positionProp=null,a.respondTo=null,a.rowCount=1,a.shouldClick=!0,a.$slider=t(i),a.$slidesCache=null,a.transformType=null,a.transitionType=null,a.visibilityChange="visibilitychange",a.windowWidth=0,a.windowTimer=null,o=t(i).data("slick")||{},a.options=t.extend({},a.defaults,n,o),a.currentSlide=a.options.initialSlide,a.originalSettings=a.options,void 0!==document.mozHidden?(a.hidden="mozHidden",a.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(a.hidden="webkitHidden",a.visibilityChange="webkitvisibilitychange"),a.autoPlay=t.proxy(a.autoPlay,a),a.autoPlayClear=t.proxy(a.autoPlayClear,a),a.autoPlayIterator=t.proxy(a.autoPlayIterator,a),a.changeSlide=t.proxy(a.changeSlide,a),a.clickHandler=t.proxy(a.clickHandler,a),a.selectHandler=t.proxy(a.selectHandler,a),a.setPosition=t.proxy(a.setPosition,a),a.swipeHandler=t.proxy(a.swipeHandler,a),a.dragHandler=t.proxy(a.dragHandler,a),a.keyHandler=t.proxy(a.keyHandler,a),a.instanceUid=e++,a.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,a.registerBreakpoints(),a.init(!0);
}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(i<0||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?t(e).appendTo(o.$slideTrack):n?t(e).insertBefore(o.$slides.eq(i)):t(e).insertAfter(o.$slides.eq(i)):!0===n?t(e).prependTo(o.$slideTrack):t(e).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(e,i){t(i).attr("data-slick-index",e)}),o.$slidesCache=o.$slides,o.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,i){var n={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(e=-e),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:e},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:e},o.options.speed,o.options.easing,i):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),t({animStart:o.currentLeft}).animate({animStart:e},{duration:o.options.speed,easing:o.options.easing,step:function(t){t=Math.ceil(t),!1===o.options.vertical?(n[o.animType]="translate("+t+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+t+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),e=Math.ceil(e),!1===o.options.vertical?n[o.animType]="translate3d("+e+"px, 0px, 0px)":n[o.animType]="translate3d(0px,"+e+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},e.prototype.getNavTarget=function(){var e=this,i=e.options.asNavFor;return i&&null!==i&&(i=t(i).not(e.$slider)),i},e.prototype.asNavFor=function(e){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,i,n=this;if(!0===n.options.dots){for(n.$slider.addClass("slick-dotted"),i=t("<ul />").addClass(n.options.dotsClass),e=0;e<=n.getDotCount();e+=1)i.append(t("<li />").append(n.options.customPaging.call(this,n,e)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,i,n,o,a,s,r=this;if(n=document.createDocumentFragment(),a=r.$slider.children(),r.options.rows>1){for(s=r.options.slidesPerRow*r.options.rows,o=Math.ceil(a.length/s),t=0;t<o;t++){var l=document.createElement("div");for(e=0;e<r.options.rows;e++){var c=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var d=t*s+(e*r.options.slidesPerRow+i);a.get(d)&&c.appendChild(a.get(d))}l.appendChild(c)}n.appendChild(l)}r.$slider.empty().append(n),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,i){var n,o,a,s=this,r=!1,l=s.$slider.width(),c=window.innerWidth||t(window).width();if("window"===s.respondTo?a=c:"slider"===s.respondTo?a=l:"min"===s.respondTo&&(a=Math.min(c,l)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){o=null;for(n in s.breakpoints)s.breakpoints.hasOwnProperty(n)&&(!1===s.originalSettings.mobileFirst?a<s.breakpoints[n]&&(o=s.breakpoints[n]):a>s.breakpoints[n]&&(o=s.breakpoints[n]));null!==o?null!==s.activeBreakpoint?(o!==s.activeBreakpoint||i)&&(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[o]),!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),r=o):(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[o]),!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),r=o):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e),r=o),e||!1===r||s.$slider.trigger("breakpoint",[s,r])}},e.prototype.changeSlide=function(e,i){var n,o,a,s=this,r=t(e.currentTarget);switch(r.is("a")&&e.preventDefault(),r.is("li")||(r=r.closest("li")),a=s.slideCount%s.options.slidesToScroll!=0,n=a?0:(s.slideCount-s.currentSlide)%s.options.slidesToScroll,e.data.message){case"previous":o=0===n?s.options.slidesToScroll:s.options.slidesToShow-n,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide-o,!1,i);break;case"next":o=0===n?s.options.slidesToScroll:n,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide+o,!1,i);break;case"index":var l=0===e.data.index?0:e.data.index||r.index()*s.options.slidesToScroll;s.slideHandler(s.checkNavigable(l),!1,i),r.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,i;if(e=this.getNavigableIndexes(),i=0,t>e[e.length-1])t=e[e.length-1];else for(var n in e){if(t<e[n]){t=i;break}i=e[n]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>1&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var n=t(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=n.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++n;else for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)n=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else n=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return n-1},e.prototype.getLeft=function(t){var e,i,n,o=this,a=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,a=i*o.options.slidesToShow*-1),o.slideCount%o.options.slidesToScroll!=0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,a=(o.options.slidesToShow-(t-o.slideCount))*i*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,a=o.slideCount%o.options.slidesToScroll*i*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,a=(t+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,a=0),!0===o.options.centerMode&&o.slideCount<=o.options.slidesToShow?o.slideOffset=o.slideWidth*Math.floor(o.options.slidesToShow)/2-o.slideWidth*o.slideCount/2:!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=!1===o.options.vertical?t*o.slideWidth*-1+o.slideOffset:t*i*-1+a,!0===o.options.variableWidth&&(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow),e=!0===o.options.rtl?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===o.options.centerMode&&(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1),e=!0===o.options.rtl?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,e+=(o.$list.width()-n.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){return this.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,o=[];for(!1===e.options.infinite?t=e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,t=2*e.slideCount);i<t;)o.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return o},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,i,n=this;return i=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(o,a){if(a.offsetLeft-i+t(a).outerWidth()/2>-1*n.swipeLeft)return e=a,!1}),Math.abs(t(e).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),e&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},e.prototype.initADA=function(){var e=this,i=Math.ceil(e.slideCount/e.options.slidesToShow),n=e.getNavigableIndexes().filter(function(t){return t>=0&&t<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(i){var o=n.indexOf(i);t(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+i,tabindex:-1}),-1!==o&&t(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+o})}),e.$dots.attr("role","tablist").find("li").each(function(o){var a=n[o];t(this).attr({role:"presentation"}),t(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+o,"aria-controls":"slick-slide"+e.instanceUid+a,"aria-label":o+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var o=e.currentSlide,a=o+e.options.slidesToShow;o<a;o++)e.$slides.eq(o).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(e.setPosition)},e.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),i=t(this).attr("data-lazy"),n=t(this).attr("data-srcset"),o=t(this).attr("data-sizes")||a.$slider.attr("data-sizes"),s=document.createElement("img");s.onload=function(){e.animate({opacity:0},100,function(){n&&(e.attr("srcset",n),o&&e.attr("sizes",o)),e.attr("src",i).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),a.$slider.trigger("lazyLoaded",[a,e,i])})},s.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,e,i])},s.src=i})}var i,n,o,a=this;if(!0===a.options.centerMode?!0===a.options.infinite?o=(n=a.currentSlide+(a.options.slidesToShow/2+1))+a.options.slidesToShow+2:(n=Math.max(0,a.currentSlide-(a.options.slidesToShow/2+1)),o=a.options.slidesToShow/2+1+2+a.currentSlide):(n=a.options.infinite?a.options.slidesToShow+a.currentSlide:a.currentSlide,o=Math.ceil(n+a.options.slidesToShow),!0===a.options.fade&&(n>0&&n--,o<=a.slideCount&&o++)),i=a.$slider.find(".slick-slide").slice(n,o),"anticipated"===a.options.lazyLoad)for(var s=n-1,r=o,l=a.$slider.find(".slick-slide"),c=0;c<a.options.slidesToScroll;c++)s<0&&(s=a.slideCount-1),i=(i=i.add(l.eq(s))).add(l.eq(r)),s--,r++;e(i),a.slideCount<=a.options.slidesToShow?e(a.$slider.find(".slick-slide")):a.currentSlide>=a.slideCount-a.options.slidesToShow?e(a.$slider.find(".slick-cloned").slice(0,a.options.slidesToShow)):0===a.currentSlide&&e(a.$slider.find(".slick-cloned").slice(-1*a.options.slidesToShow))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(e){var i=this;i.unslicked||(i.$slider.trigger("afterChange",[i,e]),i.animating=!1,i.slideCount>i.options.slidesToShow&&i.setPosition(),i.swipeLeft=null,i.options.autoplay&&i.autoPlay(),!0===i.options.accessibility&&(i.initADA(),i.options.autoplay||t(i.$slides.get(i.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var i,n,o,a,s,r=this,l=t("img[data-lazy]",r.$slider);l.length?(i=l.first(),n=i.attr("data-lazy"),o=i.attr("data-srcset"),a=i.attr("data-sizes")||r.$slider.attr("data-sizes"),(s=document.createElement("img")).onload=function(){o&&(i.attr("srcset",o),a&&i.attr("sizes",a)),i.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===r.options.adaptiveHeight&&r.setPosition(),r.$slider.trigger("lazyLoaded",[r,i,n]),r.progressiveLazyLoad()},s.onerror=function(){e<3?setTimeout(function(){r.progressiveLazyLoad(e+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,i,n]),r.progressiveLazyLoad())},s.src=n):r.$slider.trigger("allImagesLoaded",[r])},e.prototype.refresh=function(e){var i,n,o=this;n=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>n&&(o.currentSlide=n),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),i=o.currentSlide,o.destroy(!0),t.extend(o,o.initials,{currentSlide:i}),o.init(),e||o.changeSlide({data:{message:"index",index:i}},!1)},e.prototype.registerBreakpoints=function(){var e,i,n,o=this,a=o.options.responsive||null;if("array"===t.type(a)&&a.length){o.respondTo=o.options.respondTo||"window";for(e in a)if(n=o.breakpoints.length-1,a.hasOwnProperty(e)){for(i=a[e].breakpoint;n>=0;)o.breakpoints[n]&&o.breakpoints[n]===i&&o.breakpoints.splice(n,1),n--;o.breakpoints.push(i),o.breakpointSettings[i]=a[e].settings}o.breakpoints.sort(function(t,e){return o.options.mobileFirst?t-e:e-t})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,i){var n=this;return t="boolean"==typeof t?!0===(e=t)?0:n.slideCount-1:!0===e?--t:t,!(n.slideCount<1||t<0||t>n.slideCount-1)&&(n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit(),void 0)},e.prototype.setCSS=function(t){var e,i,n=this,o={};!0===n.options.rtl&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",o[n.positionProp]=t,!1===n.transformsEnabled?n.$slideTrack.css(o):(o={},!1===n.cssTransitions?(o[n.animType]="translate("+e+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+e+", "+i+", 0px)",n.$slideTrack.css(o)))},e.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,i=this;i.$slides.each(function(n,o){e=i.slideWidth*n*-1,!0===i.options.rtl?t(o).css({position:"relative",right:e,top:0,zIndex:i.options.zIndex-2,opacity:0}):t(o).css({position:"relative",left:e,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,i,n,o,a,s=this,r=!1;if("object"===t.type(arguments[0])?(n=arguments[0],r=arguments[1],a="multiple"):"string"===t.type(arguments[0])&&(n=arguments[0],o=arguments[1],r=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?a="responsive":void 0!==arguments[1]&&(a="single")),"single"===a)s.options[n]=o;else if("multiple"===a)t.each(n,function(t,e){s.options[t]=e});else if("responsive"===a)for(i in o)if("array"!==t.type(s.options.responsive))s.options.responsive=[o[i]];else{for(e=s.options.responsive.length-1;e>=0;)s.options.responsive[e].breakpoint===o[i].breakpoint&&s.options.responsive.splice(e,1),e--;s.options.responsive.push(o[i])}r&&(s.unload(),s.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},e.prototype.setSlideClasses=function(t){var e,i,n,o,a=this;i=a.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),a.$slides.eq(t).addClass("slick-current"),!0===a.options.centerMode?(e=Math.floor(a.options.slidesToShow/2),!0===a.options.infinite&&(t>=e&&t<=a.slideCount-1-e?a.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(n=a.options.slidesToShow+t,i.slice(n-e+1,n+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-a.options.slidesToShow).addClass("slick-center"):t===a.slideCount-1&&i.eq(a.options.slidesToShow).addClass("slick-center")),a.$slides.eq(t).addClass("slick-center")):t>=0&&t<=a.slideCount-a.options.slidesToShow?a.$slides.slice(t,t+a.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=a.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=a.slideCount%a.options.slidesToShow,n=!0===a.options.infinite?a.options.slidesToShow+t:t,a.options.slidesToShow==a.options.slidesToScroll&&a.slideCount-t<a.options.slidesToShow?i.slice(n-(a.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+a.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"!==a.options.lazyLoad&&"anticipated"!==a.options.lazyLoad||a.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,n,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,e=o.slideCount;e>o.slideCount-n;e-=1)i=e-1,t(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(e=0;e<n+o.slideCount;e+=1)i=e,t(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.interrupt=function(t){var e=this;
t||e.autoPlay(),e.interrupted=t},e.prototype.selectHandler=function(e){var i=this,n=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),o=parseInt(n.attr("data-slick-index"));o||(o=0),i.slideCount<=i.options.slidesToShow?i.slideHandler(o,!1,!0):i.slideHandler(o)},e.prototype.slideHandler=function(t,e,i){var n,o,a,s,r,l=null,c=this;if(e=e||!1,!(!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===t))if(!1===e&&c.asNavFor(t),n=t,l=c.getLeft(n),s=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?s:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(t<0||t>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i?c.animateSlide(s,function(){c.postSlide(n)}):c.postSlide(n));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(t<0||t>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i?c.animateSlide(s,function(){c.postSlide(n)}):c.postSlide(n));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),o=n<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:n-c.slideCount:n,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,o]),a=c.currentSlide,c.currentSlide=o,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(r=(r=c.getNavTarget()).slick("getSlick")).slideCount<=r.options.slidesToShow&&r.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==i?(c.fadeSlideOut(a),c.fadeSlide(o,function(){c.postSlide(o)})):c.postSlide(o),void c.animateHeight();!0!==i?c.animateSlide(l,function(){c.postSlide(o)}):c.postSlide(o)}},e.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,n,o=this;return t=o.touchObject.startX-o.touchObject.curX,e=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(e,t),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&n>=0?!1===o.options.rtl?"left":"right":n<=360&&n>=315?!1===o.options.rtl?"left":"right":n>=135&&n<=225?!1===o.options.rtl?"right":"left":!0===o.options.verticalSwiping?n>=35&&n<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(t){var e,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1,!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,n,o,a,s,r=this;return a=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!r.dragging||r.scrolling||a&&1!==a.length)&&(e=r.getLeft(r.currentSlide),r.touchObject.curX=void 0!==a?a[0].pageX:t.clientX,r.touchObject.curY=void 0!==a?a[0].pageY:t.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),s=Math.round(Math.sqrt(Math.pow(r.touchObject.curY-r.touchObject.startY,2))),!r.options.verticalSwiping&&!r.swiping&&s>4?(r.scrolling=!0,!1):(!0===r.options.verticalSwiping&&(r.touchObject.swipeLength=s),i=r.swipeDirection(),void 0!==t.originalEvent&&r.touchObject.swipeLength>4&&(r.swiping=!0,t.preventDefault()),o=(!1===r.options.rtl?1:-1)*(r.touchObject.curX>r.touchObject.startX?1:-1),!0===r.options.verticalSwiping&&(o=r.touchObject.curY>r.touchObject.startY?1:-1),n=r.touchObject.swipeLength,r.touchObject.edgeHit=!1,!1===r.options.infinite&&(0===r.currentSlide&&"right"===i||r.currentSlide>=r.getDotCount()&&"left"===i)&&(n=r.touchObject.swipeLength*r.options.edgeFriction,r.touchObject.edgeHit=!0),!1===r.options.vertical?r.swipeLeft=e+n*o:r.swipeLeft=e+n*(r.$list.height()/r.listWidth)*o,!0===r.options.verticalSwiping&&(r.swipeLeft=e+n*o),!0!==r.options.fade&&!1!==r.options.touchMove&&(!0===r.animating?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft))))},e.prototype.swipeStart=function(t){var e,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0,void 0)},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,i,n=this,o=arguments[0],a=Array.prototype.slice.call(arguments,1),s=n.length;for(t=0;t<s;t++)if("object"==typeof o||void 0===o?n[t].slick=new e(n[t],o):i=n[t].slick[o].apply(n[t].slick,a),void 0!==i)return i;return n}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(t){"use strict";function e(e){var i="dragover"===e;return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var o=n.dataTransfer;o&&t.inArray("Files",o.types)!==-1&&this._trigger(e,t.Event(e,{delegatedEvent:n}))!==!1&&(n.preventDefault(),i&&(o.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,i){return e=this.messages[e]||e.toString(),i&&t.each(i,function(t,i){e=e.replace("{"+t+"}",i)}),e},formData:function(t){return t.serializeArray()},add:function(e,i){return!e.isDefaultPrevented()&&void((i.autoUpload||i.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,i){var n=t-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(e-this.loaded)*(1e3/n)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(i=[],t.each(e.formData,function(t,e){i.push({name:t,value:e})}),i):[]},_getTotal:function(e){var i=0;return t.each(e,function(t,e){i+=e.size||1}),i},_initProgressObject:function(e){var i={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,i):e._progress=i},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,i){if(e.lengthComputable){var n,o=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&o-i._time<i.progressInterval&&e.loaded!==e.total)return;i._time=o,n=Math.floor(e.loaded/e.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=n-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(o,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=n,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(o,n,i.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),i),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var i=this,n=e.xhr?e.xhr():t.ajaxSettings.xhr();n.upload&&(t(n.upload).bind("progress",function(t){var n=t.originalEvent;t.lengthComputable=n.lengthComputable,t.loaded=n.loaded,t.total=n.total,i._onProgress(t,e)}),e.xhr=function(){return n})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var i,n=this,o=e.files[0],a=e.multipart||!t.support.xhrFileUpload,s="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),a&&!e.blob&&this._isInstanceOf("File",o)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(o.name)+'"'),a?t.support.xhrFormDataFileUpload&&(e.postMessage?(i=this._getFormData(e),e.blob?i.push({name:s,value:e.blob}):t.each(e.files,function(n,o){i.push({name:"array"===t.type(e.paramName)&&e.paramName[n]||s,value:o})})):(n._isInstanceOf("FormData",e.formData)?i=e.formData:(i=new FormData,t.each(this._getFormData(e),function(t,e){i.append(e.name,e.value)})),e.blob?i.append(s,e.blob,o.name):t.each(e.files,function(o,a){(n._isInstanceOf("File",a)||n._isInstanceOf("Blob",a))&&i.append("array"===t.type(e.paramName)&&e.paramName[o]||s,a,a.uploadName||a.name)})),e.data=i):(e.contentType=o.type||"application/octet-stream",e.data=e.blob||o),e.blob=null},_initIframeSettings:function(e){var i=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&i&&i!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var i=t(e.fileInput),n=e.paramName;return n?t.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var e=t(this),i=e.prop("name")||"files[]",o=(e.prop("files")||[1]).length;o;)n.push(i),o-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var i=t.extend({},this.options,e);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,i,n){var o=t.Deferred(),a=o.promise();return i=i||this.options.context||a,e===!0?o.resolveWith(i,n):e===!1&&o.rejectWith(i,n),a.abort=o.promise,this._enhancePromise(a)},_addConvenienceMethods:function(e,i){var n=this,o=function(e){return t.Deferred().resolveWith(n,e).promise()};i.process=function(e,a){return(e||a)&&(i._processQueue=this._processQueue=(this._processQueue||o([this])).then(function(){return i.errorThrown?t.Deferred().rejectWith(n,[i]).promise():o(arguments)}).then(e,a)),this._processQueue||o([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=n._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&n._onSend(e,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),i=e&&e.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(e,i){e.uploadedBytes=e.uploadedBytes||0;var n,o,a=this,s=e.files[0],r=s.size,l=e.uploadedBytes,c=e.maxChunkSize||r,d=this._blobSlice,u=t.Deferred(),h=u.promise();return!(!(this._isXHRUpload(e)&&d&&(l||c<r))||e.data)&&(!!i||(l>=r?(s.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",s.error])):(o=function(){var i=t.extend({},e),h=i._progress.loaded;i.blob=d.call(s,l,l+c,s.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+r,a._initXHRData(i),a._initProgressListener(i),n=(a._trigger("chunksend",null,i)!==!1&&t.ajax(i)||a._getXHRPromise(!1,i.context)).done(function(n,s,c){l=a._getUploadedBytes(c)||l+i.chunkSize,h+i.chunkSize-i._progress.loaded&&a._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),e.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=s,i.jqXHR=c,a._trigger("chunkdone",null,i),a._trigger("chunkalways",null,i),l<r?o():u.resolveWith(i.context,[n,s,c])}).fail(function(t,e,n){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,a._trigger("chunkfail",null,i),a._trigger("chunkalways",null,i),u.rejectWith(i.context,[t,e,n])})},this._enhancePromise(h),h.abort=function(){return n.abort()},o(),h)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,i,n,o){var a=o._progress.total,s=o._response;o._progress.loaded<a&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:a,total:a}),o),s.result=o.result=e,s.textStatus=o.textStatus=i,s.jqXHR=o.jqXHR=n,this._trigger("done",null,o)},_onFail:function(t,e,i,n){var o=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),o.jqXHR=n.jqXHR=t,o.textStatus=n.textStatus=e,o.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(t,e,i,n){this._trigger("always",null,n)},_onSend:function(e,i){i.submit||this._addConvenienceMethods(e,i);var n,o,a,s,r=this,l=r._getAJAXSettings(i),c=function(){return r._sending+=1,l._bitrateTimer=new r._BitrateTimer,n=n||((o||r._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&r._getXHRPromise(!1,l.context,o)||r._chunkedUpload(l)||t.ajax(l)).done(function(t,e,i){r._onDone(t,e,i,l)}).fail(function(t,e,i){r._onFail(t,e,i,l)}).always(function(t,e,i){if(r._onAlways(t,e,i,l),r._sending-=1,r._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>r._sending)for(var n=r._slots.shift();n;){if("pending"===r._getDeferredState(n)){n.resolve();break}n=r._slots.shift()}0===r._active&&r._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=t.Deferred(),this._slots.push(a),s=a.then(c)):(this._sequence=this._sequence.then(c,c),s=this._sequence),s.abort=function(){return o=[void 0,"abort","abort"],n?n.abort():(a&&a.rejectWith(l.context,o),c())},this._enhancePromise(s)):c()},_onAdd:function(e,i){var n,o,a,s,r=this,l=!0,c=t.extend({},this.options,i),d=i.files,u=d.length,h=c.limitMultiFileUploads,p=c.limitMultiFileUploadSize,f=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!u)return!1;if(p&&void 0===d[0].size&&(p=void 0),(c.singleFileUploads||h||p)&&this._isXHRUpload(c))if(c.singleFileUploads||p||!h)if(!c.singleFileUploads&&p)for(a=[],n=[],s=0;s<u;s+=1)m+=d[s].size+f,(s+1===u||m+d[s+1].size+f>p||h&&s+1-v>=h)&&(a.push(d.slice(v,s+1)),o=g.slice(v,s+1),o.length||(o=g),n.push(o),v=s+1,m=0);else n=g;else for(a=[],n=[],s=0;s<u;s+=h)a.push(d.slice(s,s+h)),o=g.slice(s,s+h),o.length||(o=g),n.push(o);else a=[d],n=[g];return i.originalFiles=d,t.each(a||d,function(o,s){var c=t.extend({},i);return c.files=a?s:[s],c.paramName=n[o],r._initResponseObject(c),r._initProgressObject(c),r._addConvenienceMethods(e,c),l=r._trigger("add",t.Event("add",{delegatedEvent:e}),c)}),l},_replaceFileInput:function(e){var i=e.fileInput,n=i.clone(!0),o=i.is(document.activeElement);e.fileInputClone=n,t("<form></form>").append(n)[0].reset(),i.after(n).detach(),o&&n.focus(),t.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===i[0]?n[0]:e}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,i){var n,o=this,a=t.Deferred(),s=[],r=function(t){t&&!t.entry&&(t.entry=e),a.resolve([t])},l=function(t){o._handleFileTreeEntries(t,i+e.name+"/").done(function(t){a.resolve(t)}).fail(r)},c=function(){n.readEntries(function(t){t.length?(s=s.concat(t),c()):l(s)},r)};return i=i||"",e.isFile?e._file?(e._file.relativePath=i,a.resolve(e._file)):e.file(function(t){t.relativePath=i,a.resolve(t)},r):e.isDirectory?(n=e.createReader(),c()):a.resolve([]),a.promise()},_handleFileTreeEntries:function(e,i){var n=this;return t.when.apply(t,t.map(e,function(t){return n._handleFileTreeEntry(t,i)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var i=e.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(t.map(i,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var i,n,o=e.prop("webkitEntries")||e.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if(i=t.makeArray(e.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&t.each(i,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(n=e.prop("value"),!n)return t.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return t.Deferred().resolve(i).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var i=this,n={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(n.fileInput).always(function(o){n.files=o,i.options.replaceFileInput&&i._replaceFileInput(n),i._trigger("change",t.Event("change",{delegatedEvent:e}),n)!==!1&&i._onAdd(e,n)})},_onPaste:function(e){var i=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(t.each(i,function(t,e){var i=e.getAsFile&&e.getAsFile();i&&n.files.push(i)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),n)!==!1&&this._onAdd(e,n))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var i=this,n=e.dataTransfer,o={};n&&n.files&&n.files.length&&(e.preventDefault(),this._getDroppedFiles(n).always(function(n){o.files=n,i._trigger("drop",t.Event("drop",{delegatedEvent:e}),o)!==!1&&i._onAdd(e,o)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,i){var n=t.inArray(e,this._specialOptions)!==-1;n&&this._destroyEventHandlers(),this._super(e,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),i=e.pop();return e.shift(),new RegExp(e.join("/"),i)},_isRegExpOption:function(e,i){return"url"!==e&&"string"===t.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var e=this,i=this.options,n=this.element.data();t.each(this.element[0].attributes,function(t,o){var a,s=o.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),a=n[s],e._isRegExpOption(s,a)&&(a=e._getRegExp(a)),i[s]=a)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var i=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,i._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var i,n,o=this,a=t.Deferred(),s=a.promise();return s.abort=function(){return n=!0,i?i.abort():(a.reject(null,"abort","abort"),s)},this._getFileInputFiles(e.fileInput).always(function(t){if(!n){if(!t.length)return void a.reject();e.files=t,i=o._onSend(null,e),i.then(function(t,e,i){a.resolve(t,e,i)},function(t,e,i){a.reject(t,e,i)})}}),this._enhancePromise(s)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),!function(t,e,i){"use strict";!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(function(n){function o(t,e){return this.$element=n(t),e&&("string"===n.type(e.delay)||"number"===n.type(e.delay))&&(e.delay={show:e.delay,hide:e.delay}),this.options=n.extend({},l,e),this._defaults=l,this._name=a,this._targetclick=!1,this.init(),d.push(this.$element),this}var a="webuiPopover",s="webui-popover",r="webui.popover",l={placement:"auto",container:null,width:"auto",height:"auto",trigger:"click",style:"",selector:!1,delay:{show:null,hide:300},async:{type:"GET",before:null,success:null,error:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",direction:"",animation:null,template:'<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""},hideEmpty:!1},c=s+"-rtl",d=[],u=n('<div class="webui-popover-backdrop"></div>'),h=0,p=!1,f=-2e3,m=n(e),g=function(t,e){return isNaN(t)?e||0:Number(t)},v=function(t){return t.data("plugin_"+a)},b=function(){for(var t=null,e=0;e<d.length;e++)t=v(d[e]),t&&t.hide(!0);m.trigger("hiddenAll."+r)},y=function(t){for(var e=null,i=0;i<d.length;i++)e=v(d[i]),e&&e.id!==t.id&&e.hide(!0);m.trigger("hiddenAll."+r)},w="ontouchstart"in e.documentElement&&/Mobi/.test(navigator.userAgent),_=function(t){var e={x:0,y:0};if("touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type){var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.x=i.pageX,e.y=i.pageY}else("mousedown"===t.type||"mouseup"===t.type||"click"===t.type)&&(e.x=t.pageX,e.y=t.pageY);return e};o.prototype={init:function(){if(this.$element[0]instanceof e.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");"manual"!==this.getTrigger()&&(w?this.$element.off("touchend",this.options.selector).on("touchend",this.options.selector,n.proxy(this.toggle,this)):"click"===this.getTrigger()?this.$element.off("click",this.options.selector).on("click",this.options.selector,n.proxy(this.toggle,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave click",this.options.selector).on("mouseenter",this.options.selector,n.proxy(this.mouseenterHandler,this)).on("mouseleave",this.options.selector,n.proxy(this.mouseleaveHandler,this))),this._poped=!1,this._inited=!0,this._opened=!1,this._idSeed=h,this.id=a+this._idSeed,this.options.container=n(this.options.container||e.body).first(),this.options.backdrop&&u.appendTo(this.options.container).hide(),h++,"sticky"===this.getTrigger()&&this.show(),this.options.selector&&(this._options=n.extend({},this.options,{selector:""}))},destroy:function(){for(var t=-1,e=0;e<d.length;e++)if(d[e]===this.$element){t=e;break}d.splice(t,1),this.hide(),this.$element.data("plugin_"+a,null),"click"===this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave"),this.$target&&this.$target.remove()},getDelegateOptions:function(){var t={};return this._options&&n.each(this._options,function(e,i){l[e]!==i&&(t[e]=i)}),t},hide:function(t,e){if((t||"sticky"!==this.getTrigger())&&this._opened){e&&(e.preventDefault(),e.stopPropagation()),this.xhr&&this.options.abortXHR===!0&&(this.xhr.abort(),this.xhr=null);var i=n.Event("hide."+r);if(this.$element.trigger(i,[this.$target]),this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var o=this;setTimeout(function(){o.$target.hide(),o.getCache()||o.$target.remove()},o.getHideDelay())}this.options.backdrop&&u.hide(),this._opened=!1,this.$element.trigger("hidden."+r,[this.$target]),this.options.onHide&&this.options.onHide(this.$target)}},resetAutoHide:function(){var t=this,e=t.getAutoHide();e&&(t.autoHideHandler&&clearTimeout(t.autoHideHandler),t.autoHideHandler=setTimeout(function(){t.hide()},e))},delegate:function(t){var e=n(t).data("plugin_"+a);return e||(e=new o(t,this.getDelegateOptions()),n(t).data("plugin_"+a,e)),e},toggle:function(t){var e=this;t&&(t.preventDefault(),t.stopPropagation(),this.options.selector&&(e=this.delegate(t.currentTarget))),e[e.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){b()},hideOthers:function(){y(this)},show:function(){if(!this._opened){var t=this.getTarget().removeClass().addClass(s).addClass(this._customTargetClass);if(this.options.multi||this.hideOthers(),!this.getCache()||!this._poped||""===this.content){if(this.content="",this.setTitle(this.getTitle()),this.options.closeable||t.find(".close").off("click").remove(),this.isAsync()?this.setContentASync(this.options.content):this.setContent(this.getContent()),this.canEmptyHide()&&""===this.content)return;t.show()}this.displayContent(),this.options.onShow&&this.options.onShow(t),this.bindBodyEvents(),this.options.backdrop&&u.show(),this._opened=!0,this.resetAutoHide()}},displayContent:function(){var t=this.getElementPosition(),e=this.getTarget().removeClass().addClass(s).addClass(this._customTargetClass),i=this.getContentElement(),o=e[0].offsetWidth,a=e[0].offsetHeight,l="bottom",d=n.Event("show."+r);if(this.canEmptyHide()){var u=i.children().html();if(null!==u&&0===u.trim().length)return}this.$element.trigger(d,[e]);var h=this.$element.data("width")||this.options.width;""===h&&(h=this._defaults.width),"auto"!==h&&e.width(h);var p=this.$element.data("height")||this.options.height;""===p&&(p=this._defaults.height),"auto"!==p&&i.height(p),this.options.style&&this.$target.addClass(s+"-"+this.options.style),"rtl"!==this.options.direction||i.hasClass(c)||i.addClass(c),this.options.arrow||e.find(".webui-arrow").remove(),e.detach().css({
top:f,left:f,display:"block"}),this.getAnimation()&&e.addClass(this.getAnimation()),e.appendTo(this.options.container),l=this.getPlacement(t),this.$element.trigger("added."+r),this.initTargetEvents(),this.options.padding||("auto"!==this.options.height&&i.css("height",i.outerHeight()),this.$target.addClass("webui-no-padding")),this.options.maxHeight&&i.css("maxHeight",this.options.maxHeight),this.options.maxWidth&&i.css("maxWidth",this.options.maxWidth),o=e[0].offsetWidth,a=e[0].offsetHeight;var m=this.getTargetPositin(t,l,o,a);if(this.$target.css(m.position).addClass(l).addClass("in"),"iframe"===this.options.type){var g=e.find("iframe"),v=e.width(),b=g.parent().height();""!==this.options.iframeOptions.width&&"auto"!==this.options.iframeOptions.width&&(v=this.options.iframeOptions.width),""!==this.options.iframeOptions.height&&"auto"!==this.options.iframeOptions.height&&(b=this.options.iframeOptions.height),g.width(v).height(b)}if(this.options.arrow||this.$target.css({margin:0}),this.options.arrow){var y=this.$target.find(".webui-arrow");y.removeAttr("style"),"left"===l||"right"===l?y.css({top:this.$target.height()/2}):("top"===l||"bottom"===l)&&y.css({left:this.$target.width()/2}),m.arrowOffset&&(-1===m.arrowOffset.left||-1===m.arrowOffset.top?y.hide():y.css(m.arrowOffset))}this._poped=!0,this.$element.trigger("shown."+r,[this.$target])},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var t=a+this._idSeed;this.$target=n(this.options.template).attr("id",t),this._customTargetClass=this.$target.attr("class")!==s?this.$target.attr("class"):null,this.getTriggerElement().attr("data-target",t)}return this.$target.data("trigger-element")||this.$target.data("trigger-element",this.getTriggerElement()),this.$target},removeTarget:function(){this.$target.remove(),this.$target=null,this.$contentElement=null},getTitleElement:function(){return this.getTarget().find("."+s+"-title")},getContentElement:function(){return this.$contentElement||(this.$contentElement=this.getTarget().find("."+s+"-content")),this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return g(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return g(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var t=this.$element.attr("data-cache");if("undefined"!=typeof t)switch(t.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var t=this.$element.attr("data-delay-show");return"undefined"!=typeof t?t:0===this.options.delay.show?0:this.options.delay.show||100},getHideDelay:function(){var t=this.$element.attr("data-delay-hide");return"undefined"!=typeof t?t:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){var t=this.$element.attr("data-animation");return t||this.options.animation},getHideAnimation:function(){var t=this.getAnimation();return t?t+"-out":"out"},setTitle:function(t){var e=this.getTitleElement();t?("rtl"!==this.options.direction||e.hasClass(c)||e.addClass(c),e.html(t)):e.remove()},hasContent:function(){return this.getContent()},canEmptyHide:function(){return this.options.hideEmpty&&"html"===this.options.type},getIframe:function(){var t=n("<iframe></iframe>").attr("src",this.getUrl()),e=this;return n.each(this._defaults.iframeOptions,function(i){"undefined"!=typeof e.options.iframeOptions[i]&&t.attr(i,e.options.iframeOptions[i])}),t},getContent:function(){if(this.getUrl())switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=n(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(t){throw new Error("Unable to get popover content. Invalid selector specified.")}}else if(!this.content){var e="";if(e=n.isFunction(this.options.content)?this.options.content.apply(this.$element[0],[this]):this.options.content,this.content=this.$element.attr("data-content")||e,!this.content){var i=this.$element.next();i&&i.hasClass(s+"-content")&&(this.content=i)}}return this.content},setContent:function(t){var e=this.getTarget(),i=this.getContentElement();"string"==typeof t?i.html(t):t instanceof n&&(i.html(""),this.options.cache?t.removeClass(s+"-content").appendTo(i):t.clone(!0,!0).removeClass(s+"-content").appendTo(i)),this.$target=e},isAsync:function(){return"async"===this.options.type},setContentASync:function(t){var e=this;this.xhr||(this.xhr=n.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),beforeSend:function(t,i){e.options.async.before&&e.options.async.before(e,t,i)},success:function(i){e.bindBodyEvents(),t&&n.isFunction(t)?e.content=t.apply(e.$element[0],[i]):e.content=i,e.setContent(e.content);var o=e.getContentElement();o.removeAttr("style"),e.displayContent(),e.options.async.success&&e.options.async.success(e,i)},complete:function(){e.xhr=null},error:function(t,i){e.options.async.error&&e.options.async.error(e,t,i)}}))},bindBodyEvents:function(){p||(this.options.dismissible&&"click"===this.getTrigger()?w?m.off("touchstart.webui-popover").on("touchstart.webui-popover",n.proxy(this.bodyTouchStartHandler,this)):(m.off("keyup.webui-popover").on("keyup.webui-popover",n.proxy(this.escapeHandler,this)),m.off("click.webui-popover").on("click.webui-popover",n.proxy(this.bodyClickHandler,this))):"hover"===this.getTrigger()&&m.off("touchend.webui-popover").on("touchend.webui-popover",n.proxy(this.bodyClickHandler,this)))},mouseenterHandler:function(t){var e=this;t&&this.options.selector&&(e=this.delegate(t.currentTarget)),e._timeout&&clearTimeout(e._timeout),e._enterTimeout=setTimeout(function(){e.getTarget().is(":visible")||e.show()},this.getDelayShow())},mouseleaveHandler:function(){var t=this;clearTimeout(t._enterTimeout),t._timeout=setTimeout(function(){t.hide()},this.getHideDelay())},escapeHandler:function(t){27===t.keyCode&&this.hideAll()},bodyTouchStartHandler:function(t){var e=this,i=n(t.currentTarget);i.on("touchend",function(t){e.bodyClickHandler(t),i.off("touchend")}),i.on("touchmove",function(){i.off("touchend")})},bodyClickHandler:function(t){p=!0;for(var e=!0,i=0;i<d.length;i++){var n=v(d[i]);if(n&&n._opened){var o=n.getTarget().offset(),a=o.left,s=o.top,r=o.left+n.getTarget().width(),l=o.top+n.getTarget().height(),c=_(t),u=c.x>=a&&c.x<=r&&c.y>=s&&c.y<=l;if(u){e=!1;break}}}e&&b()},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",n.proxy(this.mouseenterHandler,this)).on("mouseleave",n.proxy(this.mouseleaveHandler,this)),this.$target.find(".close").off("click").on("click",n.proxy(this.hide,this,!0))},getPlacement:function(t){var e,i=this.options.container,n=i.innerWidth(),o=i.innerHeight(),a=i.scrollTop(),s=i.scrollLeft(),r=Math.max(0,t.left-s),l=Math.max(0,t.top-a);e="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement;var c="horizontal"===e,d="vertical"===e,u="auto"===e||c||d;return u?e=n/3>r?o/3>l?c?"right-bottom":"bottom-right":2*o/3>l?d?o/2>=l?"bottom-right":"top-right":"right":c?"right-top":"top-right":2*n/3>r?o/3>l?c?n/2>=r?"right-bottom":"left-bottom":"bottom":2*o/3>l?c?n/2>=r?"right":"left":o/2>=l?"bottom":"top":c?n/2>=r?"right-top":"left-top":"top":o/3>l?c?"left-bottom":"bottom-left":2*o/3>l?d?o/2>=l?"bottom-left":"top-left":"left":c?"left-top":"top-left":"auto-top"===e?e=n/3>r?"top-right":2*n/3>r?"top":"top-left":"auto-bottom"===e?e=n/3>r?"bottom-right":2*n/3>r?"bottom":"bottom-left":"auto-left"===e?e=o/3>l?"left-top":2*o/3>l?"left":"left-bottom":"auto-right"===e&&(e=o/3>l?"right-bottom":2*o/3>l?"right":"right-top"),e},getElementPosition:function(){var t=this.$element[0].getBoundingClientRect(),i=this.options.container,o=i.css("position");if(i.is(e.body)||"static"===o)return n.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth||t.width,height:this.$element[0].offsetHeight||t.height});if("fixed"===o){var a=i[0].getBoundingClientRect();return{top:t.top-a.top+i.scrollTop(),left:t.left-a.left+i.scrollLeft(),width:t.width,height:t.height}}return"relative"===o?{top:this.$element.offset().top-i.offset().top,left:this.$element.offset().left-i.offset().left,width:this.$element[0].offsetWidth||t.width,height:this.$element[0].offsetHeight||t.height}:void 0},getTargetPositin:function(t,i,n,o){var a=t,s=this.options.container,r=this.$element.outerWidth(),l=this.$element.outerHeight(),c=e.documentElement.scrollTop+s.scrollTop(),d=e.documentElement.scrollLeft+s.scrollLeft(),u={},h=null,p=this.options.arrow?20:0,m=10,g=p+m>r?p:0,v=p+m>l?p:0,b=0,y=e.documentElement.clientHeight+c,w=e.documentElement.clientWidth+d,_=a.left+a.width/2-g>0,x=a.left+a.width/2+g<w,k=a.top+a.height/2-v>0,C=a.top+a.height/2+v<y;switch(i){case"bottom":u={top:a.top+a.height,left:a.left+a.width/2-n/2};break;case"top":u={top:a.top-o,left:a.left+a.width/2-n/2};break;case"left":u={top:a.top+a.height/2-o/2,left:a.left-n};break;case"right":u={top:a.top+a.height/2-o/2,left:a.left+a.width};break;case"top-right":u={top:a.top-o,left:_?a.left-g:m},h={left:_?Math.min(r,n)/2+g:f};break;case"top-left":b=x?g:-m,u={top:a.top-o,left:a.left-n+a.width+b},h={left:x?n-Math.min(r,n)/2-g:f};break;case"bottom-right":u={top:a.top+a.height,left:_?a.left-g:m},h={left:_?Math.min(r,n)/2+g:f};break;case"bottom-left":b=x?g:-m,u={top:a.top+a.height,left:a.left-n+a.width+b},h={left:x?n-Math.min(r,n)/2-g:f};break;case"right-top":b=C?v:-m,u={top:a.top-o+a.height+b,left:a.left+a.width},h={top:C?o-Math.min(l,o)/2-v:f};break;case"right-bottom":u={top:k?a.top-v:m,left:a.left+a.width},h={top:k?Math.min(l,o)/2+v:f};break;case"left-top":b=C?v:-m,u={top:a.top-o+a.height+b,left:a.left-n},h={top:C?o-Math.min(l,o)/2-v:f};break;case"left-bottom":u={top:k?a.top-v:m,left:a.left-n},h={top:k?Math.min(l,o)/2+v:f}}return u.top+=this.getOffsetTop(),u.left+=this.getOffsetLeft(),{position:u,arrowOffset:h}}},n.fn[a]=function(t,e){var i=[],s=this.each(function(){var s=n.data(this,"plugin_"+a);s?"destroy"===t?s.destroy():"string"==typeof t&&i.push(s[t]()):(t?"string"==typeof t?"destroy"!==t&&(e||(s=new o(this,null),i.push(s[t]()))):"object"==typeof t&&(s=new o(this,t)):s=new o(this,null),n.data(this,"plugin_"+a,s))});return i.length?i:s};var x=function(){var t=function(){b()},e=function(t,e){e=e||{},n(t).webuiPopover(e)},o=function(t){var e=!0;return n(t).each(function(t,o){e=e&&n(o).data("plugin_"+a)!==i}),e},s=function(t,e){e?n(t).webuiPopover(e).webuiPopover("show"):n(t).webuiPopover("show")},r=function(t){n(t).webuiPopover("hide")},c=function(t){l=n.extend({},l,t)},d=function(t,e){var i=n(t).data("plugin_"+a);if(i){var o=i.getCache();i.options.cache=!1,i.options.content=e,i._opened?(i._opened=!1,i.show()):i.isAsync()?i.setContentASync(e):i.setContent(e),i.options.cache=o}},u=function(t,e){var i=n(t).data("plugin_"+a);if(i){var o=i.getCache(),s=i.options.type;i.options.cache=!1,i.options.url=e,i._opened?(i._opened=!1,i.show()):(i.options.type="async",i.setContentASync(i.content)),i.options.cache=o,i.options.type=s}};return{show:s,hide:r,create:e,isCreated:o,hideAll:t,updateContent:d,updateContentAsync:u,setDefaultOptions:c}}();t.WebuiPopovers=x})}(window,document),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(t,e,i){var n;return function(){var o=this,a=arguments,s=function(){n=null,i||t.apply(o,a)},r=i&&!n;clearTimeout(n),n=setTimeout(s,e),r&&t.apply(o,a)}}function i(t){var e=++c;return String(null==t?"rmjs-":t)+e}function n(t){var e=t.clone().css({height:"auto",width:t.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(t),i=e.outerHeight(),n=parseInt(e.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),o=t.data("defaultHeight");e.remove();var a=n||t.data("collapsedHeight")||o;t.data({expandedHeight:i,maxHeight:n,collapsedHeight:a}).css({maxHeight:"none"})}function o(t){if(!l[t.selector]){var e=" ";t.embedCSS&&""!==t.blockCSS&&(e+=t.selector+" + [data-readmore-toggle], "+t.selector+"[data-readmore]{"+t.blockCSS+"}"),e+=t.selector+"[data-readmore]{transition: height "+t.speed+"ms;overflow: hidden;}",function(t,e){var i=t.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),t.getElementsByTagName("head")[0].appendChild(i)}(document,e),l[t.selector]=!0}}function a(e,i){this.element=e,this.options=t.extend({},r,i),o(this.options),this._defaults=r,this._name=s,this.init(),window.addEventListener?(window.addEventListener("load",d),window.addEventListener("resize",d)):(window.attachEvent("load",d),window.attachEvent("resize",d))}var s="readmore",r={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},l={},c=0,d=e(function(){t("[data-readmore]").each(function(){var e=t(this),i="true"===e.attr("aria-expanded");n(e),e.css({height:e.data(i?"expandedHeight":"collapsedHeight")})})},100);a.prototype={init:function(){var e=t(this.element);e.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),n(e);var o=e.data("collapsedHeight"),a=e.data("heightMargin");if(e.outerHeight(!0)<=o+a)return!0;var s=e.attr("id")||i(),r=this.options.startOpen?this.options.lessLink:this.options.moreLink;e.attr({"data-readmore":"","aria-expanded":this.options.startOpen,id:s}),e.after(t(r).on("click",function(t){return function(i){t.toggle(this,e[0],i)}}(this)).attr({"data-readmore-toggle":"","aria-controls":s})),this.options.startOpen||e.css({height:o})},toggle:function(e,i,n){n&&n.preventDefault(),e||(e=t('[aria-controls="'+_this.element.id+'"]')[0]),i||(i=_this.element);var o=t(i),a="",s="",r=!1,l=o.data("collapsedHeight");o.height()<=l?(a=o.data("expandedHeight")+"px",s="lessLink",r=!0):(a=l,s="moreLink"),this.options.beforeToggle(e,o,!r),o.css({height:a}),o.on("transitionend",function(i){return function(){i.options.afterToggle(e,o,r),t(this).attr({"aria-expanded":r}).off("transitionend")}}(this)),t(e).replaceWith(t(this.options[s]).on("click",function(t){return function(e){t.toggle(this,i,e)}}(this)).attr({"data-readmore-toggle":"","aria-controls":o.attr("id")}))},destroy:function(){t(this.element).each(function(){var e=t(this);e.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),e.removeData()})}},t.fn.readmore=function(e){var i=arguments,n=this.selector;return e=e||{},"object"==typeof e?this.each(function(){if(t.data(this,"plugin_"+s)){var i=t.data(this,"plugin_"+s);i.destroy.apply(i)}e.selector=n,t.data(this,"plugin_"+s,new a(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var n=t.data(this,"plugin_"+s);n instanceof a&&"function"==typeof n[e]&&n[e].apply(n,Array.prototype.slice.call(i,1))}):void 0}}),!function(){"use strict";function t(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,n),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var n in i)e.push(i[n]);for(var o=0,a=e.length;a>o;o++)e[o][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,a=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete n[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,o.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,o.requestAnimationFrame(t))})},e.prototype.handleResize=function(){o.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var n=e[i],o=n.newScroll>n.oldScroll,a=o?n.forward:n.backward;for(var s in this.waypoints[i]){var r=this.waypoints[i][s],l=n.oldScroll<r.triggerPoint,c=n.newScroll>=r.triggerPoint,d=l&&c,u=!l&&!c;(d||u)&&(r.queueTrigger(a),t[r.group.id]=r.group)}}for(var h in t)t[h].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,o=t.length;o>n;n++)t[n].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),n={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var a in t){var s=t[a];for(var r in this.waypoints[a]){var l,c,d,u,h,p=this.waypoints[a][r],f=p.options.offset,m=p.triggerPoint,g=0,v=null==m;p.element!==p.element.window&&(g=p.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(p):"string"==typeof f&&(f=parseFloat(f),p.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,p.triggerPoint=g+l-f,c=m<s.oldScroll,d=p.triggerPoint>=s.oldScroll,u=c&&d,h=!c&&!d,!v&&u?(p.queueTrigger(s.backward),n[p.group.id]=p.group):!v&&h?(p.queueTrigger(s.forward),n[p.group.id]=p.group):v&&s.oldScroll>=p.triggerPoint&&(p.queueTrigger(s.forward),n[p.group.id]=p.group)}}return o.requestAnimationFrame(function(){for(var t in n)n[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in n)n[t].refresh()},e.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){a&&a(),e.refreshAll()},o.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},o.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o="up"===i||"left"===i;n.sort(o?e:t);for(var a=0,s=n.length;s>a;a+=1){var r=n[a];(r.options.continuous||a===n.length-1)&&r.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints),n=i===this.waypoints.length-1;return n?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=o.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return n[t.axis][t.name]||new i(t)},o.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,n){t[n]=e[n]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],n=arguments[0];return t.isFunction(arguments[0])&&(n=t.extend({},arguments[1]),n.handler=arguments[0]),this.each(function(){var o=t.extend({},n,{element:this});"string"==typeof o.context&&(o.context=t(this).closest(o.context)[0]),i.push(new e(o))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ScrollMagic=e()}(this,function(){"use strict";var t=function(){};t.version="2.0.5",window.addEventListener("mousewheel",function(){});var e="data-scrollmagic-pin-spacer";t.Controller=function(n){var a,s,r="ScrollMagic.Controller",l="FORWARD",c="REVERSE",d="PAUSED",u=i.defaults,h=this,p=o.extend({},u,n),f=[],m=!1,g=0,v=d,b=!0,y=0,w=!0,_=function(){for(var t in p)u.hasOwnProperty(t)||delete p[t];if(p.container=o.get.elements(p.container)[0],!p.container)throw r+" init failed.";b=p.container===window||p.container===document.body||!document.body.contains(p.container),b&&(p.container=window),y=C(),p.container.addEventListener("resize",T),p.container.addEventListener("scroll",T),p.refreshInterval=parseInt(p.refreshInterval)||u.refreshInterval,x()},x=function(){p.refreshInterval>0&&(s=window.setTimeout(I,p.refreshInterval))},k=function(){return p.vertical?o.get.scrollTop(p.container):o.get.scrollLeft(p.container)},C=function(){return p.vertical?o.get.height(p.container):o.get.width(p.container)},A=this._setScrollPos=function(t){p.vertical?b?window.scrollTo(o.get.scrollLeft(),t):p.container.scrollTop=t:b?window.scrollTo(t,o.get.scrollTop()):p.container.scrollLeft=t},$=function(){if(w&&m){var t=o.type.Array(m)?m:f.slice(0);m=!1;var e=g;g=h.scrollPos();var i=g-e;0!==i&&(v=i>0?l:c),v===c&&t.reverse(),t.forEach(function(t){t.update(!0)})}},S=function(){a=o.rAF($)},T=function(t){"resize"==t.type&&(y=C(),v=d),m!==!0&&(m=!0,S())},I=function(){if(!b&&y!=C()){var t;try{t=new Event("resize",{bubbles:!1,cancelable:!1})}catch(e){t=document.createEvent("Event"),t.initEvent("resize",!1,!1)}p.container.dispatchEvent(t)}f.forEach(function(t){t.refresh()}),x()};this._options=p;var P=function(t){if(t.length<=1)return t;var e=t.slice(0);return e.sort(function(t,e){return t.scrollOffset()>e.scrollOffset()?1:-1}),e};return this.addScene=function(e){if(o.type.Array(e))e.forEach(function(t){h.addScene(t)});else if(e instanceof t.Scene)if(e.controller()!==h)e.addTo(h);else if(f.indexOf(e)<0){f.push(e),f=P(f),e.on("shift.controller_sort",function(){f=P(f)});for(var i in p.globalSceneOptions)e[i]&&e[i].call(e,p.globalSceneOptions[i])}return h},this.removeScene=function(t){if(o.type.Array(t))t.forEach(function(t){h.removeScene(t)});else{var e=f.indexOf(t);e>-1&&(t.off("shift.controller_sort"),f.splice(e,1),t.remove())}return h},this.updateScene=function(e,i){return o.type.Array(e)?e.forEach(function(t){h.updateScene(t,i)}):i?e.update(!0):m!==!0&&e instanceof t.Scene&&(m=m||[],-1==m.indexOf(e)&&m.push(e),m=P(m),S()),h},this.update=function(t){return T({type:"resize"}),t&&$(),h},this.scrollTo=function(i,n){if(o.type.Number(i))A.call(p.container,i,n);else if(i instanceof t.Scene)i.controller()===h&&h.scrollTo(i.scrollOffset(),n);else if(o.type.Function(i))A=i;else{var a=o.get.elements(i)[0];if(a){for(;a.parentNode.hasAttribute(e);)a=a.parentNode;var s=p.vertical?"top":"left",r=o.get.offset(p.container),l=o.get.offset(a);b||(r[s]-=h.scrollPos()),h.scrollTo(l[s]-r[s],n)}}return h},this.scrollPos=function(t){return arguments.length?(o.type.Function(t)&&(k=t),h):k.call(h)},this.info=function(t){var e={size:y,vertical:p.vertical,scrollPos:g,scrollDirection:v,container:p.container,isDocument:b};return arguments.length?void 0!==e[t]?e[t]:void 0:e},this.loglevel=function(){return h},this.enabled=function(t){return arguments.length?(w!=t&&(w=!!t,h.updateScene(f,!0)),h):w},this.destroy=function(t){window.clearTimeout(s);for(var e=f.length;e--;)f[e].destroy(t);return p.container.removeEventListener("resize",T),p.container.removeEventListener("scroll",T),o.cAF(a),null},_(),h};var i={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};t.Controller.addOption=function(t,e){i.defaults[t]=e},t.Controller.extend=function(e){var i=this;t.Controller=function(){return i.apply(this,arguments),this.$super=o.extend({},this),e.apply(this,arguments)||this},o.extend(t.Controller,i),t.Controller.prototype=i.prototype,t.Controller.prototype.constructor=t.Controller},t.Scene=function(i){var a,s,r="BEFORE",l="DURING",c="AFTER",d=n.defaults,u=this,h=o.extend({},d,i),p=r,f=0,m={start:0,end:0},g=0,v=!0,b=function(){for(var t in h)d.hasOwnProperty(t)||delete h[t];for(var e in d)S(e);A()},y={};this.on=function(t,e){return o.type.Function(e)&&(t=t.trim().split(" "),t.forEach(function(t){var i=t.split("."),n=i[0],o=i[1];"*"!=n&&(y[n]||(y[n]=[]),y[n].push({namespace:o||"",callback:e}))})),u},this.off=function(t,e){return t?(t=t.trim().split(" "),t.forEach(function(t){var i=t.split("."),n=i[0],o=i[1]||"",a="*"===n?Object.keys(y):[n];a.forEach(function(t){for(var i=y[t]||[],n=i.length;n--;){var a=i[n];!a||o!==a.namespace&&"*"!==o||e&&e!=a.callback||i.splice(n,1)}i.length||delete y[t]})}),u):u},this.trigger=function(e,i){if(e){var n=e.trim().split("."),o=n[0],a=n[1],s=y[o];s&&s.forEach(function(e){a&&a!==e.namespace||e.callback.call(u,new t.Event(o,e.namespace,u,i))})}return u},u.on("change.internal",function(t){"loglevel"!==t.what&&"tweenChanges"!==t.what&&("triggerElement"===t.what?x():"reverse"===t.what&&u.update())}).on("shift.internal",function(){w(),u.update()}),this.addTo=function(e){return e instanceof t.Controller&&s!=e&&(s&&s.removeScene(u),s=e,A(),_(!0),x(!0),w(),s.info("container").addEventListener("resize",k),e.addScene(u),u.trigger("add",{controller:s}),u.update()),u},this.enabled=function(t){return arguments.length?(v!=t&&(v=!!t,u.update(!0)),u):v},this.remove=function(){if(s){s.info("container").removeEventListener("resize",k);var t=s;s=void 0,t.removeScene(u),u.trigger("remove")}return u},this.destroy=function(t){return u.trigger("destroy",{reset:t}),u.remove(),u.off("*.*"),null},this.update=function(t){if(s)if(t)if(s.enabled()&&v){var e,i=s.info("scrollPos");e=h.duration>0?(i-m.start)/(m.end-m.start):i>=m.start?1:0,u.trigger("update",{startPos:m.start,endPos:m.end,scrollPos:i}),u.progress(e)}else T&&p===l&&P(!0);else s.updateScene(u,!1);return u},this.refresh=function(){return _(),x(),u},this.progress=function(t){if(arguments.length){var e=!1,i=p,n=s?s.info("scrollDirection"):"PAUSED",o=h.reverse||t>=f;if(0===h.duration?(e=f!=t,f=1>t&&o?0:1,p=0===f?r:l):0>t&&p!==r&&o?(f=0,p=r,e=!0):t>=0&&1>t&&o?(f=t,p=l,e=!0):t>=1&&p!==c?(f=1,p=c,e=!0):p!==l||o||P(),e){var a={progress:f,state:p,scrollDirection:n},d=p!=i,m=function(t){u.trigger(t,a)};d&&i!==l&&(m("enter"),m(i===r?"start":"end")),m("progress"),d&&p!==l&&(m(p===r?"start":"end"),m("leave"))}return u}return f};var w=function(){m={start:g+h.offset},s&&h.triggerElement&&(m.start-=s.info("size")*h.triggerHook),m.end=m.start+h.duration},_=function(t){if(a){var e="duration";$(e,a.call(u))&&!t&&(u.trigger("change",{what:e,newval:h[e]}),u.trigger("shift",{reason:e}))}},x=function(t){var i=0,n=h.triggerElement;if(s&&n){for(var a=s.info(),r=o.get.offset(a.container),l=a.vertical?"top":"left";n.parentNode.hasAttribute(e);)n=n.parentNode;var c=o.get.offset(n);a.isDocument||(r[l]-=s.scrollPos()),i=c[l]-r[l]}var d=i!=g;g=i,d&&!t&&u.trigger("shift",{reason:"triggerElementPosition"})},k=function(){h.triggerHook>0&&u.trigger("shift",{reason:"containerResize"})},C=o.extend(n.validate,{duration:function(t){if(o.type.String(t)&&t.match(/^(\.|\d)*\d+%$/)){var e=parseFloat(t)/100;t=function(){return s?s.info("size")*e:0}}if(o.type.Function(t)){a=t;try{t=parseFloat(a())}catch(i){t=-1}}if(t=parseFloat(t),!o.type.Number(t)||0>t)throw a?(a=void 0,0):0;return t}}),A=function(t){t=arguments.length?[t]:Object.keys(C),t.forEach(function(t){var e;if(C[t])try{e=C[t](h[t])}catch(i){e=d[t]}finally{h[t]=e}})},$=function(t,e){var i=!1,n=h[t];return h[t]!=e&&(h[t]=e,A(t),i=n!=h[t]),i},S=function(t){u[t]||(u[t]=function(e){return arguments.length?("duration"===t&&(a=void 0),$(t,e)&&(u.trigger("change",{
what:t,newval:h[t]}),n.shifts.indexOf(t)>-1&&u.trigger("shift",{reason:t})),u):h[t]})};this.controller=function(){return s},this.state=function(){return p},this.scrollOffset=function(){return m.start},this.triggerPosition=function(){var t=h.offset;return s&&(t+=h.triggerElement?g:s.info("size")*u.triggerHook()),t};var T,I;u.on("shift.internal",function(t){var e="duration"===t.reason;(p===c&&e||p===l&&0===h.duration)&&P(),e&&D()}).on("progress.internal",function(){P()}).on("add.internal",function(){D()}).on("destroy.internal",function(t){u.removePin(t.reset)});var P=function(t){if(T&&s){var e=s.info(),i=I.spacer.firstChild;if(t||p!==l){var n={position:I.inFlow?"relative":"absolute",top:0,left:0},a=o.css(i,"position")!=n.position;I.pushFollowers?h.duration>0&&(p===c&&0===parseFloat(o.css(I.spacer,"padding-top"))?a=!0:p===r&&0===parseFloat(o.css(I.spacer,"padding-bottom"))&&(a=!0)):n[e.vertical?"top":"left"]=h.duration*f,o.css(i,n),a&&D()}else{"fixed"!=o.css(i,"position")&&(o.css(i,{position:"fixed"}),D());var d=o.get.offset(I.spacer,!0),u=h.reverse||0===h.duration?e.scrollPos-m.start:Math.round(f*h.duration*10)/10;d[e.vertical?"top":"left"]+=u,o.css(I.spacer.firstChild,{top:d.top,left:d.left})}}},D=function(){if(T&&s&&I.inFlow){var t=p===l,e=s.info("vertical"),i=I.spacer.firstChild,n=o.isMarginCollapseType(o.css(I.spacer,"display")),a={};I.relSize.width||I.relSize.autoFullWidth?t?o.css(T,{width:o.get.width(I.spacer)}):o.css(T,{width:"100%"}):(a["min-width"]=o.get.width(e?T:i,!0,!0),a.width=t?a["min-width"]:"auto"),I.relSize.height?t?o.css(T,{height:o.get.height(I.spacer)-(I.pushFollowers?h.duration:0)}):o.css(T,{height:"100%"}):(a["min-height"]=o.get.height(e?i:T,!0,!n),a.height=t?a["min-height"]:"auto"),I.pushFollowers&&(a["padding"+(e?"Top":"Left")]=h.duration*f,a["padding"+(e?"Bottom":"Right")]=h.duration*(1-f)),o.css(I.spacer,a)}},j=function(){s&&T&&p===l&&!s.info("isDocument")&&P()},M=function(){s&&T&&p===l&&((I.relSize.width||I.relSize.autoFullWidth)&&o.get.width(window)!=o.get.width(I.spacer.parentNode)||I.relSize.height&&o.get.height(window)!=o.get.height(I.spacer.parentNode))&&D()},E=function(t){s&&T&&p===l&&!s.info("isDocument")&&(t.preventDefault(),s._setScrollPos(s.info("scrollPos")-((t.wheelDelta||t[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-t.detail)))};this.setPin=function(t,i){var n={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"};if(i=o.extend({},n,i),t=o.get.elements(t)[0],!t)return u;if("fixed"===o.css(t,"position"))return u;if(T){if(T===t)return u;u.removePin()}T=t;var a=T.parentNode.style.display,s=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];T.parentNode.style.display="none";var r="absolute"!=o.css(T,"position"),l=o.css(T,s.concat(["display"])),c=o.css(T,["width","height"]);T.parentNode.style.display=a,!r&&i.pushFollowers&&(i.pushFollowers=!1);var d=T.parentNode.insertBefore(document.createElement("div"),T),h=o.extend(l,{position:r?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(r||o.extend(h,o.css(T,["width","height"])),o.css(d,h),d.setAttribute(e,""),o.addClass(d,i.spacerClass),I={spacer:d,relSize:{width:"%"===c.width.slice(-1),height:"%"===c.height.slice(-1),autoFullWidth:"auto"===c.width&&r&&o.isMarginCollapseType(l.display)},pushFollowers:i.pushFollowers,inFlow:r},!T.___origStyle){T.___origStyle={};var p=T.style,f=s.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]);f.forEach(function(t){T.___origStyle[t]=p[t]||""})}return I.relSize.width&&o.css(d,{width:c.width}),I.relSize.height&&o.css(d,{height:c.height}),d.appendChild(T),o.css(T,{position:r?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(I.relSize.width||I.relSize.autoFullWidth)&&o.css(T,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",j),window.addEventListener("resize",j),window.addEventListener("resize",M),T.addEventListener("mousewheel",E),T.addEventListener("DOMMouseScroll",E),P(),u},this.removePin=function(t){if(T){if(p===l&&P(!0),t||!s){var i=I.spacer.firstChild;if(i.hasAttribute(e)){var n=I.spacer.style,a=["margin","marginLeft","marginRight","marginTop","marginBottom"];margins={},a.forEach(function(t){margins[t]=n[t]||""}),o.css(i,margins)}I.spacer.parentNode.insertBefore(i,I.spacer),I.spacer.parentNode.removeChild(I.spacer),T.parentNode.hasAttribute(e)||(o.css(T,T.___origStyle),delete T.___origStyle)}window.removeEventListener("scroll",j),window.removeEventListener("resize",j),window.removeEventListener("resize",M),T.removeEventListener("mousewheel",E),T.removeEventListener("DOMMouseScroll",E),T=void 0}return u};var O,L=[];return u.on("destroy.internal",function(t){u.removeClassToggle(t.reset)}),this.setClassToggle=function(t,e){var i=o.get.elements(t);return 0!==i.length&&o.type.String(e)?(L.length>0&&u.removeClassToggle(),O=e,L=i,u.on("enter.internal_class leave.internal_class",function(t){var e="enter"===t.type?o.addClass:o.removeClass;L.forEach(function(t){e(t,O)})}),u):u},this.removeClassToggle=function(t){return t&&L.forEach(function(t){o.removeClass(t,O)}),u.off("start.internal_class end.internal_class"),O=void 0,L=[],u},b(),u};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(t){if(t=parseFloat(t),!o.type.Number(t))throw 0;return t},triggerElement:function(t){if(t=t||void 0){var e=o.get.elements(t)[0];if(!e)throw 0;t=e}return t},triggerHook:function(t){var e={onCenter:.5,onEnter:1,onLeave:0};if(o.type.Number(t))t=Math.max(0,Math.min(parseFloat(t),1));else{if(!(t in e))throw 0;t=e[t]}return t},reverse:function(t){return!!t}},shifts:["duration","offset","triggerHook"]};t.Scene.addOption=function(t,e,i,o){t in n.defaults||(n.defaults[t]=e,n.validate[t]=i,o&&n.shifts.push(t))},t.Scene.extend=function(e){var i=this;t.Scene=function(){return i.apply(this,arguments),this.$super=o.extend({},this),e.apply(this,arguments)||this},o.extend(t.Scene,i),t.Scene.prototype=i.prototype,t.Scene.prototype.constructor=t.Scene},t.Event=function(t,e,i,n){n=n||{};for(var o in n)this[o]=n[o];return this.type=t,this.target=this.currentTarget=i,this.namespace=e||"",this.timeStamp=this.timestamp=Date.now(),this};var o=t._util=function(t){var e,i={},n=function(t){return parseFloat(t)||0},o=function(e){return e.currentStyle?e.currentStyle:t.getComputedStyle(e)},a=function(e,i,a,s){if(i=i===document?t:i,i===t)s=!1;else if(!u.DomElement(i))return 0;e=e.charAt(0).toUpperCase()+e.substr(1).toLowerCase();var r=(a?i["offset"+e]||i["outer"+e]:i["client"+e]||i["inner"+e])||0;if(a&&s){var l=o(i);r+="Height"===e?n(l.marginTop)+n(l.marginBottom):n(l.marginLeft)+n(l.marginRight)}return r},s=function(t){return t.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})};i.extend=function(t){for(t=t||{},e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t},i.isMarginCollapseType=function(t){return["block","flex","list-item","table","-webkit-box"].indexOf(t)>-1};var r=0,l=["ms","moz","webkit","o"],c=t.requestAnimationFrame,d=t.cancelAnimationFrame;for(e=0;!c&&e<l.length;++e)c=t[l[e]+"RequestAnimationFrame"],d=t[l[e]+"CancelAnimationFrame"]||t[l[e]+"CancelRequestAnimationFrame"];c||(c=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-r)),o=t.setTimeout(function(){e(i+n)},n);return r=i+n,o}),d||(d=function(e){t.clearTimeout(e)}),i.rAF=c.bind(t),i.cAF=d.bind(t);var u=i.type=function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};u.String=function(t){return"string"===u(t)},u.Function=function(t){return"function"===u(t)},u.Array=function(t){return Array.isArray(t)},u.Number=function(t){return!u.Array(t)&&t-parseFloat(t)+1>=0},u.DomElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName};var h=i.get={};return h.elements=function(e){var i=[];if(u.String(e))try{e=document.querySelectorAll(e)}catch(n){return i}if("nodelist"===u(e)||u.Array(e))for(var o=0,a=i.length=e.length;a>o;o++){var s=e[o];i[o]=u.DomElement(s)?s:h.elements(s)}else(u.DomElement(e)||e===document||e===t)&&(i=[e]);return i},h.scrollTop=function(e){return e&&"number"==typeof e.scrollTop?e.scrollTop:t.pageYOffset||0},h.scrollLeft=function(e){return e&&"number"==typeof e.scrollLeft?e.scrollLeft:t.pageXOffset||0},h.width=function(t,e,i){return a("width",t,e,i)},h.height=function(t,e,i){return a("height",t,e,i)},h.offset=function(t,e){var i={top:0,left:0};if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect();i.top=n.top,i.left=n.left,e||(i.top+=h.scrollTop(),i.left+=h.scrollLeft())}return i},i.addClass=function(t,e){e&&(t.classList?t.classList.add(e):t.className+=" "+e)},i.removeClass=function(t,e){e&&(t.classList?t.classList.remove(e):t.className=t.className.replace(RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},i.css=function(t,e){if(u.String(e))return o(t)[s(e)];if(u.Array(e)){var i={},n=o(t);return e.forEach(function(t){i[t]=n[s(t)]}),i}for(var a in e){var r=e[a];r==parseFloat(r)&&(r+="px"),t.style[s(a)]=r}},i}(window||{});return t}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e){return!e.nodeName||-1!==t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}var n=t.scrollTo=function(e,i,n){return t(window).scrollTo(e,i,n)};return n.defaults={axis:"xy",duration:0,limit:!0},t.fn.scrollTo=function(o,a,s){"object"==typeof a&&(s=a,a=0),"function"==typeof s&&(s={onAfter:s}),"max"===o&&(o=9e9),s=t.extend({},n.defaults,s),a=a||s.duration;var r=s.queue&&1<s.axis.length;return r&&(a/=2),s.offset=i(s.offset),s.over=i(s.over),this.each(function(){function l(e){var i=t.extend({},s,{queue:!0,duration:a,complete:e&&function(){e.call(u,p,s)}});h.animate(f,i)}if(null!==o){var c,d=e(this),u=d?this.contentWindow||window:this,h=t(u),p=o,f={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=i(p);break}p=d?t(p):t(p,u);case"object":if(0===p.length)return;(p.is||p.style)&&(c=(p=t(p)).offset())}var m=t.isFunction(s.offset)&&s.offset(u,p)||s.offset;t.each(s.axis.split(""),function(t,e){var i="x"===e?"Left":"Top",o=i.toLowerCase(),a="scroll"+i,g=h[a](),v=n.max(u,e);c?(f[a]=c[o]+(d?0:g-h.offset()[o]),s.margin&&(f[a]-=parseInt(p.css("margin"+i),10)||0,f[a]-=parseInt(p.css("border"+i+"Width"),10)||0),f[a]+=m[o]||0,s.over[o]&&(f[a]+=p["x"===e?"width":"height"]()*s.over[o])):(i=p[o],f[a]=i.slice&&"%"===i.slice(-1)?parseFloat(i)/100*v:i),s.limit&&/^\d+$/.test(f[a])&&(f[a]=0>=f[a]?0:Math.min(f[a],v)),!t&&1<s.axis.length&&(g===f[a]?f={}:r&&(l(s.onAfterFirst),f={}))}),l(s.onAfter)}})},n.max=function(i,n){var o="x"===n?"Width":"Height",a="scroll"+o;if(!e(i))return i[a]-t(i)[o.toLowerCase()]();var o="client"+o,s=i.ownerDocument||i.document,r=s.documentElement,s=s.body;return Math.max(r[a],s[a])-Math.min(r[o],s[o])},t.Tween.propHooks.scrollLeft=t.Tween.propHooks.scrollTop={get:function(e){return t(e.elem)[e.prop]()},set:function(e){var i=this.get(e);if(e.options.interrupt&&e._last&&e._last!==i)return t(e.elem).stop();var n=Math.round(e.now);i!==n&&(t(e.elem)[e.prop](n),e._last=this.get(e))}},n}),!function(t){var e={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};t.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var o={},a=this,s=t(window).width(),r=t(window).height();if(!t(a).data("bxSlider")){var l=function(){t(a).data("bxSlider")||(o.settings=t.extend({},e,n),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=a.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"===o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!==o.settings.mode&&function(){for(var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<e.length;i++)if(void 0!==t.style[e[i]])return o.cssPrefix=e[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"===o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),a.data("origStyle",a.attr("style")),a.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c())},c=function(){var e=o.children.eq(o.settings.startSlide);a.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=a.parent(),o.settings.ariaLive&&!o.settings.ticker&&o.viewport.attr("aria-live","polite"),o.loader=t('<div class="bx-loading" />'),o.viewport.prepend(o.loader),a.css({width:"horizontal"===o.settings.mode?1e3*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?a.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing"),o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:p()}),o.children.css({"float":"horizontal"===o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",f()),"horizontal"===o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"===o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"===o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="bx-controls" />'),o.settings.captions&&C(),o.active.last=o.settings.startSlide===g()-1,o.settings.video&&a.fitVids(),("all"===o.settings.preloadImages||o.settings.ticker)&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.controls&&x(),o.settings.auto&&o.settings.autoControls&&k(),o.settings.pager&&_(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),d(e,u)},d=function(e,i){var n=e.find('img:not([src=""]), iframe').length,o=0;return 0===n?void i():void e.find('img:not([src=""]), iframe').each(function(){t(this).one("load error",function(){++o===n&&i()}).each(function(){this.complete&&t(this).trigger("load")})})},u=function(){if(o.settings.infiniteLoop&&"fade"!==o.settings.mode&&!o.settings.ticker){var e="vertical"===o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,e).clone(!0).addClass("bx-clone"),n=o.children.slice(-e).clone(!0).addClass("bx-clone");o.settings.ariaHidden&&(i.attr("aria-hidden",!0),n.attr("aria-hidden",!0)),a.append(i).prepend(n)}o.loader.remove(),b(),"vertical"===o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(h()),a.redrawSlider(),o.settings.onSliderLoad.call(a,o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",R),o.settings.auto&&o.settings.autoStart&&(g()>1||o.settings.autoSlideForOnePage)&&E(),o.settings.ticker&&O(),o.settings.pager&&P(o.settings.startSlide),o.settings.controls&&M(),o.settings.touchEnabled&&!o.settings.ticker&&z(),o.settings.keyboardEnabled&&!o.settings.ticker&&t(document).keydown(B)},h=function(){var e=0,n=t();if("vertical"===o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var a=1===o.settings.moveSlides?o.active.index:o.active.index*v();for(n=o.children.eq(a),i=1;i<=o.settings.maxSlides-1;i++)n=a+i>=o.children.length?n.add(o.children.eq(i-1)):n.add(o.children.eq(a+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"===o.settings.mode?(n.each(function(i){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"===o.viewport.css("box-sizing")?e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"===o.viewport.css("box-sizing")&&(e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),e},p=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"===o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},f=function(){var t=o.settings.slideWidth,e=o.viewport.width();if(0===o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"===o.settings.mode)t=e;else if(o.settings.maxSlides>1&&"horizontal"===o.settings.mode){if(e>o.maxThreshold)return t;e<o.minThreshold?t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides:o.settings.shrinkItems&&(t=Math.floor((e+o.settings.slideMargin)/Math.ceil((e+o.settings.slideMargin)/(t+o.settings.slideMargin))-o.settings.slideMargin))}return t},m=function(){var t=1,e=null;return"horizontal"===o.settings.mode&&o.settings.slideWidth>0?o.viewport.width()<o.minThreshold?t=o.settings.minSlides:o.viewport.width()>o.maxThreshold?t=o.settings.maxSlides:(e=o.children.first().width()+o.settings.slideMargin,t=Math.floor((o.viewport.width()+o.settings.slideMargin)/e)):"vertical"===o.settings.mode&&(t=o.settings.minSlides),t},g=function(){var t=0,e=0,i=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=Math.ceil(o.children.length/v());else for(;e<o.children.length;)++t,e=i+m(),i+=o.settings.moveSlides<=m()?o.settings.moveSlides:m();else t=Math.ceil(o.children.length/m());return t},v=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=m()?o.settings.moveSlides:m()},b=function(){var t,e,i;o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop?"horizontal"===o.settings.mode?(e=o.children.last(),t=e.position(),y(-(t.left-(o.viewport.width()-e.outerWidth())),"reset",0)):"vertical"===o.settings.mode&&(i=o.children.length-o.settings.minSlides,t=o.children.eq(i).position(),y(-t.top,"reset",0)):(t=o.children.eq(o.active.index*v()).position(),o.active.index===g()-1&&(o.active.last=!0),void 0!==t&&("horizontal"===o.settings.mode?y(-t.left,"reset",0):"vertical"===o.settings.mode&&y(-t.top,"reset",0)))},y=function(e,i,n,s){var r,l;o.usingCSS?(l="vertical"===o.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",a.css("-"+o.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===i?(a.css(o.animProp,l),0!==n?a.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(a)&&(a.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),D())}):D()):"reset"===i?a.css(o.animProp,l):"ticker"===i&&(a.css("-"+o.cssPrefix+"-transition-timing-function","linear"),a.css(o.animProp,l),0!==n?a.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(a)&&(a.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),y(s.resetValue,"reset",0),L())}):(y(s.resetValue,"reset",0),L()))):(r={},r[o.animProp]=e,"slide"===i?a.animate(r,n,o.settings.easing,function(){D()}):"reset"===i?a.css(o.animProp,e):"ticker"===i&&a.animate(r,n,"linear",function(){y(s.resetValue,"reset",0),L()}))},w=function(){for(var e="",i="",n=g(),a=0;a<n;a++)i="",o.settings.buildPager&&t.isFunction(o.settings.buildPager)||o.settings.pagerCustom?(i=o.settings.buildPager(a),o.pagerEl.addClass("bx-custom-pager")):(i=a+1,o.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+a+'" class="bx-pager-link">'+i+"</a></div>";o.pagerEl.html(e)},_=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="bx-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),w()),o.pagerEl.on("click touchend","a",I)},x=function(){o.controls.next=t('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click touchend",A),o.controls.prev.bind("click touchend",$),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},k=function(){o.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",S),o.controls.autoEl.on("click",".bx-stop",T),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),j(o.settings.autoStart?"stop":"start")},C=function(){o.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},A=function(t){t.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&a.stopAuto(),a.goToNextSlide())},$=function(t){t.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&a.stopAuto(),a.goToPrevSlide())},S=function(t){a.startAuto(),t.preventDefault()},T=function(t){a.stopAuto(),t.preventDefault()},I=function(e){var i,n;e.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&a.stopAuto(),i=t(e.currentTarget),void 0!==i.attr("data-slide-index")&&(n=parseInt(i.attr("data-slide-index")),n!==o.active.index&&a.goToSlide(n)))},P=function(e){var i=o.children.length;return"short"===o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(e+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,n){t(n).find("a").eq(e).addClass("active")}))},D=function(){if(o.settings.infiniteLoop){var t="";0===o.active.index?t=o.children.eq(0).position():o.active.index===g()-1&&o.carousel?t=o.children.eq((g()-1)*v()).position():o.active.index===o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"===o.settings.mode?y(-t.left,"reset",0):"vertical"===o.settings.mode&&y(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter.call(a,o.children.eq(o.active.index),o.oldIndex,o.active.index)},j=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},M=function(){1===g()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0===o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index===g()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},E=function(){o.settings.autoDelay>0?setTimeout(a.startAuto,o.settings.autoDelay):(a.startAuto(),t(window).focus(function(){a.startAuto()}).blur(function(){a.stopAuto()})),o.settings.autoHover&&a.hover(function(){o.interval&&(a.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(a.startAuto(!0),o.autoPaused=null)})},O=function(){var e,i,n,s,r,l,c,d,u=0;"next"===o.settings.autoDirection?a.append(o.children.clone().addClass("bx-clone")):(a.prepend(o.children.clone().addClass("bx-clone")),e=o.children.first().position(),u="horizontal"===o.settings.mode?-e.left:-e.top),y(u,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&(o.usingCSS?(s="horizontal"===o.settings.mode?4:5,o.viewport.hover(function(){i=a.css("-"+o.cssPrefix+"-transform"),n=parseFloat(i.split(",")[s]),y(n,"reset",0)},function(){d=0,o.children.each(function(e){d+="horizontal"===o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),r=o.settings.speed/d,l="horizontal"===o.settings.mode?"left":"top",c=r*(d-Math.abs(parseInt(n))),L(c)})):o.viewport.hover(function(){a.stop()},function(){d=0,o.children.each(function(e){d+="horizontal"===o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),r=o.settings.speed/d,l="horizontal"===o.settings.mode?"left":"top",c=r*(d-Math.abs(parseInt(a.css(l)))),L(c)})),L()},L=function(t){var e,i,n,s=t?t:o.settings.speed,r={left:0,top:0},l={left:0,top:0};"next"===o.settings.autoDirection?r=a.find(".bx-clone").first().position():l=o.children.first().position(),e="horizontal"===o.settings.mode?-r.left:-r.top,i="horizontal"===o.settings.mode?-l.left:-l.top,n={resetValue:i},y(e,"ticker",s,n)},F=function(e){var i=t(window),n={top:i.scrollTop(),left:i.scrollLeft()},o=e.offset();return n.right=n.left+i.width(),n.bottom=n.top+i.height(),o.right=o.left+e.outerWidth(),o.bottom=o.top+e.outerHeight(),!(n.right<o.left||n.left>o.right||n.bottom<o.top||n.top>o.bottom)},B=function(t){var e=document.activeElement.tagName.toLowerCase(),i="input|textarea",n=new RegExp(e,["i"]),o=n.exec(i);if(null==o&&F(a)){if(39===t.keyCode)return A(t),!1;if(37===t.keyCode)return $(t),!1}},z=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart MSPointerDown pointerdown",V),o.viewport.on("click",".bxslider a",function(t){o.viewport.hasClass("click-disabled")&&(t.preventDefault(),o.viewport.removeClass("click-disabled"))})},V=function(t){if(o.controls.el.addClass("disabled"),o.working)t.preventDefault(),o.controls.el.removeClass("disabled");else{o.touch.originalPos=a.position();var e=t.originalEvent,i="undefined"!=typeof e.changedTouches?e.changedTouches:[e];o.touch.start.x=i[0].pageX,o.touch.start.y=i[0].pageY,o.viewport.get(0).setPointerCapture&&(o.pointerId=e.pointerId,o.viewport.get(0).setPointerCapture(o.pointerId)),o.viewport.bind("touchmove MSPointerMove pointermove",H),o.viewport.bind("touchend MSPointerUp pointerup",W),o.viewport.bind("MSPointerCancel pointercancel",q)}},q=function(t){y(o.touch.originalPos.left,"reset",0),o.controls.el.removeClass("disabled"),o.viewport.unbind("MSPointerCancel pointercancel",q),o.viewport.unbind("touchmove MSPointerMove pointermove",H),o.viewport.unbind("touchend MSPointerUp pointerup",W),o.viewport.get(0).releasePointerCapture&&o.viewport.get(0).releasePointerCapture(o.pointerId)},H=function(t){var e=t.originalEvent,i="undefined"!=typeof e.changedTouches?e.changedTouches:[e],n=Math.abs(i[0].pageX-o.touch.start.x),a=Math.abs(i[0].pageY-o.touch.start.y),s=0,r=0;3*n>a&&o.settings.preventDefaultSwipeX?t.preventDefault():3*a>n&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!==o.settings.mode&&o.settings.oneToOneTouch&&("horizontal"===o.settings.mode?(r=i[0].pageX-o.touch.start.x,s=o.touch.originalPos.left+r):(r=i[0].pageY-o.touch.start.y,s=o.touch.originalPos.top+r),y(s,"reset",0))},W=function(t){o.viewport.unbind("touchmove MSPointerMove pointermove",H),o.controls.el.removeClass("disabled");var e=t.originalEvent,i="undefined"!=typeof e.changedTouches?e.changedTouches:[e],n=0,s=0;o.touch.end.x=i[0].pageX,o.touch.end.y=i[0].pageY,"fade"===o.settings.mode?(s=Math.abs(o.touch.start.x-o.touch.end.x),s>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?a.goToNextSlide():a.goToPrevSlide(),a.stopAuto())):("horizontal"===o.settings.mode?(s=o.touch.end.x-o.touch.start.x,n=o.touch.originalPos.left):(s=o.touch.end.y-o.touch.start.y,n=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0===o.active.index&&s>0||o.active.last&&s<0)?y(n,"reset",200):Math.abs(s)>=o.settings.swipeThreshold?(s<0?a.goToNextSlide():a.goToPrevSlide(),a.stopAuto()):y(n,"reset",200)),o.viewport.unbind("touchend MSPointerUp pointerup",W),o.viewport.get(0).releasePointerCapture&&o.viewport.get(0).releasePointerCapture(o.pointerId)},R=function(e){if(o.initialized)if(o.working)window.setTimeout(R,10);else{var i=t(window).width(),n=t(window).height();s===i&&r===n||(s=i,r=n,a.redrawSlider(),o.settings.onSliderResize.call(a,o.active.index))}},N=function(t){var e=m();o.settings.ariaHidden&&!o.settings.ticker&&(o.children.attr("aria-hidden","true"),o.children.slice(t,t+e).attr("aria-hidden","false"))},U=function(t){return t<0?o.settings.infiniteLoop?g()-1:o.active.index:t>=g()?o.settings.infiniteLoop?0:o.active.index:t};return a.goToSlide=function(e,i){var n,s,r,l,c=!0,d=0,u={left:0,top:0},p=null;if(o.oldIndex=o.active.index,o.active.index=U(e),!o.working&&o.active.index!==o.oldIndex){if(o.working=!0,c=o.settings.onSlideBefore.call(a,o.children.eq(o.active.index),o.oldIndex,o.active.index),"undefined"!=typeof c&&!c)return o.active.index=o.oldIndex,void(o.working=!1);"next"===i?o.settings.onSlideNext.call(a,o.children.eq(o.active.index),o.oldIndex,o.active.index)||(c=!1):"prev"===i&&(o.settings.onSlidePrev.call(a,o.children.eq(o.active.index),o.oldIndex,o.active.index)||(c=!1)),o.active.last=o.active.index>=g()-1,(o.settings.pager||o.settings.pagerCustom)&&P(o.active.index),o.settings.controls&&M(),"fade"===o.settings.mode?(o.settings.adaptiveHeight&&o.viewport.height()!==h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),D()})):(o.settings.adaptiveHeight&&o.viewport.height()!==h()&&o.viewport.animate({
height:h()},o.settings.adaptiveHeightSpeed),!o.settings.infiniteLoop&&o.carousel&&o.active.last?"horizontal"===o.settings.mode?(p=o.children.eq(o.children.length-1),u=p.position(),d=o.viewport.width()-p.outerWidth()):(n=o.children.length-o.settings.minSlides,u=o.children.eq(n).position()):o.carousel&&o.active.last&&"prev"===i?(s=1===o.settings.moveSlides?o.settings.maxSlides-v():(g()-1)*v()-(o.children.length-o.settings.maxSlides),p=a.children(".bx-clone").eq(s),u=p.position()):"next"===i&&0===o.active.index?(u=a.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1):e>=0&&(l=e*parseInt(v()),u=o.children.eq(l).position()),"undefined"!=typeof u?(r="horizontal"===o.settings.mode?-(u.left-d):-u.top,y(r,"slide",o.settings.speed)):o.working=!1),o.settings.ariaHidden&&N(o.active.index*v())}},a.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;a.goToSlide(t,"next")}},a.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!==o.active.index){var t=parseInt(o.active.index)-1;a.goToSlide(t,"prev")}},a.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"===o.settings.autoDirection?a.goToNextSlide():a.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&t!==!0&&j("stop"))},a.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&t!==!0&&j("start"))},a.getCurrentSlide=function(){return o.active.index},a.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},a.getSlideElement=function(t){return o.children.eq(t)},a.getSlideCount=function(){return o.children.length},a.isWorking=function(){return o.working},a.redrawSlider=function(){o.children.add(a.find(".bx-clone")).outerWidth(f()),o.viewport.css("height",h()),o.settings.ticker||b(),o.active.last&&(o.active.index=g()-1),o.active.index>=g()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(w(),P(o.active.index)),o.settings.ariaHidden&&N(o.active.index*v())},a.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".bx-clone",this).remove(),o.children.each(function(){void 0!==t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!==t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&!o.settings.pagerCustom&&o.pagerEl.remove(),t(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",R),o.settings.keyboardEnabled&&t(document).unbind("keydown",B),t(this).removeData("bxSlider"))},a.reloadSlider=function(e){void 0!==e&&(n=e),a.destroySlider(),l(),t(a).data("bxSlider",this)},l(),t(a).data("bxSlider",this),this}}}(jQuery);var QRCode;!function(){function t(t){this.mode=c.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=[],i=0,n=this.data.length;n>i;i++){var o=this.data.charCodeAt(i);o>65536?(e[0]=240|(1835008&o)>>>18,e[1]=128|(258048&o)>>>12,e[2]=128|(4032&o)>>>6,e[3]=128|63&o):o>2048?(e[0]=224|(61440&o)>>>12,e[1]=128|(4032&o)>>>6,e[2]=128|63&o):o>128?(e[0]=192|(1984&o)>>>6,e[1]=128|63&o):e[0]=o,this.parsedData=this.parsedData.concat(e)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function i(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function n(t,e){this.totalCount=t,this.dataCount=e}function o(){this.buffer=[],this.length=0}function a(){return"undefined"!=typeof CanvasRenderingContext2D}function s(){var t=!1,e=navigator.userAgent;return/android/i.test(e)&&(t=!0,aMat=e.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(t=parseFloat(aMat[1]))),t}function r(t,e){for(var i=1,n=l(t),o=0,a=m.length;a>=o;o++){var s=0;switch(e){case d.L:s=m[o][0];break;case d.M:s=m[o][1];break;case d.Q:s=m[o][2];break;case d.H:s=m[o][3]}if(s>=n)break;i++}if(i>m.length)throw new Error("Too long data");return i}function l(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}t.prototype={getLength:function(){return this.parsedData.length},write:function(t){for(var e=0,i=this.parsedData.length;i>e;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var i=new t(e);this.dataList.push(i),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},setupPositionProbePattern:function(t,e){for(var i=-1;7>=i;i++)if(!(-1>=t+i||this.moduleCount<=t+i))for(var n=-1;7>=n;n++)-1>=e+n||this.moduleCount<=e+n||(this.modules[t+i][e+n]=i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;8>i;i++){this.makeImpl(!0,i);var n=h.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e},createMovieClip:function(t,e,i){var n=t.createEmptyMovieClip(e,i),o=1;this.make();for(var a=0;a<this.modules.length;a++)for(var s=a*o,r=0;r<this.modules[a].length;r++){var l=r*o,c=this.modules[a][r];c&&(n.beginFill(0,100),n.moveTo(l,s),n.lineTo(l+o,s),n.lineTo(l+o,s+o),n.lineTo(l,s+o),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var t=h.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],o=t[i];if(null==this.modules[n][o])for(var a=-2;2>=a;a++)for(var s=-2;2>=s;s++)this.modules[n+a][o+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},setupTypeNumber:function(t){for(var e=h.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var n=!t&&1==(1&e>>i);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(var i=0;18>i;i++){var n=!t&&1==(1&e>>i);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=this.errorCorrectLevel<<3|e,n=h.getBCHTypeInfo(i),o=0;15>o;o++){var a=!t&&1==(1&n>>o);6>o?this.modules[o][8]=a:8>o?this.modules[o+1][8]=a:this.modules[this.moduleCount-15+o][8]=a}for(var o=0;15>o;o++){var a=!t&&1==(1&n>>o);8>o?this.modules[8][this.moduleCount-o-1]=a:9>o?this.modules[8][15-o-1+1]=a:this.modules[8][15-o-1]=a}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,o=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var r=0;2>r;r++)if(null==this.modules[n][s-r]){var l=!1;a<t.length&&(l=1==(1&t[a]>>>o));var c=h.getMask(e,n,s-r);c&&(l=!l),this.modules[n][s-r]=l,o--,-1==o&&(a++,o=7)}if(n+=i,0>n||this.moduleCount<=n){n-=i,i=-i;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,i,a){for(var s=n.getRSBlocks(t,i),r=new o,l=0;l<a.length;l++){var c=a[l];r.put(c.mode,4),r.put(c.getLength(),h.getLengthInBits(c.mode,t)),c.write(r)}for(var d=0,l=0;l<s.length;l++)d+=s[l].dataCount;if(r.getLengthInBits()>8*d)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*d+")");for(r.getLengthInBits()+4<=8*d&&r.put(0,4);0!=r.getLengthInBits()%8;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*d)&&(r.put(e.PAD0,8),!(r.getLengthInBits()>=8*d));)r.put(e.PAD1,8);return e.createBytes(r,s)},e.createBytes=function(t,e){for(var n=0,o=0,a=0,s=new Array(e.length),r=new Array(e.length),l=0;l<e.length;l++){var c=e[l].dataCount,d=e[l].totalCount-c;o=Math.max(o,c),a=Math.max(a,d),s[l]=new Array(c);for(var u=0;u<s[l].length;u++)s[l][u]=255&t.buffer[u+n];n+=c;var p=h.getErrorCorrectPolynomial(d),f=new i(s[l],p.getLength()-1),m=f.mod(p);r[l]=new Array(p.getLength()-1);for(var u=0;u<r[l].length;u++){var g=u+m.getLength()-r[l].length;r[l][u]=g>=0?m.get(g):0}}for(var v=0,u=0;u<e.length;u++)v+=e[u].totalCount;for(var b=new Array(v),y=0,u=0;o>u;u++)for(var l=0;l<e.length;l++)u<s[l].length&&(b[y++]=s[l][u]);for(var u=0;a>u;u++)for(var l=0;l<e.length;l++)u<r[l].length&&(b[y++]=r[l][u]);return b};for(var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={L:1,M:0,Q:3,H:2},u={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;h.getBCHDigit(e)-h.getBCHDigit(h.G15)>=0;)e^=h.G15<<h.getBCHDigit(e)-h.getBCHDigit(h.G15);return(t<<10|e)^h.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;h.getBCHDigit(e)-h.getBCHDigit(h.G18)>=0;)e^=h.G18<<h.getBCHDigit(e)-h.getBCHDigit(h.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return h.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case u.PATTERN000:return 0==(e+i)%2;case u.PATTERN001:return 0==e%2;case u.PATTERN010:return 0==i%3;case u.PATTERN011:return 0==(e+i)%3;case u.PATTERN100:return 0==(Math.floor(e/2)+Math.floor(i/3))%2;case u.PATTERN101:return 0==e*i%2+e*i%3;case u.PATTERN110:return 0==(e*i%2+e*i%3)%2;case u.PATTERN111:return 0==(e*i%3+(e+i)%2)%2;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new i([1],0),n=0;t>n;n++)e=e.multiply(new i([1,p.gexp(n)],0));return e},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;e>n;n++)for(var o=0;e>o;o++){for(var a=0,s=t.isDark(n,o),r=-1;1>=r;r++)if(!(0>n+r||n+r>=e))for(var l=-1;1>=l;l++)0>o+l||o+l>=e||(0!=r||0!=l)&&s==t.isDark(n+r,o+l)&&a++;a>5&&(i+=3+a-5)}for(var n=0;e-1>n;n++)for(var o=0;e-1>o;o++){var c=0;t.isDark(n,o)&&c++,t.isDark(n+1,o)&&c++,t.isDark(n,o+1)&&c++,t.isDark(n+1,o+1)&&c++,(0==c||4==c)&&(i+=3)}for(var n=0;e>n;n++)for(var o=0;e-6>o;o++)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(i+=40);for(var o=0;e>o;o++)for(var n=0;e-6>n;n++)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(i+=40);for(var d=0,o=0;e>o;o++)for(var n=0;e>n;n++)t.isDark(n,o)&&d++;var u=Math.abs(100*d/e/e-50)/5;return i+=10*u}},p={glog:function(t){if(1>t)throw new Error("glog("+t+")");return p.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return p.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},f=0;8>f;f++)p.EXP_TABLE[f]=1<<f;for(var f=8;256>f;f++)p.EXP_TABLE[f]=p.EXP_TABLE[f-4]^p.EXP_TABLE[f-5]^p.EXP_TABLE[f-6]^p.EXP_TABLE[f-8];for(var f=0;255>f;f++)p.LOG_TABLE[p.EXP_TABLE[f]]=f;i.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<t.getLength();o++)e[n+o]^=p.gexp(p.glog(this.get(n))+p.glog(t.get(o)));return new i(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=p.glog(this.get(0))-p.glog(t.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(var o=0;o<t.getLength();o++)n[o]^=p.gexp(p.glog(t.get(o))+e);return new i(n,0).mod(t)}},n.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],n.getRSBlocks=function(t,e){var i=n.getRsBlockTable(t,e);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=i.length/3,a=[],s=0;o>s;s++)for(var r=i[3*s+0],l=i[3*s+1],c=i[3*s+2],d=0;r>d;d++)a.push(new n(l,c));return a},n.getRsBlockTable=function(t,e){switch(e){case d.L:return n.RS_BLOCK_TABLE[4*(t-1)+0];case d.M:return n.RS_BLOCK_TABLE[4*(t-1)+1];case d.Q:return n.RS_BLOCK_TABLE[4*(t-1)+2];case d.H:return n.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},o.prototype={get:function(t){var e=Math.floor(t/8);return 1==(1&this.buffer[e]>>>7-t%8)},put:function(t,e){for(var i=0;e>i;i++)this.putBit(1==(1&t>>>e-i-1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var m=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],g=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){function e(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg",t);for(var n in e)e.hasOwnProperty(n)&&i.setAttribute(n,e[n]);return i}var i=this._htOption,n=this._el,o=t.getModuleCount();Math.floor(i.width/o),Math.floor(i.height/o),this.clear();var a=e("svg",{viewBox:"0 0 "+String(o)+" "+String(o),width:"100%",height:"100%",fill:i.colorLight});a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(a),a.appendChild(e("rect",{fill:i.colorDark,width:"1",height:"1",id:"template"}));for(var s=0;o>s;s++)for(var r=0;o>r;r++)if(t.isDark(s,r)){var l=e("use",{x:String(s),y:String(r)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),a.appendChild(l)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),v="svg"===document.documentElement.tagName.toLowerCase(),b=v?g:a()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function e(t,e){var i=this;if(i._fFail=e,i._fSuccess=t,null===i._bSupportDataURI){var n=document.createElement("img"),o=function(){i._bSupportDataURI=!1,i._fFail&&_fFail.call(i)},a=function(){i._bSupportDataURI=!0,i._fSuccess&&i._fSuccess.call(i)};return n.onabort=o,n.onerror=o,n.onload=a,void(n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}i._bSupportDataURI===!0&&i._fSuccess?i._fSuccess.call(i):i._bSupportDataURI===!1&&i._fFail&&i._fFail.call(i)}if(this._android&&this._android<=2.1){var i=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,e,o,a,s,r,l,c){if("nodeName"in t&&/img/i.test(t.nodeName))for(var d=arguments.length-1;d>=1;d--)arguments[d]=arguments[d]*i;else"undefined"==typeof c&&(arguments[1]*=i,arguments[2]*=i,arguments[3]*=i,arguments[4]*=i);n.apply(this,arguments)}}var o=function(t,e){this._bIsPainted=!1,this._android=s(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return o.prototype.draw=function(t){var e=this._elImage,i=this._oContext,n=this._htOption,o=t.getModuleCount(),a=n.width/o,s=n.height/o,r=Math.round(a),l=Math.round(s);e.style.display="none",this.clear();for(var c=0;o>c;c++)for(var d=0;o>d;d++){var u=t.isDark(c,d),h=d*a,p=c*s;i.strokeStyle=u?n.colorDark:n.colorLight,i.lineWidth=1,i.fillStyle=u?n.colorDark:n.colorLight,i.fillRect(h,p,a,s),i.strokeRect(Math.floor(h)+.5,Math.floor(p)+.5,r,l),i.strokeRect(Math.ceil(h)-.5,Math.ceil(p)-.5,r,l)}this._bIsPainted=!0},o.prototype.makeImage=function(){this._bIsPainted&&e.call(this,t)},o.prototype.isPainted=function(){return this._bIsPainted},o.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},o.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},o}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,i=this._el,n=t.getModuleCount(),o=Math.floor(e.width/n),a=Math.floor(e.height/n),s=['<table style="border:0;border-collapse:collapse;">'],r=0;n>r;r++){s.push("<tr>");for(var l=0;n>l;l++)s.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+o+"px;height:"+a+"px;background-color:"+(t.isDark(r,l)?e.colorDark:e.colorLight)+';"></td>');s.push("</tr>")}s.push("</table>"),i.innerHTML=s.join("");var c=i.childNodes[0],d=(e.width-c.offsetWidth)/2,u=(e.height-c.offsetHeight)/2;d>0&&u>0&&(c.style.margin=u+"px "+d+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();QRCode=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.H},"string"==typeof e&&(e={text:e}),e)for(var i in e)this._htOption[i]=e[i];"string"==typeof t&&(t=document.getElementById(t)),this._android=s(),this._el=t,this._oQRCode=null,this._oDrawing=new b(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(t){this._oQRCode=new e(r(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=d}(),!function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(t){"use strict";function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=d),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var n=t(this),o=n.data(T);o||(o=new i(this,e),n.data(T,o))})}function i(e,i){function n(e){if(!(ct()||t(e.target).closest(i.excludedElements,Nt).length>0)){var n=e.originalEvent?e.originalEvent:e;if(!n.pointerType||"mouse"!=n.pointerType||0!=i.fallbackToMouseEvents){var o,a=n.touches,s=a?a[0]:n;return Ut=_,a?Yt=a.length:i.preventDefaultEvents!==!1&&e.preventDefault(),Ot=0,Lt=null,Ft=null,Wt=null,Bt=0,zt=0,Vt=0,qt=1,Ht=0,Rt=gt(),rt(),ut(0,s),!a||Yt===i.fingers||i.fingers===y||W()?(Qt=At(),2==Yt&&(ut(1,a[1]),zt=Vt=yt(Kt[0].start,Kt[1].start)),(i.swipeStatus||i.pinchStatus)&&(o=O(n,Ut))):o=!1,o===!1?(Ut=C,O(n,Ut),o):(i.hold&&(ee=setTimeout(t.proxy(function(){Nt.trigger("hold",[n.target]),i.hold&&(o=i.hold.call(Nt,n,n.target))},this),i.longTapThreshold)),dt(!0),null)}}}function I(t){var e=t.originalEvent?t.originalEvent:t;if(Ut!==k&&Ut!==C&&!lt()){var n,o=e.touches,a=o?o[0]:e,s=ht(a);if(Gt=At(),o&&(Yt=o.length),i.hold&&clearTimeout(ee),Ut=x,2==Yt&&(0==zt?(ut(1,o[1]),zt=Vt=yt(Kt[0].start,Kt[1].start)):(ht(o[1]),Vt=yt(Kt[0].end,Kt[1].end),Wt=_t(Kt[0].end,Kt[1].end)),qt=wt(zt,Vt),Ht=Math.abs(zt-Vt)),Yt===i.fingers||i.fingers===y||!o||W()){if(Lt=Ct(s.start,s.end),Ft=Ct(s.last,s.end),q(t,Ft),Ot=xt(s.start,s.end),Bt=bt(),ft(Lt,Ot),n=O(e,Ut),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var r=!0;if(i.triggerOnTouchLeave){var l=$t(this);r=St(s.end,l)}!i.triggerOnTouchEnd&&r?Ut=E(x):i.triggerOnTouchLeave&&!r&&(Ut=E(k)),Ut!=C&&Ut!=k||O(e,Ut)}}else Ut=C,O(e,Ut);n===!1&&(Ut=C,O(e,Ut))}}function P(t){var e=t.originalEvent?t.originalEvent:t,n=e.touches;if(n){if(n.length&&!lt())return st(e),!0;if(n.length&&lt())return!0}return lt()&&(Yt=Xt),Gt=At(),Bt=bt(),B()||!F()?(Ut=C,O(e,Ut)):i.triggerOnTouchEnd||i.triggerOnTouchEnd===!1&&Ut===x?(i.preventDefaultEvents!==!1&&t.preventDefault(),Ut=k,O(e,Ut)):!i.triggerOnTouchEnd&&G()?(Ut=k,L(e,Ut,f)):Ut===x&&(Ut=C,O(e,Ut)),dt(!1),null}function D(){Yt=0,Gt=0,Qt=0,zt=0,Vt=0,qt=1,rt(),dt(!1)}function j(t){var e=t.originalEvent?t.originalEvent:t;i.triggerOnTouchLeave&&(Ut=E(k),O(e,Ut))}function M(){Nt.unbind(Pt,n),Nt.unbind(Et,D),Nt.unbind(Dt,I),Nt.unbind(jt,P),Mt&&Nt.unbind(Mt,j),dt(!1)}function E(t){var e=t,n=V(),o=F(),a=B();return!n||a?e=C:!o||t!=x||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!o&&t==k&&i.triggerOnTouchLeave&&(e=C):e=k,e}function O(t,e){var i,n=t.touches;return(Y()||U())&&(i=L(t,e,h)),(R()||W())&&i!==!1&&(i=L(t,e,p)),ot()&&i!==!1?i=L(t,e,m):at()&&i!==!1?i=L(t,e,g):nt()&&i!==!1&&(i=L(t,e,f)),e===C&&D(t),e===k&&(n?n.length||D(t):D(t)),i}function L(e,n,d){var u;if(d==h){if(Nt.trigger("swipeStatus",[n,Lt||null,Ot||0,Bt||0,Yt,Kt,Ft]),i.swipeStatus&&(u=i.swipeStatus.call(Nt,e,n,Lt||null,Ot||0,Bt||0,Yt,Kt,Ft),u===!1))return!1;if(n==k&&N()){if(clearTimeout(te),clearTimeout(ee),Nt.trigger("swipe",[Lt,Ot,Bt,Yt,Kt,Ft]),i.swipe&&(u=i.swipe.call(Nt,e,Lt,Ot,Bt,Yt,Kt,Ft),u===!1))return!1;switch(Lt){case o:Nt.trigger("swipeLeft",[Lt,Ot,Bt,Yt,Kt,Ft]),i.swipeLeft&&(u=i.swipeLeft.call(Nt,e,Lt,Ot,Bt,Yt,Kt,Ft));break;case a:Nt.trigger("swipeRight",[Lt,Ot,Bt,Yt,Kt,Ft]),i.swipeRight&&(u=i.swipeRight.call(Nt,e,Lt,Ot,Bt,Yt,Kt,Ft));break;case s:Nt.trigger("swipeUp",[Lt,Ot,Bt,Yt,Kt,Ft]),i.swipeUp&&(u=i.swipeUp.call(Nt,e,Lt,Ot,Bt,Yt,Kt,Ft));break;case r:Nt.trigger("swipeDown",[Lt,Ot,Bt,Yt,Kt,Ft]),i.swipeDown&&(u=i.swipeDown.call(Nt,e,Lt,Ot,Bt,Yt,Kt,Ft))}}}if(d==p){if(Nt.trigger("pinchStatus",[n,Wt||null,Ht||0,Bt||0,Yt,qt,Kt]),i.pinchStatus&&(u=i.pinchStatus.call(Nt,e,n,Wt||null,Ht||0,Bt||0,Yt,qt,Kt),u===!1))return!1;if(n==k&&H())switch(Wt){case l:Nt.trigger("pinchIn",[Wt||null,Ht||0,Bt||0,Yt,qt,Kt]),i.pinchIn&&(u=i.pinchIn.call(Nt,e,Wt||null,Ht||0,Bt||0,Yt,qt,Kt));break;case c:Nt.trigger("pinchOut",[Wt||null,Ht||0,Bt||0,Yt,qt,Kt]),i.pinchOut&&(u=i.pinchOut.call(Nt,e,Wt||null,Ht||0,Bt||0,Yt,qt,Kt))}}return d==f?n!==C&&n!==k||(clearTimeout(te),clearTimeout(ee),Z()&&!tt()?(Jt=At(),te=setTimeout(t.proxy(function(){Jt=null,Nt.trigger("tap",[e.target]),i.tap&&(u=i.tap.call(Nt,e,e.target))},this),i.doubleTapThreshold)):(Jt=null,Nt.trigger("tap",[e.target]),i.tap&&(u=i.tap.call(Nt,e,e.target)))):d==m?n!==C&&n!==k||(clearTimeout(te),clearTimeout(ee),Jt=null,Nt.trigger("doubletap",[e.target]),i.doubleTap&&(u=i.doubleTap.call(Nt,e,e.target))):d==g&&(n!==C&&n!==k||(clearTimeout(te),Jt=null,Nt.trigger("longtap",[e.target]),i.longTap&&(u=i.longTap.call(Nt,e,e.target)))),u}function F(){var t=!0;return null!==i.threshold&&(t=Ot>=i.threshold),t}function B(){var t=!1;return null!==i.cancelThreshold&&null!==Lt&&(t=mt(Lt)-Ot>=i.cancelThreshold),t}function z(){return null===i.pinchThreshold||Ht>=i.pinchThreshold}function V(){var t;return t=!i.maxTimeThreshold||!(Bt>=i.maxTimeThreshold)}function q(t,e){if(i.preventDefaultEvents!==!1)if(i.allowPageScroll===d)t.preventDefault();else{var n=i.allowPageScroll===u;switch(e){case o:(i.swipeLeft&&n||!n&&i.allowPageScroll!=v)&&t.preventDefault();break;case a:(i.swipeRight&&n||!n&&i.allowPageScroll!=v)&&t.preventDefault();break;case s:(i.swipeUp&&n||!n&&i.allowPageScroll!=b)&&t.preventDefault();break;case r:(i.swipeDown&&n||!n&&i.allowPageScroll!=b)&&t.preventDefault();break;case d:}}}function H(){var t=K(),e=Q(),i=z();return t&&e&&i}function W(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function R(){return!(!H()||!W())}function N(){var t=V(),e=F(),i=K(),n=Q(),o=B(),a=!o&&n&&i&&e&&t;return a}function U(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function Y(){return!(!N()||!U())}function K(){return Yt===i.fingers||i.fingers===y||!A}function Q(){return 0!==Kt[0].end.x}function G(){return!!i.tap}function Z(){return!!i.doubleTap}function X(){return!!i.longTap}function J(){if(null==Jt)return!1;var t=At();return Z()&&t-Jt<=i.doubleTapThreshold}function tt(){return J()}function et(){return(1===Yt||!A)&&(isNaN(Ot)||Ot<i.threshold)}function it(){return Bt>i.longTapThreshold&&w>Ot}function nt(){return!(!et()||!G())}function ot(){return!(!J()||!Z())}function at(){return!(!it()||!X())}function st(t){Zt=At(),Xt=t.touches.length+1}function rt(){Zt=0,Xt=0}function lt(){var t=!1;if(Zt){var e=At()-Zt;e<=i.fingerReleaseThreshold&&(t=!0)}return t}function ct(){return!(Nt.data(T+"_intouch")!==!0)}function dt(t){Nt&&(t===!0?(Nt.bind(Dt,I),Nt.bind(jt,P),Mt&&Nt.bind(Mt,j)):(Nt.unbind(Dt,I,!1),Nt.unbind(jt,P,!1),Mt&&Nt.unbind(Mt,j,!1)),Nt.data(T+"_intouch",t===!0))}function ut(t,e){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=e.pageX||e.clientX,i.start.y=i.last.y=i.end.y=e.pageY||e.clientY,Kt[t]=i,i}function ht(t){var e=void 0!==t.identifier?t.identifier:0,i=pt(e);return null===i&&(i=ut(e,t)),i.last.x=i.end.x,i.last.y=i.end.y,i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function pt(t){return Kt[t]||null}function ft(t,e){t!=d&&(e=Math.max(e,mt(t)),Rt[t].distance=e)}function mt(t){return Rt[t]?Rt[t].distance:void 0}function gt(){var t={};return t[o]=vt(o),t[a]=vt(a),t[s]=vt(s),t[r]=vt(r),t}function vt(t){return{direction:t,distance:0}}function bt(){return Gt-Qt}function yt(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function wt(t,e){var i=e/t*1;return i.toFixed(2)}function _t(){return 1>qt?c:l}function xt(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function kt(t,e){var i=t.x-e.x,n=e.y-t.y,o=Math.atan2(n,i),a=Math.round(180*o/Math.PI);return 0>a&&(a=360-Math.abs(a)),a}function Ct(t,e){if(Tt(t,e))return d;var i=kt(t,e);return 45>=i&&i>=0?o:360>=i&&i>=315?o:i>=135&&225>=i?a:i>45&&135>i?r:s}function At(){var t=new Date;return t.getTime()}function $t(e){e=t(e);var i=e.offset(),n={left:i.left,right:i.left+e.outerWidth(),top:i.top,bottom:i.top+e.outerHeight()};return n}function St(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}function Tt(t,e){return t.x==e.x&&t.y==e.y}var i=t.extend({},i),It=A||S||!i.fallbackToMouseEvents,Pt=It?S?$?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Dt=It?S?$?"MSPointerMove":"pointermove":"touchmove":"mousemove",jt=It?S?$?"MSPointerUp":"pointerup":"touchend":"mouseup",Mt=It?S?"mouseleave":null:"mouseleave",Et=S?$?"MSPointerCancel":"pointercancel":"touchcancel",Ot=0,Lt=null,Ft=null,Bt=0,zt=0,Vt=0,qt=1,Ht=0,Wt=0,Rt=null,Nt=t(e),Ut="start",Yt=0,Kt={},Qt=0,Gt=0,Zt=0,Xt=0,Jt=0,te=null,ee=null;try{Nt.bind(Pt,n),Nt.bind(Et,D)}catch(ie){t.error("events not supported "+Pt+","+Et+" on jQuery.swipe")}this.enable=function(){return this.disable(),Nt.bind(Pt,n),Nt.bind(Et,D),Nt},this.disable=function(){return M(),Nt},this.destroy=function(){M(),Nt.data(T,null),Nt=null},this.option=function(e,n){if("object"==typeof e)i=t.extend(i,e);else if(void 0!==i[e]){if(void 0===n)return i[e];i[e]=n}else{if(!e)return i;t.error("Option "+e+" does not exist on jQuery.swipe.options");
}return null}}var n="1.6.18",o="left",a="right",s="up",r="down",l="in",c="out",d="none",u="auto",h="swipe",p="pinch",f="tap",m="doubletap",g="longtap",v="horizontal",b="vertical",y="all",w=10,_="start",x="move",k="end",C="cancel",A="ontouchstart"in window,$=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!A,S=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!A,T="TouchSwipe",I={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};t.fn.swipe=function(i){var n=t(this),o=n.data(T);if(o&&"string"==typeof i){if(o[i])return o[i].apply(o,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(o&&"object"==typeof i)o.option.apply(o,arguments);else if(!(o||"object"!=typeof i&&i))return e.apply(this,arguments);return n},t.fn.swipe.version=n,t.fn.swipe.defaults=I,t.fn.swipe.phases={PHASE_START:_,PHASE_MOVE:x,PHASE_END:k,PHASE_CANCEL:C},t.fn.swipe.directions={LEFT:o,RIGHT:a,UP:s,DOWN:r,IN:l,OUT:c},t.fn.swipe.pageScroll={NONE:d,HORIZONTAL:v,VERTICAL:b,AUTO:u},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:y}}),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i){var n={init:function(e,i){this.$elem=t(i),this.options=t.extend({},t.fn.owlCarousel.options,this.$elem.data(),e),this.userOptions=e,this.loadContent()},loadContent:function(){function e(t){var e,i="";if("function"==typeof n.options.jsonSuccess)n.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(i+=t.owl[e].item);n.$elem.html(i)}n.logIn()}var i,n=this;"function"==typeof n.options.beforeInit&&n.options.beforeInit.apply(this,[n.$elem]),"string"==typeof n.options.jsonPath?(i=n.options.jsonPath,t.getJSON(i,e)):n.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){return 0!==this.$elem.children().length&&(this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),void this.onStartup())},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var t=this;e.setTimeout(function(){t.updateVars()},0)},watchVisibility:function(){var t=this;return!1===t.$elem.is(":visible")&&(t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),void(t.checkVisible=e.setInterval(function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))},500)))},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var t=this.$elem.hasClass(this.options.baseClass),e=this.$elem.hasClass(this.options.theme);t||this.$elem.addClass(this.options.baseClass),e||this.$elem.addClass(this.options.theme)},updateItems:function(){var e,i;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if(e=t(this.options.responsiveBaseWidth).width(),e>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(t,e){return t[0]-e[0]}),i=0;i<this.options.itemsCustom.length;i+=1)this.options.itemsCustom[i][0]<=e&&(this.options.items=this.options.itemsCustom[i][1]);else e<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),e<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),e<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),e<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),e<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var i,n,o=this;return!0===o.options.responsive&&(n=t(e).width(),o.resizer=function(){t(e).width()!==n&&(!1!==o.options.autoPlay&&e.clearInterval(o.autoPlayInterval),e.clearTimeout(i),i=e.setTimeout(function(){n=t(e).width(),o.updateVars()},o.options.responsiveRefreshRate))},void t(e).resize(o.resizer))},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var e=this,i=0,n=e.itemsAmount-e.options.items;e.$owlItems.each(function(o){var a=t(this);a.css({width:e.itemWidth}).data("owl-item",Number(o)),0!==o%e.options.items&&o!==n||o>n||(i+=1),a.data("owl-roundPages",i)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var t=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=t=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=t),t},min:function(){return 0},loops:function(){var e,i,n=0,o=0;for(this.positionsInArray=[0],this.pagesInArray=[],e=0;e<this.itemsAmount;e+=1)o+=this.itemWidth,this.positionsInArray.push(-o),!0===this.options.scrollPerPage&&(i=t(this.$owlItems[e]),i=i.data("owl-roundPages"),i!==n&&(this.pagesInArray[n]=this.positionsInArray[e],n=i))},buildControls:function(){!0!==this.options.navigation&&!0!==this.options.pagination||(this.owlControls=t('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var e=this,i=t('<div class="owl-buttons"/>');e.owlControls.append(i),e.buttonPrev=t("<div/>",{"class":"owl-prev",html:e.options.navigationText[0]||""}),e.buttonNext=t("<div/>",{"class":"owl-next",html:e.options.navigationText[1]||""}),i.append(e.buttonPrev).append(e.buttonNext),i.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(t){t.preventDefault()}),i.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(i){i.preventDefault(),t(this).hasClass("owl-next")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(i){i.preventDefault(),Number(t(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(t(this).data("owl-page")),!0)})},updatePagination:function(){var e,i,n,o,a,s;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),e=0,i=this.itemsAmount-this.itemsAmount%this.options.items,o=0;o<this.itemsAmount;o+=1)0===o%this.options.items&&(e+=1,i===o&&(n=this.itemsAmount-this.options.items),a=t("<div/>",{"class":"owl-page"}),s=t("<span></span>",{text:!0===this.options.paginationNumbers?e:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),a.append(s),a.data("owl-page",i===o?n:o),a.data("owl-roundPages",e),this.paginationWrapper.append(a));this.checkPagination()},checkPagination:function(){var e=this;return!1!==e.options.pagination&&void e.paginationWrapper.find(".owl-page").each(function(){t(this).data("owl-roundPages")===t(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),t(this).addClass("active"))})},checkNavigation:function(){return!1!==this.options.navigation&&void(!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled"))))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(t){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,t="rewind"}this.goTo(this.currentItem,t)},prev:function(t){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),0>this.currentItem){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,t="rewind"}this.goTo(this.currentItem,t)},goTo:function(t,i,n){var o=this;return!o.isTransition&&("function"==typeof o.options.beforeMove&&o.options.beforeMove.apply(this,[o.$elem]),t>=o.maximumItem?t=o.maximumItem:0>=t&&(t=0),o.currentItem=o.owl.currentItem=t,!1!==o.options.transitionStyle&&"drag"!==n&&1===o.options.items&&!0===o.browser.support3d?(o.swapSpeed(0),!0===o.browser.support3d?o.transition3d(o.positionsInArray[t]):o.css2slide(o.positionsInArray[t],1),o.afterGo(),o.singleItemTransition(),!1):(t=o.positionsInArray[t],!0===o.browser.support3d?(o.isCss3Finish=!1,!0===i?(o.swapSpeed("paginationSpeed"),e.setTimeout(function(){o.isCss3Finish=!0},o.options.paginationSpeed)):"rewind"===i?(o.swapSpeed(o.options.rewindSpeed),e.setTimeout(function(){o.isCss3Finish=!0},o.options.rewindSpeed)):(o.swapSpeed("slideSpeed"),e.setTimeout(function(){o.isCss3Finish=!0},o.options.slideSpeed)),o.transition3d(t)):!0===i?o.css2slide(t,o.options.paginationSpeed):"rewind"===i?o.css2slide(t,o.options.rewindSpeed):o.css2slide(t,o.options.slideSpeed),void o.afterGo()))},jumpTo:function(t){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),t>=this.maximumItem||-1===t?t=this.maximumItem:0>=t&&(t=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[t]):this.css2slide(this.positionsInArray[t],1),this.currentItem=this.owl.currentItem=t,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",e.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var t=this;return t.apStatus="play",!1!==t.options.autoPlay&&(e.clearInterval(t.autoPlayInterval),void(t.autoPlayInterval=e.setInterval(function(){t.next(!0)},t.options.autoPlay)))},swapSpeed:function(t){"slideSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof t&&this.$owlWrapper.css(this.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){this.$owlWrapper.css(this.doTranslate(t))},css2move:function(t){this.$owlWrapper.css({left:t})},css2slide:function(t,e){var i=this;i.isCssFinish=!1,i.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||i.options.slideSpeed,complete:function(){i.isCssFinish=!0}})},checkBrowser:function(){var t=i.createElement("div");t.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",t=t.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==t&&1===t.length,isTouch:"ontouchstart"in e||e.navigator.msMaxTouchPoints}},moveEvents:function(){!1===this.options.mouseDrag&&!1===this.options.touchDrag||(this.gestures(),this.disabledEvents())},eventTypes:function(){var t=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=t[0],this.ev_types.move=t[1],this.ev_types.end=t[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(t){t.preventDefault()}),this.$elem.on("mousedown.disableTextSelect",function(e){return t(e.target).is("input, textarea, select, option")})},gestures:function(){function n(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function o(e){"on"===e?(t(i).on(r.ev_types.move,a),t(i).on(r.ev_types.end,s)):"off"===e&&(t(i).off(r.ev_types.move),t(i).off(r.ev_types.end))}function a(o){o=o.originalEvent||o||e.event,r.newPosX=n(o).x-l.offsetX,r.newPosY=n(o).y-l.offsetY,r.newRelativeX=r.newPosX-l.relativePos,"function"==typeof r.options.startDragging&&!0!==l.dragging&&0!==r.newRelativeX&&(l.dragging=!0,r.options.startDragging.apply(r,[r.$elem])),(8<r.newRelativeX||-8>r.newRelativeX)&&!0===r.browser.isTouch&&(void 0!==o.preventDefault?o.preventDefault():o.returnValue=!1,l.sliding=!0),(10<r.newPosY||-10>r.newPosY)&&!1===l.sliding&&t(i).off("touchmove.owl"),r.newPosX=Math.max(Math.min(r.newPosX,r.newRelativeX/5),r.maximumPixels+r.newRelativeX/5),!0===r.browser.support3d?r.transition3d(r.newPosX):r.css2move(r.newPosX)}function s(i){i=i.originalEvent||i||e.event;var n;i.target=i.target||i.srcElement,l.dragging=!1,!0!==r.browser.isTouch&&r.$owlWrapper.removeClass("grabbing"),r.dragDirection=0>r.newRelativeX?r.owl.dragDirection="left":r.owl.dragDirection="right",0!==r.newRelativeX&&(n=r.getNewPosition(),r.goTo(n,!1,"drag"),l.targetElement===i.target&&!0!==r.browser.isTouch&&(t(i.target).on("click.disable",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.disable")}),i=t._data(i.target,"events").click,n=i.pop(),i.splice(0,0,n))),o("off")}var r=this,l={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};r.isCssFinish=!0,r.$elem.on(r.ev_types.start,".owl-wrapper",function(i){i=i.originalEvent||i||e.event;var a;if(3===i.which)return!1;if(!(r.itemsAmount<=r.options.items)){if(!1===r.isCssFinish&&!r.options.dragBeforeAnimFinish||!1===r.isCss3Finish&&!r.options.dragBeforeAnimFinish)return!1;!1!==r.options.autoPlay&&e.clearInterval(r.autoPlayInterval),!0===r.browser.isTouch||r.$owlWrapper.hasClass("grabbing")||r.$owlWrapper.addClass("grabbing"),r.newPosX=0,r.newRelativeX=0,t(this).css(r.removeTransition()),a=t(this).position(),l.relativePos=a.left,l.offsetX=n(i).x-a.left,l.offsetY=n(i).y-a.top,o("on"),l.sliding=!1,l.targetElement=i.target||i.srcElement}})},getNewPosition:function(){var t=this.closestItem();return t>this.maximumItem?t=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=t=0),t},closestItem:function(){var e=this,i=!0===e.options.scrollPerPage?e.pagesInArray:e.positionsInArray,n=e.newPosX,o=null;return t.each(i,function(a,s){n-e.itemWidth/20>i[a+1]&&n-e.itemWidth/20<s&&"left"===e.moveDirection()?(o=s,e.currentItem=!0===e.options.scrollPerPage?t.inArray(o,e.positionsInArray):a):n+e.itemWidth/20<s&&n+e.itemWidth/20>(i[a+1]||i[a]-e.itemWidth)&&"right"===e.moveDirection()&&(!0===e.options.scrollPerPage?(o=i[a+1]||i[i.length-1],e.currentItem=t.inArray(o,e.positionsInArray)):(o=i[a+1],e.currentItem=a+1))}),e.currentItem},moveDirection:function(){var t;return 0>this.newRelativeX?(t="right",this.playDirection="next"):(t="left",this.playDirection="prev"),t},customEvents:function(){var t=this;t.$elem.on("owl.next",function(){t.next()}),t.$elem.on("owl.prev",function(){t.prev()}),t.$elem.on("owl.play",function(e,i){t.options.autoPlay=i,t.play(),t.hoverStatus="play"}),t.$elem.on("owl.stop",function(){t.stop(),t.hoverStatus="stop"}),t.$elem.on("owl.goTo",function(e,i){t.goTo(i)}),t.$elem.on("owl.jumpTo",function(e,i){t.jumpTo(i)})},stopOnHover:function(){var t=this;!0===t.options.stopOnHover&&!0!==t.browser.isTouch&&!1!==t.options.autoPlay&&(t.$elem.on("mouseover",function(){t.stop()}),t.$elem.on("mouseout",function(){"stop"!==t.hoverStatus&&t.play()}))},lazyLoad:function(){var e,i,n,o,a;if(!1===this.options.lazyLoad)return!1;for(e=0;e<this.itemsAmount;e+=1)i=t(this.$owlItems[e]),"loaded"!==i.data("owl-loaded")&&(n=i.data("owl-item"),o=i.find(".lazyOwl"),"string"!=typeof o.data("src")?i.data("owl-loaded","loaded"):(void 0===i.data("owl-loaded")&&(o.hide(),i.addClass("loading").data("owl-loaded","checked")),(a=!0!==this.options.lazyFollow||n>=this.currentItem)&&n<this.currentItem+this.options.items&&o.length&&this.lazyPreload(i,o)))},lazyPreload:function(t,i){function n(){t.data("owl-loaded","loaded").removeClass("loading"),i.removeAttr("data-src"),"fade"===s.options.lazyEffect?i.fadeIn(400):i.show(),"function"==typeof s.options.afterLazyLoad&&s.options.afterLazyLoad.apply(this,[s.$elem])}function o(){r+=1,s.completeImg(i.get(0))||!0===a?n():100>=r?e.setTimeout(o,100):n()}var a,s=this,r=0;"DIV"===i.prop("tagName")?(i.css("background-image","url("+i.data("src")+")"),a=!0):i[0].src=i.data("src"),o()},autoHeight:function(){function i(){var i=t(a.$owlItems[a.currentItem]).height();a.wrapperOuter.css("height",i+"px"),a.wrapperOuter.hasClass("autoHeight")||e.setTimeout(function(){a.wrapperOuter.addClass("autoHeight")},0)}function n(){o+=1,a.completeImg(s.get(0))?i():100>=o?e.setTimeout(n,100):a.wrapperOuter.css("height","")}var o,a=this,s=t(a.$owlItems[a.currentItem]).find("img");void 0!==s.get(0)?(o=0,n()):i()},completeImg:function(t){return!(!t.complete||"undefined"!=typeof t.naturalWidth&&0===t.naturalWidth)},onVisibleItems:function(){var e;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],e=this.currentItem;e<this.currentItem+this.options.items;e+=1)this.visibleItems.push(e),!0===this.options.addClassActive&&t(this.$owlItems[e]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(t){this.outClass="owl-"+t+"-out",this.inClass="owl-"+t+"-in"},singleItemTransition:function(){var t=this,e=t.outClass,i=t.inClass,n=t.$owlItems.eq(t.currentItem),o=t.$owlItems.eq(t.prevItem),a=Math.abs(t.positionsInArray[t.currentItem])+t.positionsInArray[t.prevItem],s=Math.abs(t.positionsInArray[t.currentItem])+t.itemWidth/2;t.isTransition=!0,t.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":s+"px","-moz-perspective-origin":s+"px","perspective-origin":s+"px"}),o.css({position:"relative",left:a+"px"}).addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endPrev=!0,o.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(o,e)}),n.addClass(i).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endCurrent=!0,n.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(n,i)})},clearTransStyle:function(t,e){t.css({position:"",left:""}).removeClass(e),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),t(i).off(".owl owl"),t(e).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),e.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(e){e=t.extend({},this.userOptions,e),this.unWrap(),this.init(e,this.$elem)},addItem:function(t,e){var i;return!!t&&(0===this.$elem.children().length?(this.$elem.append(t),this.setVars(),!1):(this.unWrap(),i=void 0===e||-1===e?-1:e,i>=this.$userItems.length||-1===i?this.$userItems.eq(-1).after(t):this.$userItems.eq(i).before(t),void this.setVars()))},removeItem:function(t){return 0!==this.$elem.children().length&&(t=void 0===t||-1===t?-1:t,this.unWrap(),this.$userItems.eq(t).remove(),void this.setVars())}};t.fn.owlCarousel=function(e){return this.each(function(){if(!0===t(this).data("owl-init"))return!1;t(this).data("owl-init",!0);var i=Object.create(n);i.init(e,this),t.data(this,"owlCarousel",i)})},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document);var global={time:200,desktopXlSize:1599,desktopLgSize:1379,desktopSize:1199,tabletLgSize:959,tabletSize:767,mobileSize:479,isTouch:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}};$(".info-panel__close").click(function(){$(".info-panel").hide()}),$("#contact-usPhone, .supplier-form #phone-number").inputmask({mask:"+7 (999) 999-99-99"});var accordion=function(){var t=location.hash.slice(1),e=0;e=t.length>0?$(".column-right .accordion div.accordion__content").index($("div.accordion__content[data-id="+t+"]")):0,$(".accordion").accordion({header:".accordion__header",animate:global.time,heightStyle:"content",active:e,beforeActivate:function(t,e){if($(t.currentTarget).hasClass("is-disabled"))return!1}})},shopFilterAccordion=function(){$(".shops-filter-accordion").accordion({header:".shops-filter-accordion__header",animate:global.time,heightStyle:"content",beforeActivate:function(t,e){if($(t.currentTarget).hasClass("is-disabled"))return!1}})};$(window).load(function(){accordion(),shopFilterAccordion()}),$(document).ready(function(){tabPanel()}),$.extend($.validator.messages,{required:"Обязательное поле",remote:"Исправьте это поле",email:"Некорректный e-mail",emailValidate:"Некорректный e-mail",url:"Некорректный url",date:"Некорректная дата",dateISO:"Некорректная дата (ISO).",number:"Некорректное число",digits:"Cимволы 0-9",creditcard:"Некорректный номер карты",equalTo:"Не совпадает с предыдущим значением",accept:"Недопустимое расширение",maxlength:$.validator.format("Максимум {0} символов"),minlength:$.validator.format("Минимум {0} символов"),rangelength:$.validator.format("Минимум {0} и максимумт {1} символов"),range:$.validator.format("Допустимо знаечение между {0} и {1}"),max:$.validator.format("Допустимо значение меньше или равное {0}."),min:$.validator.format("Допустимо значение больше или равное {0}."),nameFormatRu:'Cимволы А-Я, а-я, " ", "-"',nameFormatEn:'Cимволы A-Z, a-z, " ", "-"',nameFormatAll:'Cимволы A-Z, a-z, А-Я, а-я, " ", "-"',phoneFormat:"Пожалуйста, вводите только цифры",numLetterFormatRu:"Cимволы А-Я, а-я, 0-9",numLetterFormatEn:"Cимволы A-Z, a-z, 0-9",numLetterFormatAll:"Cимволы A-Z, a-z, А-Я, а-я, 0-9",dateFormatRu:"Формат DD.MM.YYYY",maxlengthAdditional:"Максимум {0} символов"}),$.validator.addMethod("nameFormatRu",function(t,e){return t.match(/^^[А-яЁё\- ]*$/)}),$.validator.addMethod("emailValidate",function(t,e){return t.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}),$.validator.addMethod("nameFormatEn",function(t,e){return t.match(/^^[A-z\- ]*$/)}),$.validator.addMethod("nameFormatAll",function(t,e){return t.match(/^^[А-яЁёA-z\- ]*$/)}),$.validator.addMethod("phoneFormat",function(t,e){return t.match(/^^[0-9\-+() ]*$/)}),$.validator.addMethod("numLetterFormatRu",function(t,e){return t.match(/^^[0-9А-яЁё]*$/)}),$.validator.addMethod("numLetterFormatEn",function(t,e){return t.match(/^^[0-9A-z]*$/)}),$.validator.addMethod("numLetterFormatAll",function(t,e){return t.match(/^^[А-яЁёA-z0-9]*$/)}),$.validator.addMethod("dateFormatRu",function(t,e){return""==t||t.match(/^(?:(?:31(\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/)}),$.validator.addMethod("maxlengthAdditional",function(t,e,i){return this.optional(e)||t.length<=i}),$.fn.isValid=function(){var t=this[0].checkValidity();if(t){var e=this[0];if(e.length>0)for(var i=0;i<e.length;i++)if("registration-email"==e[i].id||"subscribe-mail"==e[i].id||"registration-email"==e[i].id||1==$(e[i]).data("rule-emailvalidate")){var n=e[i].value.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);if(null==n)return!1;break}}return t};var errorClass="error-form";$.validator.setDefaults({errorElement:"p",errorClass:errorClass,errorPlacement:function(t,e){errorPlacementCheck(t,e),setTimeout(function(){$(t).remove()},3e3)},success:function(t){t.remove()}}),$(document).on("keyup change",'form[data-validate="true"]:not("#process-order-form") input',function(){var t=$(this).closest('form[data-validate="true"]'),e=t.find('[type="submit"], [data-submit="true"]');t.isValid()?e.prop("disabled",!1):e.prop("disabled",!0)}),$(document).on("click",'form[data-validate="true"]:not("#process-order-form") option',function(){var t=$(this).closest('form[data-validate="true"]'),e=t.find('[type="submit"], [data-submit="true"]');t.isValid()?e.prop("disabled",!1):e.prop("disabled",!0)}),$(document).ready(function(){$('form[data-validate="true"]:not("#process-order-form")').each(function(){$(this).validate({ignore:'[name*="fileInputText"]'})}),$("#process-order-form").validate({onkeyup:function(t){btnState(t)},onclick:function(t){btnState(t)},onfocusout:function(t){btnState(t)}});var t=$("form[data-validate='true'] input:filled, form[data-validate='true'] select:filled");t.each(function(){"checkbox"===$(this).attr("type")||"radio"===$(this).attr("type")||$(this).hasClass("valid")||$(this).is(":disabled")||$(this).is(":hidden")||$(this).closest().is(":hidden")||$(this).valid()})}),$(document).on("click","[data-validate-id]",function(){var t=$(this).data("validate-id");$(t).valid()}),$(document).on("click",'[type="reset"]',function(){$(this).closest("form").find('[type="submit"], [data-submit="true"]').prop("disabled",!0)}),window.dataLayer&&($('form[data-validate="true"]').each(function(){var t,e=$(this),i=!0,n=!0,o=(new Date).getTime(),a=(new Date).getTime(),s=0;$(this).find("input").focusin(function(n){$(this).closest("form").is(":visible")&&(i&&(a=(new Date).getTime(),i=!1),dataLayer.push({event:"LeroyMerlin_Forms",timingCategory:"Forms",timingVar:"focus",timingValue:(new Date).getTime()-o,timingLabel:null,eventContent:e.attr("id"),eventContext:$(this).attr("name"),errorCode:null,eventAttemptCount:null}),t=$(this).attr("id"))}).focusout(function(t){$(this).closest("form").is(":visible")&&dataLayer.push({event:"LeroyMerlin_Forms",timingCategory:"Forms",timingVar:"unfocus",timingValue:(new Date).getTime()-o,timingLabel:null,eventContent:e.attr("id"),eventContext:$(this).attr("name"),errorCode:null,eventAttemptCount:null})}),$(this).submit(function(t){$(this).is(":visible")&&(s++,n?(dataLayer.push({event:"LeroyMerlin_Forms",timingCategory:"Forms",timingVar:"send",timingValue:(new Date).getTime()-o,
timingLabel:"first",eventContent:$(this).attr("id"),eventContext:null,errorCode:null,eventAttemptCount:null}),n=!1):$(this).find(".error-form").length>0?dataLayer.push({event:"LeroyMerlin_Forms",timingCategory:"Forms",timingVar:"send",timingValue:(new Date).getTime()-o,timingLabel:"unsuccessful",eventContent:$(this).attr("id"),eventContext:null,errorCode:null,eventAttemptCount:null}):dataLayer.push({event:"LeroyMerlin_Forms",timingCategory:"Forms",timingVar:"send",timingValue:(new Date).getTime()-o,timingLabel:"successful",eventContent:$(this).attr("id"),eventContext:null,errorCode:null,eventAttemptCount:null}))})}),window.onbeforeunload=function(t){window.event.clientY<0&&dataLayer.push({event:"LeroyMerlin_Forms",timingCategory:"Forms",timingVar:"leave",timingValue:(new Date).getTime()-startTime,timingLabel:"close",eventContent:lastActiveField.closest("form").attr("id"),eventContext:lastActiveField,errorCode:null,eventAttemptCount:registerAttempts})}),$.fn.customSelect=function(){var t=this;t.each(function(){var t=$(this);if(!t.hasClass("select2-hidden-accessible")&&!t.hasClass("angular")){var e,i=t.data("search"),n=t.attr("class");e=i?1:1/0,t.select2({minimumResultsForSearch:e,selectOnBlur:!0,dropdownCssClass:"error",language:{noResults:function(){return"Введите адрес"}}}),t.next(".select2").addClass(n),t.on("change",function(e){t.closest('[data-validate="true"]').length>0&&t.valid(),t.find('option[value="'+t.context.value+'"]').click()})}})},$.fn.customCheck=function(){function t(){e.switchState($(this))}var e=this;e.each(function(){var t=$(this).closest("label");$(this).attr("checked",$(this).attr("checked")),$(this).prop("checked")&&t.addClass("is-active"),$(this).prop("disabled")&&t.addClass("is-disabled")}),e.on("click",t),e.switchState=function(t){if(!t.parent("label").hasClass("compare-check"))if("checkbox"==t.prop("type"))t.parent().toggleClass("is-active");else{var e=t.attr("name");$('[name="'+e+'"]').parent("label").removeClass("is-active"),t.parent("label").addClass("is-active"),t.closest(".cart-choose-way").length>0&&(t.closest(".cart-choose-way").find(".is-selected").removeClass("is-selected"),t.closest("div").addClass("is-selected"))}}},$.fn.customFileInput=function(){this.each(function(t,e){var i=$(e);if("undefined"==typeof i.attr("data-bfi-disabled")){var n="Browse";"undefined"!=typeof i.attr("title")&&(n=i.attr("title"));var o="";i.attr("class")&&(o=" "+i.attr("class")),i.wrap('<div class="custom-file"><a class="btn '+o+'"></a></div>').parent().prepend($("<span></span>").html(n))}}).promise().done(function(){$(".custom-file").mousemove(function(t){var e,i,n,o,a,s,r,l;i=$(this),e=i.find("input"),n=i.offset().left,o=i.offset().top,a=e.width(),s=e.height(),r=t.pageX,l=t.pageY,moveInputX=r-n-a+20,moveInputY=l-o-s/2,e.css({left:moveInputX,top:moveInputY})}),$("body").on("change",".custom-file input[type=file]",function(){var t;if(t=$(this).val(),$(this).parent().next(".custom-file__name").remove(),t=$(this).prop("files")&&$(this).prop("files").length>1?$(this)[0].files.length+" files":t.substring(t.lastIndexOf("\\")+1,t.length)){var e=$(this).data("filename-placement");"inside"===e?($(this).siblings("span").html(t),$(this).attr("title",t)):$(this).parent().after('<span class="custom-file__name">'+t+"</span>")}})})},$(window).load(function(){$('input[data-custom="check"]').customCheck(),$('input[type="file"]:not([multiple])').customFileInput(),$("select").not(".sp-summary-footer-order-selector-select").customSelect()}),$('[data-mask="phoneRu"]').inputmask({mask:"+7 (999) 999-99-99"});var TabSwitcher=function(){var t=this,e=$(".tabs");e.each(function(){$(this).find(".tabs__link.is-active").next().addClass("is-open")}),e.on("click",".tabs__link",function(e){$(this).hasClass("is-disabled")||t.open($(this),e)}),$(document).on("click","[data-tab-open]",function(e){var i=$(this).data("tab-open");if(t.open($(i),e),void 0==$(this).data("popup"))return!1}),t.open=function(t,i){if(t.hasClass("is-active"))i.preventDefault();else{t.is("a")||i.preventDefault();var n=t.closest(e);n.find(".is-open").removeClass("is-open"),t.next().toggleClass("is-open"),n.find(".is-active").removeClass("is-active"),t.addClass("is-active")}}},TabSwitcherUp=function(){var t=this,e=$(".tabs-up");e.each(function(){$(this).find(".tabs-up__link.is-active").next().addClass("is-open")}),e.on("click",".tabs-up__link",function(e){t.open($(this),e)}),$(document).on("click","[data-tab-open]",function(e){var i=$(this).data("tab-open");if(t.open($(i),e),void 0==$(this).data("popup"))return!1}),t.open=function(t,i){if(t.hasClass("is-active"))i.preventDefault();else{t.is("a")||i.preventDefault();var n=t.closest(e);n.find(".is-open").removeClass("is-open"),t.next().toggleClass("is-open"),n.find(".is-active").removeClass("is-active"),t.addClass("is-active")}}},tabSwitcher=new TabSwitcher,tabSwitcherUp=new TabSwitcherUp,visibilityControl=function(){function t(t,i,n,o){for(var a=0;a<n.length;a++)i==e.types[0]&&$(n[a]).delay(o).fadeIn(global.time),i==e.types[1]&&$(n[a]).fadeOut(global.time),i==e.types[2]&&($(n[a]).is(":visible")?($(n[a]).fadeOut(global.time),t.removeClass("is-open")):($(n[a]).fadeIn(global.time),t.addClass("is-open")))}var e={types:["show","hide","toggle"]};$("[data-visibility]").length>0&&$(document).on("click","[data-visibility]",function(){for(var i,n=0;n<e.types.length;n++)if(i=e.types[n],$(this).data(i)){var o=$(this).data(i).split("|"),a=0;a="show"==$(this).data("queue")?global.time:0,t($(this),i,o,a)}if(!$(this).hasClass("tabs__link")&&"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type"))return!1})};$(".js-toggle-visibility-text").length>0&&$(document).on("click",".js-toggle-visibility-text",function(){"Скрыть"==$(this).text()?$(this).text("Показать"):$(this).text("Скрыть")}),$(".js-toggle-visibility-sections").length>0&&$(document).on("click",".js-toggle-visibility-sections",function(){"Скрыть"==$(this).text()?$(this).text("Показать больше ("+$(this).data("count")+")"):$(this).text("Скрыть")}),$(document).on("click",".btn_show_more",function(){return $(".hide").addClass("not-hide").removeClass("hide"),$(this).addClass("btn_hide").removeClass("btn_show_more").text("Скрыть характеристики"),!1}),$(document).on("click",".btn_hide",function(){return $(".not-hide").addClass("hide").removeClass("not-hide"),$(this).addClass("btn_show_more").removeClass("btn_hide").text("Полные характеристики"),!1}),visibilityControl();var showContent=function(){$("[data-show-content]").length>0&&$(document).on("click","[data-show-content]",function(){var t=$(this).data("show-content");return $(t).css({height:"auto",maxHeight:"none"}).addClass("is-open"),$(this).css({display:"none"}),!1})};showContent(),$(window).load(function(){customizeScrollbar()});var Datepicker=function(){var t,e,i=$(".datepicker");i.each(function(){var i=($(this),$(this).find('[data-date-picker="date"]'));t=i.data("date-min"),e=i.data("date-max"),i.datepicker({showOtherMonths:!0,minDate:t||null,maxDate:e||null,onSelect:function(){$(this).valid(),$(this).keyup().blur(),$(this).change()}})})},datepicker=new Datepicker,dateT=makeCalDate(new Date),Calendar=function(){var t=$("#calendar");t.each(function(){$(this).datepicker({regional:"ru",numberOfMonths:2,showOtherMonths:!1,showButtonPanel:!1,nextText:"",prevText:"",beforeShowDay:function(t){return makeCalDate(t)<dateT&&window.selectDate[makeCalDate(t)]?[!1,"clickspan calendar_old"]:window.selectDate[makeCalDate(t)]?[!1,"clickspan calendar_current"]:[!1,""]},onChangeMonthYear:function(t,e,i){saveDate()}})})},calendar=new Calendar;$(window).ready(function(){saveDate()});var Slider=function(){var t,e,i,n,o=$(".slider");o.each(function(){var o=$(this),a=o.find(".slider__range");t=a.data("min"),e=a.data("max"),i=a.data("step"),n=a.data("values").split(", "),a.slider({range:!0,min:t||null,max:e||null,step:i||1,values:n,slide:function(t,e){o.find(".slider__start").val(e.values[0]),o.find(".slider__end").val(e.values[1])}}),o.find(".slider__start").val(a.slider("values",0)),o.find(".slider__end").val(a.slider("values",1))})},catalogCarouselInit=function(){if($(".catalog-carousel").length>0){var t=$(".catalog-carousel");t.each(function(t,e){var i=$(e).find(".jcarousel-stage-prev"),n=$(e).find(".jcarousel-stage-next");if($(e).hasClass("sidebar-advice-carousel")){var o=$(".catalog.catalog_col-1 li",e).length;o>0&&$(".advices-sidebar .buy-with").show();var a=279*Math.floor($(".advices-content").height()/279);279*o<a&&(a=279*o),$(".catalog-carousel__stage",e).css("height",a),i=i.add(".jcarousel-stage-advice-bottom-prev"),n=n.add(".jcarousel-stage-advice-bottom-next"),insertIvtkBanner()}if($(e).is(":visible")){var s,r,l=$(e).find(".catalog-carousel__stage");l.data("jcarousel")||(l.on("jcarousel:reload jcarousel:create",function(){var t=$(this),e=t.closest(".jcarousel-wrapper").innerWidth();$(window).width();r=6,t.closest(".buy-with").length>0&&(r=1,global.isTouch()?(l.on("touchmove",function(t){t.preventDefault()}),l.swipe({swipeUp:function(){n.trigger("click")},swipeDown:function(){i.trigger("click")}})):l.on("mousewheel",function(t){t.preventDefault();var e=t.deltaY||t.detail||t.wheelDelta;e>0?i.trigger("click"):n.trigger("click")})),t.closest(".added-popup").length>0&&(r=5),s=!!t.hasClass("jcarousel-vertical")||null,e/=r,t.jcarousel("items").css({width:e+"px"})}).on("jcarousel:destroy jcarousel:create",function(){$(e).addClass("loading")}).on("jcarousel:reloadend jcarousel:createend",function(){$(e).removeClass("loading"),$(e).find("li").size()<=r&&!s&&setTimeout(function(){$(e).find(".jcarousel-stage-prev, .jcarousel-stage-next").addClass("is-disabled")},250)}).jcarousel({wrap:"circular",vertical:s}),i.on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"-=1"}),n.on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"+=1"}))}})}},mainbannerCarouselInit=function(){if($(".main-slider-carousel").length>0){var t=$(".main-slider-carousel .jcarousel"),e=1e3*$(".main-slider__list .main-slider__item:first").data("interval")||3e3;t.on("jcarousel:reload jcarousel:create",function(){var t=$(this);t.closest(".jcarousel-wrapper").addClass("loading");var e=t.closest(".jcarousel-wrapper").innerWidth(),i=($(window).width(),1);e/=i,t.jcarousel("items").css({width:Math.floor(e)+"px"})}).on("jcarousel:reloadend jcarousel:createend",function(){$(this).closest(".jcarousel-wrapper").removeClass("loading")}).jcarousel({wrap:"circular"}).jcarouselAutoscroll({interval:e,target:"+=1",autostart:!0}),t.siblings(".jcarousel-main-prev").on("jcarouselcontrol:active",function(){$(this).removeClass("inactive")}).on("jcarouselcontrol:inactive",function(){$(this).addClass("inactive")}).jcarouselControl({target:"-=1"}),t.siblings(".jcarousel-main-next").on("jcarouselcontrol:active",function(){$(this).removeClass("inactive")}).on("jcarouselcontrol:inactive",function(){$(this).addClass("inactive")}).jcarouselControl({target:"+=1"}),t.siblings(".jcarousel-pagination").on("jcarouselpagination:active","a",function(){$(this).addClass("is-active"),e=1e3*t.jcarousel("visible").data("interval")||3e3,t.jcarouselAutoscroll({interval:e,target:"+=1",autostart:!0})}).on("jcarouselpagination:inactive","a",function(){$(this).removeClass("is-active")}).jcarouselPagination({}),t.on("mouseover",function(){$(this).jcarouselAutoscroll("stop")}).on("mouseleave",function(){$(this).jcarouselAutoscroll("start")})}},marksCarouselInit=function(){if($(".marks-carousel").length>0){var t=$(".marks-carousel .jcarousel");t.on("jcarousel:reload jcarousel:create",function(){var t=$(this);$(this).closest(".jcarousel-wrapper").addClass("loading");var e=t.closest(".jcarousel-wrapper").innerWidth()-90,i=($(window).width(),8);e/=i,t.jcarousel("items").css({width:Math.floor(e)+"px"})}).on("jcarousel:reloadend jcarousel:createend",function(){$(this).closest(".jcarousel-wrapper").removeClass("loading")}).jcarousel({wrap:"circular"}),t.siblings(".jcarousel-stage-prev").on("jcarouselcontrol:active",function(){$(this).removeClass("inactive")}).on("jcarouselcontrol:inactive",function(){$(this).addClass("inactive")}).jcarouselControl({target:"-=1"}),t.siblings(".jcarousel-stage-next").on("jcarouselcontrol:active",function(){$(this).removeClass("inactive")}).on("jcarouselcontrol:inactive",function(){$(this).addClass("inactive")}).jcarouselControl({target:"+=1"})}},projectCarouselInit=function(){if($(".projects-carousel").length>0){var t=$(".projects-carousel .jcarousel");t.on("jcarousel:reload jcarousel:create",function(){var t=$(this);$(this).closest(".jcarousel-wrapper").addClass("loading");var e=t.closest(".jcarousel-wrapper").innerWidth()-90,i=($(window).width(),4);e/=i,t.jcarousel("items").css({width:Math.floor(e)+2+"px"})}).on("jcarousel:reloadend jcarousel:createend",function(){$(this).closest(".jcarousel-wrapper").removeClass("loading")}).jcarousel({wrap:"circular"}),t.siblings(".jcarousel-main-prev").on("jcarouselcontrol:active",function(){$(this).removeClass("inactive")}).jcarouselControl({target:"-=1"}),t.siblings(".jcarousel-main-next").on("jcarouselcontrol:active",function(){$(this).removeClass("inactive")}).jcarouselControl({target:"+=1"})}},menuCatalogCarouselInit=function(){if($(".menu-catalog-carousel").length>0){var t=$(".menu-catalog-carousel");t.each(function(t,e){if($(e).is(":visible")){var i,n,o=$(e).find(".menu-catalog-carousel__stage");o.data("jcarousel")||(o.on("jcarousel:reload jcarousel:create",function(){var t=$(this),e=t.closest(".jcarousel-wrapper").innerWidth();$(window).width();n=4,t.closest(".buy-with").length>0&&(n=1),i=!!t.hasClass("jcarousel-vertical")||null,e=(e-140)/n,t.jcarousel("items").css({width:Math.floor(e)+"px"})}).on("jcarousel:destroy jcarousel:create",function(){$(e).addClass("loading")}).on("jcarousel:reloadend jcarousel:createend",function(){$(e).removeClass("loading"),$(e).find("li").size()<=n&&!i&&setTimeout(function(){$(e).find(".jcarousel-stage-prev, .jcarousel-stage-next").addClass("is-disabled")},250)}).jcarousel({wrap:"circular",vertical:i}),$(e).find(".jcarousel-stage-prev").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"-=1"}),$(e).find(".jcarousel-stage-next").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"+=1"}))}})}},advicesCarouselInit=function(){if($(".advices-carousel").length>0){var t=$(".advices-carousel");t.each(function(t,e){if($(e).is(":visible")){var i,n,o=$(e).find(".advices-carousel__stage");o.data("jcarousel")||(o.on("jcarousel:reload jcarousel:create",function(){var t=$(this),e=t.closest(".jcarousel-wrapper").innerWidth();$(window).width();n=$(".advices-carousel").hasClass("advices-carousel_video")?5:4,widthGutter=$(".advices-carousel").hasClass("advices-carousel_video")?40:45,e=(e-widthGutter)/n,t.jcarousel("items").css({width:Math.floor(e)+"px"})}).on("jcarousel:destroy jcarousel:create",function(){$(e).addClass("loading")}).on("jcarousel:reloadend jcarousel:createend",function(){$(e).removeClass("loading"),$(e).find("li").size()<=n&&!i&&setTimeout(function(){$(e).find(".jcarousel-stage-prev, .jcarousel-stage-next").addClass("is-disabled")},250)}).jcarousel({wrap:"circular",vertical:i}),$(e).find(".jcarousel-stage-prev").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"-=1"}),$(e).find(".jcarousel-stage-next").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"+=1"}))}})}},diyCarouselInit=function(){if($(".diy-carousel").length>0){var t=$(".diy-carousel");t.each(function(t,e){if($(e).is(":visible")){var i,n,o=$(e).find(".diy-carousel__stage");o.data("jcarousel")||(o.on("jcarousel:reload jcarousel:create",function(){var t=$(this),e=t.closest(".jcarousel-wrapper").innerWidth();$(window).width();n=3,i=!!t.hasClass("jcarousel-vertical")||null,e=(e-30)/n,t.jcarousel("items").css({width:e+"px"})}).on("jcarousel:destroy jcarousel:create",function(){$(e).addClass("loading")}).on("jcarousel:reloadend jcarousel:createend",function(){$(e).removeClass("loading"),$(e).find("li").size()<=n&&!i&&setTimeout(function(){$(e).find(".jcarousel-stage-prev, .jcarousel-stage-next").addClass("is-disabled")},250)}).jcarousel({wrap:"circular",vertical:i}),$(e).find(".jcarousel-stage-prev").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"-=1"}),$(e).find(".jcarousel-stage-next").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"+=1"}))}})}},servicesCarouselInit=function(){if($(".services-carousel").length>0){var t=$(".services-carousel");t.each(function(t,e){if($(e).is(":visible")){var i,n,o=$(e).find(".services-carousel__stage");o.data("jcarousel")||(o.on("jcarousel:reload jcarousel:create",function(){var t=$(this),e=t.closest(".jcarousel-wrapper").innerWidth();$(window).width();n=4,t.closest(".buy-with").length>0&&(n=1),i=!!t.hasClass("jcarousel-vertical")||null,e/=n,t.jcarousel("items").css({width:e+"px"})}).on("jcarousel:destroy jcarousel:create",function(){$(e).addClass("loading")}).on("jcarousel:reloadend jcarousel:createend",function(){$(e).removeClass("loading"),$(e).find("li").size()<=n&&!i&&setTimeout(function(){$(e).find(".jcarousel-stage-prev, .jcarousel-stage-next").addClass("is-disabled")},250)}).jcarousel({wrap:"circular",vertical:i}),$(e).find(".jcarousel-stage-prev").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"-=1"}),$(e).find(".jcarousel-stage-next").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"+=1"}))}})}},advicesVideoCarouselInit=function(){if($(".advice-video-carousel").length>0){var t=$(".advice-video-carousel");t.each(function(t,e){if($(e).is(":visible")){var i,n,o=$(e).find(".advice-video-carousel__stage");o.data("jcarousel")||(o.on("jcarousel:reload jcarousel:create",function(){var t=$(this),e=t.closest(".jcarousel-wrapper").innerWidth();$(window).width();n=1,t.jcarousel("items").css({width:Math.floor(e)+"px"})}).on("jcarousel:destroy jcarousel:create",function(){$(e).addClass("loading")}).on("jcarousel:reloadend jcarousel:createend",function(){$(e).removeClass("loading"),$(e).find("li").size()<=n&&!i&&setTimeout(function(){$(e).find(".jcarousel-stage-prev, .jcarousel-stage-next").addClass("is-disabled")},250)}).jcarousel({wrap:"circular",vertical:i}),$(e).find(".jcarousel-stage-prev").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"-=1"}),$(e).find(".jcarousel-stage-next").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"+=1"}))}})}},mainAdvicesCarouselInit=function(){if($(".main-advices-carousel").length>0){var t=$(".main-advices-carousel");t.each(function(t,e){if($(e).is(":visible")){var i,n,o=$(e).find(".main-advices-carousel__stage");o.data("jcarousel")||(o.on("jcarousel:reload jcarousel:create",function(){var t=$(this),e=t.closest(".jcarousel-wrapper").innerWidth();$(window).width();n=4,t.closest(".buy-with").length>0&&(n=1),e/=n,t.jcarousel("items").css({width:e-15+"px"})}).on("jcarousel:destroy jcarousel:create",function(){$(e).addClass("loading")}).on("jcarousel:reloadend jcarousel:createend",function(){$(e).removeClass("loading"),$(e).find("li").size()<=n&&!i&&setTimeout(function(){$(e).find(".jcarousel-stage-prev, .jcarousel-stage-next").addClass("is-disabled")},250)}).jcarousel({wrap:"circular"}),$(e).find(".jcarousel-stage-prev").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"-=1"}),$(e).find(".jcarousel-stage-next").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"+=1"}))}})}},carouselReload=function(t){"true"==t.find(".jcarousel").data("jcarousel")&&t.find(".jcarousel").jcarousel("reload")},carouselDestroy=function(t){"true"==t.find(".jcarousel").data("jcarousel")&&(t.find(".jcarousel").jcarousel("destroy"),t.find("ul").css({top:"",left:""}).find("li").css({width:""}).closest(".jcarousel-wrapper").css({width:""}))};if($(window).load(function(){if(catalogCarouselInit(),mainbannerCarouselInit(),marksCarouselInit(),projectCarouselInit(),menuCatalogCarouselInit(),advicesCarouselInit(),advicesVideoCarouselInit(),diyCarouselInit(),servicesCarouselInit(),mainAdvicesCarouselInit(),$(document).on("click",".js-complement-carousel-reload",function(){carouselReload($("#complement-wrap .catalog-carousel"))}),$(document).on("click",".js-complement-carousel-reload-popup",function(){console.log("#complement-wrap-popup .catalog-carousel = "+$("#complement-wrap-popup .catalog-carousel").length),carouselReload($("#complement-wrap-popup .catalog-carousel"))}),$(document).on("click",".js-recently-viewed-carousel-reload",function(){carouselReload($("#recently-viewed-wrap .catalog-carousel"))}),$(".main-slider-carousel").length>0){var t=$(".jcarousel-pagination",$(".main-slider-carousel")),e=$("a",t),i=t.width(),n=e.eq(-1).offset().left+e.eq(-1).width()-e.eq(0).offset().left+14;t.css("width",n+"px"),t.css("left",i/2-n/2+"px")}}),global.isTouch())$(window).on("orientationchange",function(){});else{var carouselResizeTimer;$(window).resize(function(t){clearTimeout(carouselResizeTimer),carouselResizeTimer=setTimeout(function(){},250)})}var insertIvtkBanner=function(){if($(".catalog__item_ivtk-banner").length>0){var t=$(".sidebar-advice-carousel");if(t&&t.is(":visible")){var e=$(".catalog__item_ivtk-banner").parent(),i=$(".catalog__item:not(.catalog__item_ivtk-banner)",t).length;if(i<=3)e.remove(),$(".js-advices-sidebar-carousel").css("height",274*(i-1));else{var n=Math.floor($(".js-advices-sidebar-carousel").height()/274),o=Math.floor(n/2);$("li.catalog__item",t).eq(o-1).after(e[0].outerHTML),e.remove()}}}};$(document).on("click",".btn_fast_view",function(){var t=$(this).data("art");$.get("/catalogue/fast-view.php",{art:t},function(t){if($("#popup-fast-view").html(t),$("#btnFastView").trigger("click"),!$(".fast-view .spinner").closest(".ui-spinner").length){var e,i,n=$(".fast-view .spinner");n.each(function(){e=$(this).data("spinner-min"),i=$(this).data("spinner-max");var t=$(this).spinner({min:e||0,max:i||1e3});$(this).is(":disabled")?t.spinner("disable"):t.spinner("enable")}),customizeScrollbar(),avalibleToggle()}},"html")});var Popups=function(){var t=this,e=$('[data-popup="open"]'),i=$('[data-modal="open"]'),n=$('[data-popup="iframe"]'),o=($('[data-popup="close"]'),{fitToView:!1,margin:30,padding:0,openSpeed:global.time,closeSpeed:global.time,helpers:{title:null},tpl:{closeBtn:'<a title="Закрыть" class="fancybox-item fancybox-close" href="javascript:;"></a>'}});if(t.open=function(t,e){e=e||{},e&&0!=Object.keys(e).length||$.each(o,function(t,i){e[t]=i}),"#popup-gallery-fullscr"!=t&&"#catalog-kitchen-popup"!==t||(e.margin=0,e.autoSize=!1,e.scrolling=!1,e.width="100%",e.height="100%",e.maxHeight="100%",e.beforeShow=function(){$(".fancybox-overlay").addClass("fancybox-overlay_type_fullscr"),youtubeControls("pause",$(".product-gallery"))},e.afterClose=function(){setTimeout(function(){$(".fancybox-overlay").removeClass("fancybox-overlay_type_fullscr"),youtubeControls("pause",$(".popup_fullscr"))},global.time)}),"#popup-gallery-fullscr"==t&&$('input[data-name="UF_ARTICUL"]').length&&gtmEvent({eventLabel:"image",eventLocation:"ProductPage",eventDivision:$('input[data-name="SECT_1"]').val(),eventSubdivision:$('input[data-name="SECT_2"]').val(),eventCategoryName:$('input[data-name="SECT_3"]').val(),eventCategoryId:$('input[data-name="UF_SECTION"]').val(),eventProductName:$('input[data-name="UF_NAME"]').val(),eventProductId:$('input[data-name="UF_ARTICUL"]').val(),eventProductPrice:$('input[data-name="UF_PRICE"]').val()}),"#popup-kitchen-fullscr"==t&&(e.margin=30,e.autoSize=!1,e.scrolling=!0,e.maxWidth="1100px",e.height="auto",e.width="auto",e.autoCenter=!0,e.beforeShow=function(){},e.afterClose=function(){}),"#dk_modal"==t&&(e.beforeShow=function(){$(".fancybox-skin").addClass("fancybox-overlay_dk"),$(".fancybox-overlay").addClass("fancybox-overlay_dk2")}),e.afterShow=function(){$(".product.fast-view").length>0&&(carouselDestroy($(".fast-view .product-gallery")),productCarouselInit(),roundView.init($(".fast-view .threesixty")),Spinner(),customizeScrollbar(),avalibleToggle(),$('.fast-view input[data-custom="check"]').customCheck()),"#popup-gallery-fullscr"==t&&$(".popup_fullscr .product-gallery").length>0&&(carouselDestroy($(".popup_fullscr .product-gallery")),productCarouselInit(),roundView.init($(".popup_fullscr .threesixty"))),$("body").addClass("open-popup")},t.indexOf("fast-view")>=0&&(e.afterClose=function(){setTimeout(function(){carouselDestroy($(".fast-view .product-gallery")),$(".cursorshade, .statusdiv").hide()},global.time)},"#popup-calculator-floor"==t&&resetFormFloor(),"#popup-calculator-keramogranit"==t&&resetFormKeramogranit(),"#popup-calculator-bathroomtile"==t&&resetFormBathroomtile(),"#popup-calculator-finish"==t&&resetFormFinish(),"#popup-calculator-glue"==t&&resetFormGlue(),"#popup-calculator-isolation"==t&&resetFormIsolation(),"#popup-calculator-kitchentile"==t&&resetFormKitchentile(),"#popup-calculator-klinker"==t&&resetFormKlinker(),"#popup-calculator-mdf"==t&&resetFormMdf(),"#popup-calculator-mineralceil"==t&&resetFormMineralceil(),"#popup-calculator-mozaika"==t&&resetFormMozaika(),"#popup-calculator-osb"==t&&resetFormOsb(),"#popup-calculator-plasterboard"==t&&resetFormPlasterboard(),"#popup-calculator-plasterfloor"==t&&resetFormPlasterfloor(),"#popup-calculator-plasterwall"==t&&resetFormPlasterwall(),"#popup-calculator-plywood"==t&&resetFormPlywood(),"#popup-calculator-pvh"==t&&resetFormPvh(),"#popup-calculator-railceil"==t&&resetFormRailceil(),"#popup-calculator-vagon"==t&&resetFormVagon(),"#popup-calculator-rollupwater"==t&&resetFormRollupwater(),"#popup-calculator-flowwater"==t&&resetFormFlowwater(),"#popup-calculator-wallpaper"==t&&resetFormWallpaper()),e.afterClose=function(){$("body").removeClass("open-popup")},e.href=t,$.fancybox(e),$("body").blur()},t.close=function(){$.fancybox.close()},t.isOpen=function(){var t=!(!arguments.length||!arguments[0])&&arguments[0];return t?$(".fancybox-opened "+t).length>0:$(".fancybox-opened").length>0},e.length>0&&$(document).on("click",'[data-popup="open"]',function(){var e=$(this).attr("href")||$(this).data("href"),i={};return $.each(o,function(t,e){i[t]=e}),($(this).hasClass("catalog-kitchen__zoom")||$(this).hasClass("kost_seo_pic"))&&(i.padding=15,i.fitToView=!0),t.open(e,i),!1}),i.length>0&&$(document).on("click",'[data-modal="open"]',function(){var e=$(this).attr("href")||$(this).data("href"),i={};$.each(o,function(t,e){i[t]=e}),i.modal=!0,i.beforeShow=function(){$(".fancybox-overlay").addClass("fancybox-overlay_type_modal")},i.afterClose=function(){setTimeout(function(){$(".fancybox-overlay").removeClass("fancybox-overlay_type_modal")},global.time)},t.open(e,i)}),n.length>0){var a={};$.each(o,function(t,e){a[t]=e}),a.padding=48,a.beforeShow=function(){$(".fancybox-overlay").addClass("fancybox-overlay_type_iframe")},a.afterClose=function(){setTimeout(function(){$(".fancybox-overlay").removeClass("fancybox-overlay_type_iframe")},global.time)},n.fancybox(a)}$('[data-popup="close"]').length>0&&$(document).on("click",'[data-popup="close"]',function(){t.close()})},popups=new Popups,fileUpload={init:function(t){var e=$(t);e.fileupload({add:function(t,e){var i=[];e.originalFiles[0].size>5e6?(i.push("Размер файла превышает 5 МБ"),console.log("Size: "+e.originalFiles[0].size)):console.log("Size: "+e.originalFiles[0].size),i.length>0?alert(i.join("\n")):e.submit()},dataType:"json",autoUpload:!1}).on("fileuploaddone",function(t,e){$.each(e.result.files,function(e,i){var n=$(t.target).closest(".multiple-upload").find(".multiple-upload__files"),o=$("<a>",{"class":"multiple-upload__remove btn btn_link btn_sm",text:"Удалить","data-type":i.deleteType,"data-url":i.deleteUrl}).prepend('<span class="icon icon-cross-round" />'),a=$("<p>",{"class":"multiple-upload__item",text:i.name}).append(o);a.appendTo(n),$(document).on("click",".multiple-upload__remove",function(t){t.preventDefault();var e=$(this),i=$.ajax({dataType:"json",url:e.data("url"),type:"DELETE"});i.success(function(){e.closest("p").remove()})})})}).on("fileuploadfail",function(t,e){$.each(e.files,function(t){var i=$('<span class="text-danger"/>').text("File upload failed.");$(e.context).append("<br>").append(i)})}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}};$(".multiple-upload").each(function(t,e){var i=$(e).find('input:not("#fileupload_1")');fileUpload.init(i)}),$("#fileupload_1").on("change",function(t){$(t.target).closest(".multiple-upload").find(".multiple-upload__files").empty();for(var e=$("#fileupload_1")[0].files,i=0;i<e.length;i++)if(e[i].size>5e6)return alert("Размер файла "+e[i].name+" превышает 5 МБ"),!1;var n=$(t.target).closest(".multiple-upload").find(".multiple-upload__files"),o=$("<a>",{"class":"multiple-upload__remove btn btn_link btn_sm",text:"Удалить файлы из загрузки",style:"margin-left: 0 !important;"}).prepend('<span class="icon icon-cross-round" />'),a=$("<p>",{"class":"multiple-upload__item"}).append(o);e.length>0&&a.appendTo(n),$.each(e,function(t,e){var i=$("<p>",{"class":"multiple-upload__item",text:e.name});i.appendTo(n)}),$(document).on("click",".multiple-upload__remove",function(t){t.preventDefault(),$(t.target).closest(".multiple-upload").find(".multiple-upload__files").empty(),$("#fileupload_1").replaceWith($("#fileupload_1").val("").clone(!0))})});var positionAdd=function(){var t=this,e=$("#template-position").html(),i=$(".supplier-form__positions-row"),n=i.find(".supplier-form__positions-count").size(),o=$(".js-add-position");t.add=function(){if(n+=1,n<=5){templateChange=e.replace(/{{id}}/g,n-1);var t=$(templateChange);i.append(t),t.find('input[type="file"]').customFileInput()}},o.on("click",function(){t.add()})},positionAdd=new positionAdd,tooltip=function(){var t=$(".tooltip");t.each(function(){$(this).tooltip({position:{my:"left+6 bottom-8",at:"left+6 top-8",collision:"flip",using:function(t,e){$(this).css(t).addClass(e.vertical+" "+e.horizontal)}},content:function(){return $(this).prop("title")}})})},tooltipWhite=function(){var t=$(".tooltip_white");t.each(function(){$(this).tooltip({position:{my:"left+6 bottom-8",at:"left+3 top-40",collision:"flip",using:function(t,e){$(this).css(t).addClass(e.vertical+" "+e.horizontal+" white")}},content:function(){return $(this).prop("title")},open:function(t,e){0==$(t.target).closest(".header-main").length&&$(e.tooltip).addClass("zindex-sm")},close:function(t,e){e.tooltip.hover(function(){$(this).stop(!0).fadeTo(400,1)},function(){$(this).fadeOut("400",function(){$(this).remove()})})}})})},tooltipGreen=function(){
var t=$(".tooltip_green");t.each(function(){$(this).tooltip({position:{my:"left-4 bottom",at:"left-4 top",collision:"flip",using:function(t,e){$(this).css(t).addClass(e.vertical+" "+e.horizontal+" green")}},content:function(){return $(this).prop("title")},open:function(t,e){0==$(t.target).closest(".header-main").length&&$(e.tooltip).addClass("zindex-sm")},close:function(t,e){e.tooltip.hover(function(){$(this).stop(!0).fadeTo(400,1)},function(){$(this).fadeOut("400",function(){$(this).remove()})})}})})};$(window).load(function(){tooltip(),tooltipWhite(),tooltipGreen()}),$(".tooltip-prod").on("mouseout",function(t){t.stopImmediatePropagation()}),$(document).on("click",".tooltip-prod",function(t){if($(".prod-tooltip").length>0){var e=$(".prod-tooltip").attr("id"),i=$(".tooltip-prod.on[aria-describedby="+e+"]");$(".prod-tooltip").remove(),$(".tooltip-prod.on").removeClass("on"),$(i).tooltip("close")}$(this).addClass("on"),$(this).tooltip({items:".tooltip-prod.on",position:{my:"left+6 bottom-8",at:"left+6 top-8",collision:"none",using:function(t,e){$(this).css(t).addClass(e.vertical+" "+e.horizontal)}},tooltipClass:"prod-tooltip",content:function(){return $(this).data("title")}}),$(this).trigger("mouseover"),t.stopImmediatePropagation()}),$(document).on("click",".tooltip-prod.on",function(t){$(this).tooltip("close"),$(this).removeClass("on"),t.stopImmediatePropagation()}),$(document).on("click",".prod-tooltip .close",function(t){var e=$(this).parents(".prod-tooltip").attr("id"),i=$(".tooltip-prod.on[aria-describedby="+e+"]");$(i).tooltip("close"),$(i).removeClass("on"),t.stopImmediatePropagation()}),$(document).on("click",':not(".prod-tooltip"), :not(".tooltip-prod")',function(t){if($(".prod-tooltip").length>0){var e=$(t.target).parents(".prod-tooltip");if($(e).length<=0){var i=$(".prod-tooltip").attr("id"),n=$(".tooltip-prod.on[aria-describedby="+i+"]");$(n).tooltip("close"),$(n).removeClass("on"),t.stopImmediatePropagation()}}}),$(document).ajaxSuccess(tooltip),$(document).ajaxSuccess(tooltipWhite),$(document).ajaxSuccess(tooltipGreen);var Spinner=function(){var t,e,i=this,n=$(".spinner");n.each(function(){if(!$(this).hasClass("ui-spinner-input")){t=$(this).data("spinner-min"),e=$(this).data("spinner-max");var i=$(this).spinner({min:t||0,max:e||1e3});i.unmousewheel();var n=1;i.keydown(function(t){190!=t.keyCode&&191!=t.keyCode&&isNaN($(this).val())||(n=$(this).val())}).keyup(function(e){(190==e.keyCode||191==e.keyCode||isNaN($(this).val()))&&$(this).prop("value",n||t||0)}),$(this).is(":disabled")?i.spinner("disable"):i.spinner("enable")}}),i.stepUp=function(t){t.spinner("stepUp")},i.stepDown=function(t){t.spinner("stepDown")}},spinner=new Spinner,toTop=function(t){if($(".to-top").length>0){var e=$(".to-top");$(window).scrollTop()>200?e.addClass("is-visible"):e.removeClass("is-visible"),"load"==t&&e.on("click",function(){$("html, body").animate({scrollTop:0},800)})}};$(window).load(function(){toTop("load")}).scroll(function(){toTop()}),$(window).load(function(){openFaq()});var stickyHeader=function(){if($(".header-main").length>0){var t,e=1,i=0,n=0;$(window).on("scroll resize",function(o){function a(t){var o=i-$(window).scrollTop();return o=Math.floor(o/e),c.hasClass("is-hover")&&o+n<0&&!t?(n+=o,r.css("top",n+"px")):(r.css("top","0px"),n=0),!0}function s(){$(".product-container").length?$(window).scrollTop()>d?($(".js-sticky-header-main").length||r.addClass("is-sticky js-sticky-header-main"),"scroll"===o.type&&a(!1)):(r.removeClass("is-sticky js-sticky-header-main"),a(!0)):$(window).scrollTop()>d?($(".js-sticky-header-main").length||r.addClass("is-sticky js-sticky-header-main"),"scroll"===o.type&&a(!1)):(r.removeClass("is-sticky js-sticky-header-main"),a(!0))}var r=$(".header-main"),l=$(".header-panel"),c=$(".catalog-menu"),d=l.position().top+l.outerHeight();"scroll"===o.type?(s(),i=$(window).scrollTop()):"resize"===o.type&&(clearTimeout(t),t=setTimeout(function(){},250))})}},catalogMenuSetHeight=function(){if($(".catalog-menu").length>0){var t=$(window).height(),e=t,i=$(".catalog-menu__list-wrapper");e=$(".header-main").hasClass("is-sticky")?t-80:t-170,i.css({maxHeight:e+"px"}).mCustomScrollbar({theme:"minimal",callbacks:{whileScrolling:function(){$mCustomScrollBox=$(".mCustomScrollBox"),this.mcs.topPct>80?$mCustomScrollBox.hasClass("not-active")||$mCustomScrollBox.addClass("not-active"):$mCustomScrollBox.hasClass("not-active")&&$mCustomScrollBox.removeClass("not-active")}}})}},searchlineSetHeight=function(){if($(".search-main").length>0){var t=$(window).height(),e=t,i=$(".searchline");e=$(".header-main").hasClass("is-sticky")?t-80:t-170,i.css({maxHeight:e+"px"}).mCustomScrollbar({theme:"minimal"}).mCustomScrollbar("update")}};$(window).load(function(){stickyHeader()});var stickyScrollTimer,stickyResizeTimer;$(window).on("scroll resize",function(t){"scroll"===t.type?(stickyScrollTimer&&(clearTimeout(stickyScrollTimer),stickyScrollTimer=null),scrollTimeout=setTimeout(scrollHandler,250)):"resize"===t.type&&(clearTimeout(stickyResizeTimer),stickyResizeTimer=setTimeout(function(){},250))});var onceScrollHandle=!0;scrollHandler=function(){$(".js-sticky-header-main").length&&onceScrollHandle?onceScrollHandle=!1:$(".js-sticky-header-main").length||onceScrollHandle||(onceScrollHandle=!0)};var serviceSticky=function(t){if($(".service-sticky").length>0){var e=$(".service-sticky");$(window).scrollTop()>200?e.addClass("is-visible"):e.removeClass("is-visible")}};$(window).load(function(){serviceSticky("load")}).scroll(function(){serviceSticky()}),$(window).load(function(){window.mousePos={x:0,y:0},$(".catalog-menu").length>0&&$(document).on("click",".catalog-menu",function(t){$("body").addClass("no-active"),$(t.target).closest(".catalog-menu").length>0&&$("body").addClass("no-active")}).on("mouseout",".catalog-menu li",function(){if($(".mCustomScrollBox").hasClass("not-active")&&$(".mCustomScrollBox").removeClass("not-active"),$(this).index()>8){var t=$(this).closest(".mCustomScrollBox");t.removeClass("transparentAfter")}}).on("mouseover",".catalog-menu li",function(){if($(this).index()>8){var t=$(this).closest(".mCustomScrollBox");t.addClass("transparentAfter")}}).on("mousemove",".catalog-menu",function(t){var e,i,n;t=t||window.event,null==t.pageX&&null!=t.clientX&&(e=t.target&&t.target.ownerDocument||document,i=e.documentElement,n=e.body,t.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),mousePos={x:t.pageX,y:t.pageY}})}),$(document).on("mouseover",".catalog-menu",function(){catalogMenuHeight(1)}).on("mouseout",".catalog-menu__drop",function(){}).on("click",".js-fix-scroll-menu",function(){var t,e=40;t=$(this).closest(".catalog-menu__drop-simple").length>0?$(this).prev(".level-3"):$(this).prev(".catalog-menu__list"),$(this).hasClass("is-top")?t.scrollTop(t.scrollTop()-2*e):t.scrollTop(t.scrollTop()+2*e)}),$(".catalog-menu__list.level-1, .catalog-menu__list.level-2, .catalog-menu__container.level-3").scroll(function(){catalogMenuScroll($(this))});var connector=function(t,e){return e.jcarousel("items").eq(t.index())},galleryFullscreenScrollTo=0,productCarouselInit=function(){if($(".product-gallery").length>0){var t=$(".product-gallery");t.each(function(t,e){if($(e).is(":visible")){var i,n=$(e).find(".product-gallery__stage"),o=$(e).find(".product-gallery__nav");if(!n.data("jcarousel")){n.on("jcarousel:reload jcarousel:create",function(){var t=$(this),n=t.innerWidth(),a=0,s=7;t.closest(".popup_fullscr").length>0&&(a=t.innerHeight(),t.jcarousel("items").css({lineHeight:a+"px"})),t.jcarousel("items").css({width:n+"px"}),o.hasClass("jcarousel-vertical")?(i=!0,s=7):(i=null,s=4),o=o.jcarousel({vertical:i}).on("jcarousel:reloadend jcarousel:createend",function(){$(this).jcarousel("scroll",galleryFullscreenScrollTo,!1)}),(o.hasClass("jcarousel-vertical")||$(e).closest(".fast-view").length>0)&&productZoomInit(t),t.jcarousel("items").length<=s?t.closest(".product-gallery").addClass("no-nav"):t.closest(".product-gallery").removeClass("no-nav")}).on("jcarousel:destroy jcarousel:create",function(){$(e).addClass("loading")}).on("jcarousel:reloadend jcarousel:createend",function(){$(e).removeClass("loading"),$(this).jcarousel("scroll",galleryFullscreenScrollTo,!1)}).on("jcarousel:animate",function(){$(e).find(".product-gallery__stage").addClass("is-animated")}).on("jcarousel:animateend",function(){$(e).find(".product-gallery__stage").removeClass("is-animated")});var a=n.jcarousel();o.jcarousel("items").each(function(t){var e=$(this),i=connector(e,a);e.on("jcarouselcontrol:active",function(){o.jcarousel("scrollIntoView",this),e.addClass("is-active"),n.find("li").removeClass("is-active").eq(t).addClass("is-active"),$(".cursorshade, .statusdiv").hide(),youtubeControls("pause",$(".product-gallery"))}).on("jcarouselcontrol:inactive",function(){e.removeClass("is-active")}).jcarouselControl({target:i,carousel:a})}),$(e).find(".jcarousel-stage-prev").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"-=1"}),$(e).find(".jcarousel-stage-next").on("jcarouselcontrol:inactive",function(){$(this).addClass("is-disabled")}).on("jcarouselcontrol:active",function(){$(this).removeClass("is-disabled")}).jcarouselControl({target:"+=1"})}}})}},RoundView=function(){var t=this,e=$(".threesixty");t.init=function(t){var e=t.data("total"),i=t.data("path"),n=t.data("prefix");t.ThreeSixty({autoplay:!0,totalFrames:e,currentFrame:1,imgList:".threesixty__images",progress:".threesixty__spinner",imagePath:i,filePrefix:n,ext:".jpg",width:435,height:500,navigation:!1,responsive:!0,onReady:function(){var e;e=t.closest(".popup_fullscr").length>0?t.find("img").width():t.closest(".product-gallery__stage").width(),t.find("img").css({marginLeft:"-"+e/2+"px"})}})},e.each(function(e,i){$(i).is(":visible")&&t.init($(i))})},roundView;if($(window).load(function(){if($(".product").length>0&&$(".product-gallery").length>0&&productCarouselInit(),productGalleryPopup(),$("#popup-gallery-fullscr").length){var t=0;if($("#popup-gallery-fullscr").find(".product-gallery__nav li").each(function(){t+=$(this).width()}),t<1180){var e=(1180-t)/2;$("#popup-gallery-fullscr").find(".product-gallery__nav ul").css({marginLeft:e})}}roundView=new RoundView,$(".product-container").length&&$(".header-main").addClass("header-main_border")}),global.isTouch())$(window).on("orientationchange",function(){});else{var galleryResizeTimer;$(window).resize(function(t){clearTimeout(galleryResizeTimer),galleryResizeTimer=setTimeout(function(){},250)})}if($(window).load(function(){avalibleToggle()}),$('.search-main input[type="text"]').on("keyup",$.debounce(500,function(){if(!($("#small-basket:hover").not(".is-empty").length>0||$("#shop-list:hover").not(".is-empty").length>0||$(".catalog-menu.is-hover").length>0)){var t=$(this).val(),e=$("#token").val();t.length>=2?$.get("/bitrix/php_interface/ajax/new_suggest_.php?q="+t+"&token="+e+"&suggest=Y",function(t){t?($(".searchline").mCustomScrollbar("destroy"),$(".searchline").html(t).addClass("inview").mCustomScrollbar({theme:"minimal"}),$("body").addClass("no-active"),$(".search-main").addClass("is-active")):($(".searchline").removeClass("inview"),$("body").removeClass("no-active"),$(".search-main").removeClass("is-active"))}):($(".searchline").removeClass("inview"),$("body").removeClass("no-active"),$(".search-main").removeClass("is-active"))}})),$(document).mouseup(function(t){var e=$(".searchline");e.is(t.target)||0!==e.has(t.target).length||(e.removeClass("inview"),$("body").removeClass("no-active"),$(".search-main").removeClass("is-active"))}),$(document).on("click",".js-show-additional-products",function(){setTimeout(function(){carouselDestroy($(".cart-item .catalog-carousel")),catalogCarouselInit()},global.time),$(this).closest(".cart-item__tabs").addClass("is-open"),$(this).hide(),$(this).siblings(".cart-item__tabs__item").addClass("is-open"),$(this).siblings(".js-show-part-products").show(),$(this).siblings(".js-hide-part-products").hide();var t=$(this).data("art");$.cookie("_add-"+t,!0,{expires:31,path:"/",domain:window.lmSettings.cookieDomain})}).on("click",".js-hide-additional-products",function(){$(this).closest(".cart-item__tabs").removeClass("is-open"),$(this).closest(".cart-item__tabs__item").removeClass("is-open"),$(this).closest(".cart-item__tabs__item").siblings(".js-show-additional-products").show();var t=$(this).data("art");$.cookie("_add-"+t,null,{expires:31,path:"/",domain:window.lmSettings.cookieDomain})}).on("click",".js-show-part-products",function(){$(this).closest(".cart-item__tabs").addClass("is-open"),$(this).hide(),$(this).siblings(".js-hide-part-products").show(),$(this).siblings(".js-show-additional-products").show(),$(this).siblings(".cart-item__tabs__item").removeClass("is-open")}).on("click",".js-hide-part-products",function(){$(this).closest(".cart-item__tabs").removeClass("is-open"),$(this).hide(),$(this).siblings(".js-show-part-products").show()}).on("click","button.add2basket",function(){var t=$("input#productQt").val(),e=$(this).data("art");return void 0==t&&(t=1),$.post("/bitrix/php_interface/ajax/basket.php",{tmpl:"redesign-mini",action:"add",art:e,cnt:t},function(t){$("#small-basket").html(t),$("#basket_not_empty").length?$("#small-basket").attr("class","cart-quick"):($("#small-basket").attr("class","cart-quick is-empty"),$("body").removeClass("no-active")),$("#small-basket .qual input").incdec(),$("#small-basket").addClass("open")}),$.ajax({url:"/bitrix/php_interface/ajax/gaProduct.php",method:"POST",data:{articul:e,cnt:t}}).done(function(e){window.dataLayer1&&(window.dataLayer1=window.dataLayer1||[],window.dataLayer1.push({ecommerce:{add:{products:[{id:e.article,name:e.name,price:e.price,brand:e.brand,category:e.category,variant:e.color,quantity:e.quantity}]}}})),window.dataLayer&&dataLayer.push({event:"LeroyMerlin",eventCategory:"Conversions",eventAction:"add",eventLabel:"cart",eventContext:"null",eventContent:"null",eventPosition:"Checkout",eventLocation:dataLayer[0].pageType,eventDivision:e.gtmDivision,eventSubdivision:e.gtmSubdivision,eventCategoryName:e.gtmCategoryName,eventCategoryId:e.gtmCategoryId,eventProductName:e.name,eventProductId:e.article,eventProductPrice:e.gtmPrice,ecommerce:{add:{actionField:{list:dataLayer[0].pageType},products:[{id:e.article,name:e.name,category:e.gtmCategoryName,brand:e.brand,position:1,variant:e.gtmWeight,dimension65:e.gtmProductTag,price:e.gtmPrice,metric1:e.gtmPrice,quantity:t}]}}})}),!1}).on("click","button.add2list",function(){var t=$("input#productQt").val(),e=$(this).data("art");$.post("/bitrix/php_interface/ajax/add2list.php",{tmpl:"redesign-mini",art:e,cnt:t},function(t){$("#shop-list").html(t),$("#shop-list_not_empty").length?$("#shop-list").attr("class","cart-quick"):($("#shop-list").attr("class","cart-quick is-empty"),$("body").removeClass("no-active")),$("#shop-list .qual input").incdec(),$("#shop-list").addClass("open")})}).on("click",".add2compare",function(){var t=$(this).data("art"),e=$(this).data("position");e="undefined"!=typeof e?e:1;var i=$(this).prop("checked");i?($.post("/catalogue/compare.php",{add:t},function(t){}),$(this).parent().addClass("is-active"),$(".compare-"+t).addClass("is-active"),$(".compare-"+t+" input").prop("checked",!0),gtmEventsCompareProduct(t,e,"add")):($.post("/catalogue/compare.php",{"delete":t},function(t){}),$(this).parent().removeClass("is-active"),$(".compare-"+t).removeClass("is-active"),$(".compare-"+t+" input").prop("checked",!1),gtmEventsCompareProduct(t,e,"remove"))}),$(".js-visibility-tab").length>0&&$(document).on("click",".js-visibility-tab",function(){$(this).hasClass("is-active")||($(this).siblings(".js-visibility-tab").removeClass("is-active"),$(this).addClass("is-active"))}),$(".js-pickup-shop").length>0&&$(document).on("click",".js-pickup-shop",function(){"function"==typeof selectPickupShop?selectPickupShop($(this).attr("data-shop")):$(this).hasClass("is-active")||($(this).siblings(".js-pickup-shop").removeClass("is-active"),$(this).addClass("is-active"),$(".js-choose-shop").prop("disabled",!1),$(".pickup-shop__right").removeClass("is-empty"))}),$(document).on("click dblclick mousedown mouseup","#shop-list, #small-basket",function(){$(this).hasClass("is-empty")||$("body").hasClass("no-active")||$("body").addClass("no-active")}).on("mouseover","#shop-list, #small-basket",function(){$(this).hasClass("is-empty")||$("body").hasClass("no-active")||($("body").addClass("no-active"),$(".search-main input").trigger("blur"))}).on("mouseleave","#shop-list:not(.is-empty), #small-basket:not(.is-empty)",function(){$("body").hasClass("no-active")&&$("body").removeClass("no-active")}).on("mouseover click dblclick",".cart-quick__drop",function(t){$(t.target).closest(".cart-quick").length>0&&($("body").hasClass("no-active")||$("body").addClass("no-active"))}).on("change","#deliveryPickupSwitch",function(){$(this).is(":checked")&&popups.open("#popup-pickup-rules")}),($("#small-basket:hover").length>0||$("#shop-list:hover").length>0)&&$("body").addClass("no-active"),$(".process-delivery-type").length>0){$(document).on("click",".js-delivery-type-toggle",function(){var t="true"===$(this).attr("data-link"),e=$(this).data("type"),i=!1;"pvz"==e?($("#delivery_method").val("PVZ"),$("#delivery-date").val($("#simple-date").val()),$("#same-day").val("")):"courier"==e?($("#delivery_method").val("COURIER"),$("#delivery-date").val($("#simple-date").val()),$("#same-day").val(""),i=!0):($("#delivery_method").val("TK"),$("#same-day").val($("#same-day-start").val()),i=!0),$(this).addClass("is-active").siblings(".btn").removeClass("is-active"),$.ajax({url:"/basket/delivery.php",method:"GET",data:{action:"chmethod"}}),t?$("#show_tarriff").show():$("#show_tarriff").hide(),i&&"undefined"!=typeof mainSebDelivery&&mainSebDelivery.recalc(),"pvz"==e?($(".lift-cost-node").hide(),$(".lift-cost").html(number_format(0,2,'<span class="price-kop">,'," ")+"</span>"),$("#lift-cost-input").val(""),$("#step3_address_label").text("Адрес пункта выдачи заказов:"),$("#step3_datetime_label").text("Дата доставки заказа в пункт выдачи: *"),$("#step3_time_label").hide(),$("#step3_delivery_cost_label").text("Стоимость доставки до пункта выдачи заказов:"),$("#step3_pvz_sms_label").show()):"courier"==e?($(".lift-cost-node").hide(),$(".lift-cost").html(number_format(0,2,'<span class="price-kop">,'," ")+"</span>"),$("#lift-cost-input").val(""),$("#delivery-date").val($(".tabs-up__link.is-active").parent("li").data("date")),$("#step3_address_label").text("Адрес:"),$("#step3_datetime_label").text("Дата и время доставки:"),$("#step3_time_label").show(),$("#step3_delivery_cost_label").text("Стоимость доставки:"),$("#step3_pvz_sms_label").hide()):($("#delivery-date").val($(".tabs-up__link.is-active").parent("li").data("date")),$(".lift-cost-node").show(),$("#step3_address_label").text("Адрес:"),$("#step3_datetime_label").text("Дата и время доставки:"),$("#step3_time_label").show(),$("#step3_delivery_cost_label").text("Стоимость доставки:"),$("#step3_pvz_sms_label").hide()),pvzMap.setZoom(9)});var pvzPoints=[],pvzMap;$(window).load(function(){createPvzMap(pvzPoints),addPointsToList(),changePvz()})}$(window).on("load",function(){var t=$(".compare");if(t.length){var e=t.find(".compare__row"),i=t.find(".compare-param__item");$.each(e,function(t){if(!$(this).hasClass("compare__row_top")){var e=$(this).outerHeight(),n=$(i[t-1]).outerHeight();e>n?$(i[t-1]).css({height:e}):$(this).find(".compare__row_wrap").css({height:n})}})}$(".compare__row_wrap").width()>980&&$(".compare-right__layout").mCustomScrollbar({axis:"x",setWidth:"980px",scrollbarPosition:"inside",autoHideScrollbar:!1,alwaysShowScrollbar:2,callbacks:{onInit:function(){var t=$(".compare").find(".mCSB_scrollTools").clone(!0);$(".compare__scrollbar").html(t)},whileScrolling:function(){var t=$(".compare-right__layout").find(".mCSB_dragger").css("left");$(".compare__scrollbar").find(".mCSB_dragger").css({left:t})}}}),$(document).on("click",".compare-filter__btn",function(){$(this).addClass("active").siblings().removeClass("active"),$(this).hasClass("show-all")?($(".compare-param__item").not(".not-equal").show(),$(".compare__row__item").not(".not-equal").show()):($(".compare-param__item").not(".not-equal").hide(),$(".compare__row__item").not(".not-equal").hide())}),$(document).on("click",".compare-right .compare__delete",function(t){var e=$(t.target),i=e.attr("data-js-articul");return $.post("/catalogue/compare.php",{"delete":i},function(){$(".compare__cell_articul_"+i).remove(),$(".compare__row").css({width:$(".compare__row_wrap").width()}),$("#mCSB_4_container").css({width:$(".compare__row_wrap").width()}),$(".compare-right__layout").mCustomScrollbar("update"),$(".compare__row_wrap").width()<=980&&($(".compare__scrollbar").remove(),$(".compare-right").find("#mCSB_4_scrollbar_horizontal").hide()),delEmptyRows(),markEqual(),updateCellsHeight(),$(".show-all").hasClass("active")?($(".compare-param__item").not(".not-equal").show(),$(".compare__row__item").not(".not-equal").show()):($(".compare-param__item").not(".not-equal").hide(),$(".compare__row__item").not(".not-equal").hide()),$(".compare__row:not(.compare__row_top)").length||emptyComparePage()}),!1}),$(document).on("click",".compare-filter .compare-filter__clean",function(){return $.post("/catalogue/compare.php",{"delete":"all"},function(){emptyComparePage()}),!1}),markEqual()}),$(window).load(function(){$(document).on("click",".list-sounds__control",function(){var t=$(this),e=$(this).siblings("audio");e.get(0).paused?(e.get(0).play(),$(this).addClass("pause")):(e.get(0).pause(),$(this).removeClass("pause")),e.get(0).onended=function(){t.removeClass("pause")}})}),function(t){function e(e){if(e){var o=t(e.target),a=o.data("category");i.removeClass("list-arrow__link_active"),o.addClass("list-arrow__link_active"),n.hide().filter(function(e){return t(this).data("category")===a}).show()}else{var s=i.filter(function(){return t(this).hasClass("list-arrow__link_active")});if(1===s.length){var a=s.data("category");n.hide().filter(function(e){return t(this).data("category")===a}).show()}}return!1}var i=t(".js-kitchen-categories").find(".list-arrow__link"),n=t(".catalog-kitchen").find(".catalog-kitchen__item");e(),i.on("click",e)}(jQuery),$(function(){$(".youtube").each(function(){var t=this.id,e=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]{11})[?=&+%\w-]*/gi,i=t.replace(e,"$1");$(this).css("background-image","url(https://i.ytimg.com/vi/"+i+"/sddefault.jpg)"),$(this).append($("<div/>",{"class":"play"}))}),$(document).on("click",".youtube",function(){var t=this.id,e=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]{11})[?=&+%\w-]*/gi,i=t.replace(e,"$1"),n="https://www.youtube.com/embed/"+i+"?autoplay=1&autohide=1",o={frameborder:"0",src:n,width:$(this).width(),height:$(this).height()};1==this.getAttribute("data-allowfullscreen")&&(o.allowfullscreen=!0);var a=$("<iframe/>",o);$(this).replaceWith(a)})});var videoSettings={urlAPI:"https://www.googleapis.com/youtube/v3/",playlistId:window.playlistId||"PLD439993279F36385",keyAPI:"AIzaSyCrq3loCge4ZUP1wXh5O0dWIJIOivTm8UQ",videosId:""};if($(".advice-playlist").length&&$(window).on("load scroll",function(t){"scroll"===t.type&&$(window).scrollTop()+$(window).height()>=$(".advice-playlist").offset().top&&!$(".advice-playlist").attr("loaded")&&($(".advice-playlist").attr("loaded",!0),methodChaining([getPlaylist,getVideosInfo]))}),$(".ivtk__hide").length>0&&$(document).on("click",".ivtk__hide",function(){var t=$(this).closest(".ivtk");$(this).data("section");return t.toggleClass("is-close"),$(this).toggleClass("is-open"),"Скрыть"==$(this).text()?($(this).text("Раскрыть"),$(this).closest(".ivtk").find(".ivtk__how").prepend('<span class="cl-white is-added">Помощь в выборе</span>'),$(".ivtk__how_kitchen").length>0&&$(this).closest(".ivtk").find(".ivtk__how_kitchen").addClass("ivtk__how_kitchen_closed")):($(this).text("Скрыть"),$(this).closest(".ivtk").find(".is-added").remove(),$(".ivtk__how_kitchen").length>0&&$(this).closest(".ivtk").find(".ivtk__how_kitchen").removeClass("ivtk__how_kitchen_closed")),!1}),$(window).load(function(){calculateHeight(),showFullOrder()}),function(t){"use strict";var e=t(".advices-content_single");if(e.length){var i=e.height(),n=279*Math.floor((i-196)/279),o=t(".advices-sidebar").find(".catalog__item").length,a=279*o;console.log(i+" : "+a),0===o?(console.log("0"),t(".js-advices-sidebar-carousel").css("height","0")):a>i?t(".js-advices-sidebar-carousel").css("height",n+"px"):t(".js-advices-sidebar-carousel").css("height",a+"px")}t(".advice-video").length&&(t(".advice-video__item").each(function(){var e=this.id,i=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]{11})[?=&+%\w-]*/gi,n=e.replace(i,"$1");t(this).css("background-image","url(https://i.ytimg.com/vi/"+n+"/sddefault.jpg)"),t(this).append(t("<div/>",{"class":"play"}))}),t(document).on("click",".advice-video__item",function(){var e=this.id,i=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]{11})[?=&+%\w-]*/gi,n=e.replace(i,"$1");console.log(n);var o="https://www.youtube.com/embed/"+n+"?autoplay=1&autohide=1",a=t("<iframe/>",{frameborder:"0",src:o,width:t(this).width(),height:t(this).height()});t(this).replaceWith(a)})),"undefined"!=typeof t.cookie("_advice_filters")&&document.location.href.indexOf("/advice/")==-1&&t.cookie("_advice_filters",null,{expires:-1})}(jQuery),$(window).on("load",function(t){$(".js-menu-catalog-carousel__btn").length>0&&$(document).on("click",".js-menu-catalog-carousel__btn",function(){return"Скрыть"==$(this).text()?$(this).text("Показать все"):$(this).text("Скрыть"),$(".menu-catalog-carousel__stage").toggleClass("menu-catalog-carousel__stage_hide"),!1}),$(".menu-catalog-carousel").length&&$(".wrap-main").css({"margin-bottom":"-30px"})}),$("#process-order-form").length>0){var btnToStep2=$("button#toStep2");btnToStep3=$("button#toStep3"),section1=$("section#order-data"),section2=$("section#order-delivery"),section3=$("section#order-check"),section4=$("section#order-result"),navigationBar=$(".process-order__navigation"),nav1=navigationBar.children("#order-data-nav"),nav2=navigationBar.children("#order-delivery-nav"),nav3=navigationBar.children("#order-check-nav"),nav4=navigationBar.children("#order-result-nav"),btnToStep2.click(function(){if(0==btnToStep2.prop("disabled")){section1.removeClass("is-active"),section2.addClass("is-active"),btnToStep2.prop("disabled",!0),btnToStep3.prop("disabled",!0),$("#web_form_btn").attr("disabled",!0);var t=$("#order-email").val();$.post("/bitrix/php_interface/ajax/addToLeaveBasketTable.php",{email:t}),checkNavigation()}return!1}),btnToStep3.click(function(){if(0==btnToStep3.prop("disabled")){var t=$("#order-surname").val()+" "+$("#order-name").val()+" "+$("#order-middlename").val(),e=$("#order-phone").val(),i=$("#order-email").val(),n=$("#recipient_address_united").val(),o=$("#delivery-date").val(),a=$("#delivery-time").val();$("#result_fio").text(t),$("#result_phone").text(e),$("#result_email").text(i),$("#result_address").text(n),$("#result_date").text(o),$("#result_time").text(a),section2.removeClass("is-active"),section3.addClass("is-active"),checkNavigation()}return!1}),nav1.click(function(){section4.hasClass("is-active")||$(this).hasClass("is-done")&&(section1.addClass("is-active"),section2.removeClass("is-active"),section3.removeClass("is-active"),section4.removeClass("is-active"),nav1.addClass("is-active").removeClass("is-done"),nav2.removeClass("is-active").removeClass("is-done"),nav3.removeClass("is-active").removeClass("is-done"),nav4.removeClass("is-active").removeClass("is-done"),checkNavigation(),$(".your-order").removeClass("hidden"),btnToStep2.prop("disabled",!1),btnToStep3.prop("disabled",!1),$("#web_form_btn").attr("disabled",!1),$("#check-card-visa").prop("checked",!1),$("#check-card-nal").prop("checked",!1),$("#check-card-qiwi").prop("checked",!1),$("#check-card-visa").parent("label").removeClass("is-active"),$("#check-card-nal").parent("label").removeClass("is-active"),$("#check-card-qiwi").parent("label").removeClass("is-active"))}),nav2.click(function(){section4.hasClass("is-active")||$(this).hasClass("is-done")&&(section2.addClass("is-active"),section1.removeClass("is-active"),section3.removeClass("is-active"),section4.removeClass("is-active"),nav2.addClass("is-active").removeClass("is-done"),nav3.removeClass("is-active").removeClass("is-done"),nav4.removeClass("is-active").removeClass("is-done"),checkNavigation(),$(".your-order").removeClass("hidden"),btnToStep2.prop("disabled",!1),btnToStep3.prop("disabled",!1),$("#web_form_btn").attr("disabled",!1))})}$(window).load(function(){checkNavigation()}),$(".js-toggle-seo").length>0&&$(document).on("click",".js-toggle-seo",function(){"Подробнее"==$(this).text()?$(this).text("Скрыть").closest(".seo").addClass("is-open"):$(this).text("Подробнее").closest(".seo").removeClass("is-open")}),$(window).on("load",function(){if($(".sh-mobile-app").length){$(document).on("click",".sh-menu__link, .sh-process__phone",function(t){if(href=$(this).attr("href"),"#"==href.charAt(0)){t.preventDefault();var e=$($(this).attr("href")).offset().top;$("body").animate({scrollTop:e},2*global.time)}});var t=$(".sh-menu"),e=$(".sh-menu__helper"),i=t.position().top-38;addBackground($(".sh-slider__item")),addBackground($(".sh-choice")),addSize(1180,$(".sh-slider-control__item")),initAnimation(),toggleSolutions(),toggleSlider(),$("img").each(function(){lzld(this)}),$(document).on("click",".sh-answers__item",function(t){var e=$(this).attr("data-link");location.href=e}).on("click",".sh-choice-variations__item",function(t){var e=$(this),i=e.closest(".sh-choice__item"),n=e.attr("data-variation"),o=e.parents(".sh-choice-top");if(i.find(".sh-choice-variations__item").removeClass("is-active"),e.addClass("is-active"),i.find(".sh-choice-desc").each(function(){var t=$(this),e=t.attr("data-variation");e!==n?t.hasClass("is-active")&&t.removeClass("is-active"):e===n&&t.addClass("is-active")}),o.hasClass("sh-choice__item_full")){i.find(".sh-choice__btn_fast-view").data("art",e.data("art"));var a=i.find(".sh-choice__btn_cart");art=e.data("art"),product=products[art],datalayertext='dataLayer.push({"event":"LeroyMerlin","eventCategory": "Interactions","eventAction": "click","eventPosition": 1,"eventLabel": "quickView","eventContext":null,"eventContent":null,"eventLocation":"SmartHouse","eventDivision":"'+products[art].SECT_1+'","eventSubdivision":"'+products[art].SECT_2+'","eventCategoryName":"'+products[art].SECT_3+'","eventCategoryId": "'+products[art].UF_SECTION+'","eventProductName": "'+products[art].UF_NAME+'","eventProductId": "'+products[art].UF_ARTICUL+'","eventProductPrice": "'+products[art].UF_BRAND+'","ecommerce": {"detail":{"actionField": {"list": "SmartHouse",},"products":[{"id": "'+products[art].UF_ARTICUL+'","name":"'+products[art].UF_NAME+'","category": +"'+products[art].SECT_3+'","brand": "'+products[art].UF_BRAND+'","variant": "'+products[art].UF_WEIGHT+'","dimension65": "'+products[art].UF_RATING+'","price": "'+products[art].UF_PRICE+'","metric1": "'+products[art].UF_PRICE+'"}]}}});',datalayertext2='dataLayer.push({"event":"LeroyMerlin","eventCategory": "Non-Interactions","eventAction": "add", "eventPosition": 1, "eventLabel": "cart","eventContext":null,"eventContent":null,"eventLocation":"SmartHouse","eventDivision":"'+products[art].SECT_1+'","eventSubdivision":"'+products[art].SECT_2+'","eventCategoryName":"'+products[art].SECT_3+'","eventCategoryId": "'+products[art].UF_SECTION+'","eventProductName": "'+products[art].UF_NAME+'","eventProductId": "'+products[art].UF_ARTICUL+'","eventProductPrice": "'+products[art].UF_BRAND+'","ecommerce": {"detail":{"actionField": {"list": "SmartHouse",},"products":[{"id": "'+products[art].UF_ARTICUL+'","name":"'+products[art].UF_NAME+'","category": +"'+products[art].SECT_3+'","brand": "'+products[art].UF_BRAND+'","variant": "'+products[art].UF_WEIGHT+'","position":1"dimension65": "'+products[art].UF_RATING+'","price": "'+products[art].UF_PRICE+'","metric1": "'+products[art].UF_PRICE+'"}]}}});',
i.find(".sh-choice__btn_fast-view").attr("onclick",datalayertext),a.attr("onclick","add2basketInput(event,"+e.data("art")+",1);"),1==e.data("canbuy")?(a.removeAttr("disabled"),a.removeClass("tooltip"),1==e.data("inbasket")?a.html("Добавлено"):a.html('<span class="icon icon-buy"></span>В корзину')):(a.html('<span class="icon icon-buy"></span>В корзину'),a.attr("disabled","disabled"),a.addClass("tooltip"))}}).on("click",".sh-process__variation, .sh-process-variations__item, .sh-situations__link",function(){return!1}).on("scroll",function(){$(window).scrollTop()>i?t.hasClass("is-sticky")||(t.addClass("is-sticky"),e.addClass("is-active")):(t.removeClass("is-sticky"),e.removeClass("is-active"))}).on("click",".sh-choice__btn_cart",function(){var t=$(this),e=t.parents(".sh-choice__item"),i=e.find(".sh-choice-variations__item.is-active");i.data("inbasket","1")}),window.setTimeout(function(){$(".sh-main").addClass("sh-main_loaded")},2*global.time);var n=2920,o=500;$(".sh-main + div").css({"margin-top":o-($(".sh-main+div")[0].offsetTop-n)});var a=new ScrollMagic.Controller;$(function(){var t=0,e=new ScrollMagic.Scene({triggerElement:".sh-slider-step",duration:800}).setPin(".sh-slider").addTo(a);e.on("enter",function(e){var i=$(".sh-slider__item").eq($(".sh-slider-control__item.is-active").index());i.find(".sh-situations__item.is-active .situations__item__text.is-active").length||"FORWARD"!=e.scrollDirection||$(".sh-situations__item__text",i).eq(0).trigger("mouseenter"),t=$(".sh-slider").css("left")}),e.on("progress",function(e){$(".sh-slider").css({left:t.toString()})})});new Waypoint({element:$(".sh-slider__item-situation-step"),offset:$(window).innerHeight()/2-50+"px",handler:function(t){var e=$(".sh-slider .sh-situations__item.is-active"),i=$(".sh-slider .sh-situations__item:not(.is-active)");e.removeClass("is-active"),i.addClass("is-active")}})}});var subscribeFormInit=function(){if($(".js--subscribe-form").length>0){var t=(new Date).getTime(),e=$(".js--subscribe-form");e.each(function(e,i){var n="SUBSCRIBE",o="EMAIL",a=null,s=null,r=null,l=0,c=!0;$("input",i).on("keyup",function(){var t=$(i),e=$("input[type=email]",t).val(),n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;(void 0!=$(this).attr("data-validate-on-keyup")||t.hasClass("novalid"))&&(n.test(e)?t.removeClass("novalid"):(t.addClass("novalid"),$(".js--novalid-message",t).html("Некорректный e-mail")))}),$("button",i).on("click",function(){var t=$(i),e=$("input[type=email]",t),a=e.val();return t.hasClass("novalid")?void gtmEventForms("send",(new Date).getTime()-s,"unsuccessful",n,o,"Некорректный e-mail",l):void $.ajax({url:"/bitrix/php_interface/ajax/subscribe_person.php",data:{email:a},dataType:"json"}).done(function(i){"ok"==i.status?(gtmEventForms("send",(new Date).getTime()-s,"successful",n,null,null,l),e.val(""),c=!0,$("#btnMiniSubscribePopup").trigger("click")):(gtmEventForms("send",(new Date).getTime()-s,"unsuccessful",n,o,i.errors[0],l),t.addClass("novalid"),$(".js--novalid-message",t).html(i.errors[0]))})}),$("button",i).on("click",function(){dataLayer.push({event:"LeroyMerlin",eventCategory:"Interactions",eventAction:"click",eventLabel:"subscribe",eventContext:null,eventContent:null,eventPosition:null,eventLocation:null,eventDivision:null,eventSubdivision:null,eventCategoryName:null,eventCategoryId:null,eventProductName:null,eventProductId:null,eventProductPrice:null,ecommerce:null}),null==r&&null!=s&&(r=(new Date).getTime()-a,gtmEventForms("send",r,"first",n,o)),l++}),$("input",i).focusin(function(){c=!1,null==s&&(s=(new Date).getTime()),a=(new Date).getTime(),gtmEventForms("focus",a-t,null,n,o)}),$("input",i).focusout(function(){c||gtmEventForms("unfocus",(new Date).getTime()-a,null,n,o)})})}};if($(window).load(function(){subscribeFormInit()}),$(window).load(function(){function t(){o.requestPermission().then(function(){o.getToken().then(function(t){t?e(t):(console.warn("Не удалось получить токен."),n(!1))})["catch"](function(t){console.warn("При получении токена произошла ошибка.",t),n(!1)})})["catch"](function(t){})}function e(t){i(t)||(console.log("Отправка токена на сервер..."),$.post("/bitrix/php_interface/ajax/saveFirebaseToken.php",{token:t}),n(t))}function i(t){return window.localStorage.getItem("sentFirebaseMessagingToken")==t}function n(t){window.localStorage.setItem("sentFirebaseMessagingToken",t?t:""),console.log("Токен установлен.")}if("Notification"in window&&window.firebase){var o=firebase.messaging();"granted"===Notification.permission?t():shouldShowFirebasePopup&&!$.cookie("_shownFirebasePopup")&&(t(),$.cookie("_shownFirebasePopup",!0,{expires:30,path:"/",domain:window.lmSettings.cookieDomain}))}}),"undefined"==typeof pickupPoints)var pickupPoints=[{id:"1",lat:55.754177,lon:37.716701,name:"Леруа Мерлен Санкт-Петербург Бугры 1",address:"г. Москва, пр-т Мира, д. 91, к. 1",workTime:"08:00-22:00",phone:"+7 (466) 47-54-54",selected:!1,attention:!1,baloonAttention:""},{id:"2",lat:55.889755,lon:37.538422,name:"Леруа Мерлен Санкт-Петербург Бугры 2",address:"г. Москва, пр-т Мира, д. 91, к. 2",workTime:"Пт-Пн: 10:00-21:00, Сб: 10:00-18:00 Вс - выходной",workTime:"08:00-22:00",phone:"+7 (466) 47-54-54",selected:!1,attention:!0,baloonAttention:"В выбранном магазине доступно 10 из 15 позиций вашей корзины. В заказ будут добалены доступные товары."},{id:"3",lat:55.753342,lon:37.591845,name:"Леруа Мерлен Санкт-Петербург Бугры 3",address:"г. Москва, пр-т Мира, д. 91, к. 3",workTime:"08:00-22:00",phone:"+7 (466) 47-54-54",selected:!1,attention:!1,baloonAttention:""},{id:"4",lat:55.870642,lon:37.641045,name:"Леруа Мерлен Санкт-Петербург Бугры 4",address:"г. Москва, пр-т Мира, д. 91, к. 4",workTime:"08:00-22:00",phone:"+7 (466) 47-54-54",selected:!1,attention:!1,baloonAttention:""},{id:"5",lat:55.744298,lon:37.507223,name:"Леруа Мерлен Санкт-Петербург Бугры 5",address:"г. Москва, пр-т Мира, д. 91, к. 5",workTime:"08:00-22:00",phone:"+7 (466) 47-54-54",selected:!1,attention:!1,baloonAttention:""}];var pickupMap;if($(document).on("click",".js-pickup-open-popup",function(){setTimeout(function(){createPickupMap(pickupPoints)},500)}),$(document).on("click",".map-balloon__text .js-select-pickup",function(){selectPickupShop($(this).attr("data-id"))}),$("#pvz-type-map").length>0){$(document).on("click",".js-delivery-type-toggle",function(){var t="true"===$(this).attr("data-link"),e=$(this).data("type");"pvz"==e?($("#delivery_method").val("PVZ"),$("#delivery-date").val($("#simple-date").val()),$("#same-day").val("")):($("#delivery_method").val("TK"),$("#same-day").val($("#same-day-start").val())),$(this).addClass("is-active").siblings(".btn").removeClass("is-active"),$.ajax({url:"/basket/delivery.php",method:"GET",data:{action:"chmethod"}}),t?$("#show_tarriff").show():$("#show_tarriff").hide(),"pvz"==e?($(".lift-cost-node").hide(),$(".lift-cost").html(number_format(0,2,'<span class="price-kop">,'," ")+"</span>"),$("#lift-cost-input").val(""),$("#step3_address_label").text("Адрес пункта выдачи заказов:"),$("#step3_datetime_label").text("Дата доставки заказа в пункт выдачи: *"),$("#step3_time_label").hide(),$("#step3_delivery_cost_label").text("Стоимость доставки до пункта выдачи заказов:"),$("#step3_pvz_sms_label").show()):($("#delivery-date").val($(".tabs-up__link.is-active").parent("li").data("date")),$(".lift-cost-node").show(),$("#step3_address_label").text("Адрес:"),$("#step3_datetime_label").text("Дата и время доставки:"),$("#step3_time_label").show(),$("#step3_delivery_cost_label").text("Стоимость доставки:"),$("#step3_pvz_sms_label").hide()),pvzTypeMap.setZoom(9)});var pvzPoints=[],pvzTypeMap;$(window).load(function(){createPvzTypeMap(pvzPoints)})}$(window).load(function(){buildShopSlider()});var calculatorBathroomtile=function(){var t=this;if($(".calculator_bathroomtile").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_bathroomtile"),o=$(".js-bathroomtile-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("yardage").toString().replace(/,/,"."),c=o.data("available"),d=o.data("estore"),u=o.data("width")/100,h=o.data("length")/100,p=o.data("fat")/1e3,f=o.find('input[name="calculatorBathroomtileSeamwidth"]'),m=o.find('input[name="calculatorBathroomtileSeamweight"]'),g=o.find('input[name="calculatorBathroomtileWidth"]'),v=o.find('input[name="calculatorBathroomtileLength"]'),b=o.find('input[name="calculatorBathroomtileWidth2"]'),y=o.find('input[name="calculatorBathroomtileLength2"]'),w=o.find('input[name="calculatorBathroomtileDoorWidth"]'),_=o.find('input[name="calculatorBathroomtileDoorLength"]'),x=1.15,k=n.find(".js-sum"),C=n.find(".js-num-package"),A=n.find(".js-num-package-seam");btn=o.find('button[type="submit"]'),a.hide(),s.hide(),0==d&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){widthVal=g.val().replace(/,/,".")||0,lengthVal=v.val().replace(/,/,".")||0,widthVal2=b.val().replace(/,/,".")||0,lengthVal2=y.val().replace(/,/,".")||0,widthDoorVal=w.val().replace(/,/,".")||0,lengthDoorVal=_.val().replace(/,/,".")||0,tileSeamWidthVal=f.val().replace(/,/,".")/1e3||0,tileSeamWeightVal=m.val().replace(/,/,".")/1e3||0},t.validateForm=function(){t.calculateVal(),widthVal<=0||lengthVal<=0||widthVal2<=0&&lengthVal2<=0?textInput="размеры стен ванной":textInput="",widthDoorVal<=0||lengthDoorVal<=0?textInput2="размеры двери ванной":textInput2="",widthVal>100||lengthVal>100||widthVal2>100||lengthVal2>100||widthDoorVal>2||tileSeamWidthVal>=.01||tileSeamWeightVal>=.005?textError="введите корректные данные":textError="",textError.length>0?(finalText="Пожалуйста, "+textError,btn.prop("title",finalText).addClass("btn_disabled")):textInput.length>0&&textInput2.length>0?(finalText="Пожалуйста, укажите "+textInput+", а также "+textInput2,btn.prop("title",finalText).addClass("btn_disabled")):textInput.length<=0&&textInput2.length>0?(finalText="Пожалуйста, укажите "+textInput2,btn.prop("title",finalText).addClass("btn_disabled")):textInput.length>0&&textInput2.length<=0?(finalText="Пожалуйста, укажите "+textInput,btn.prop("title",finalText).addClass("btn_disabled")):(finalText="",btn.prop("title",finalText).removeClass("btn_disabled"))},resetFormBathroomtile=function(){widthVal=0,lengthVal=0,widthVal2=0,lengthVal2=0,widthDoorVal=0,lengthDoorVal=0,tileSeamWidthVal=0,tileSeamWeightVal=0,g.val("").prop("disabled",!1),v.val("").prop("disabled",!1),b.val("").prop("disabled",!1),y.val("").prop("disabled",!1),w.val("").prop("disabled",!1),_.val("").prop("disabled",!1),f.val("").prop("disabled",!1),m.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),btn.hasClass("btn_disabled")||(a.show(),s.show(),$.fancybox.reposition(),widthVal>0&&lengthVal>0&&x>0?(S=widthVal*lengthVal*2+widthVal2*lengthVal2*2-widthDoorVal*lengthDoorVal,e=Math.ceil(S*x/l),i=e*r,C.html(e),k.html(t.formatSum(i)),console.log(e,i)):(e=0,i=0,C.html("0"),k.html("0")),tileSeamWidthVal>0&&tileSeamWeightVal>0?(calculatePackageSeam=Math.ceil((u+h)/(u*h)*tileSeamWidthVal*p*1.6*x*S/tileSeamWeightVal),A.html(calculatePackageSeam)):(calculatePackageSeam=0,A.html("0")),e>c&&0!=d?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=c&&0!=d&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_bathroomtile").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),C.html())}),$(".calculator_bathroomtile").find(".js-btn-add2list").on("click",function(t){var e=parseInt(C.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorFinish=function(){var t=this;if($(".calculator_finish").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_finish"),o=$(".js-finish-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("mass").toString().replace(/,/,"."),c=o.data("available"),d=o.data("estore"),u=$('input[name="calculatorFinishWidth"]'),h=$('input[name="calculatorFinishLength"]'),p=$('input[name="calculatorFinishSquare"]'),f=$('input[name="calculatorFinishSquare"]'),m=$('input[name="calculatorFinishSeam"]'),g=$(".js-sum"),v=$(".js-num-package"),b=o.find('button[type="submit"]');a.hide(),s.hide(),0==d&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){widthVal=u.val().replace(/,/,".")||0,lengthVal=h.val().replace(/,/,".")||0,squareVal=p.val().replace(/,/,".")||0,fatVal=f.val().replace(/,/,".")||0,seamVal=m.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),widthVal<=0||lengthVal<=0||fatVal<=0?textInput="все параметры плитки":textInput="",squareVal<=0&&seamVal<=0?textInput2="площадь поверхности и ширину шва":squareVal>0&&seamVal<=0?textInput2="ширину шва":squareVal<=0&&seamVal>0?textInput2="площадь поверхности":textInput2="",textInput.length>0&&textInput2.length>0?(finalText="Пожалуйста, укажите "+textInput+", а также "+textInput2,b.prop("title",finalText).addClass("btn_disabled")):textInput.length<=0&&textInput2.length>0?(finalText="Пожалуйста, укажите "+textInput2,b.prop("title",finalText).addClass("btn_disabled")):textInput.length>0&&textInput2.length<=0?(finalText="Пожалуйста, укажите "+textInput,b.prop("title",finalText).addClass("btn_disabled")):(finalText="",b.prop("title",finalText).removeClass("btn_disabled"))},resetFormFinish=function(){widthVal=0,lengthVal=0,squareVal=0,fatVal=0,SeamVal=0,u.val("").prop("disabled",!1),h.val("").prop("disabled",!1),p.val("").prop("disabled",!1),f.val("").prop("disabled",!1),m.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),b.hasClass("btn_disabled")||(a.show(),s.show(),$.fancybox.reposition(),widthVal>0&&lengthVal&&squareVal>0&&seamVal&&fatVal?(console.log(widthVal,lengthVal,fatVal,seamVal,squareVal,l,(widthVal+lengthVal)/(widthVal*lengthVal)),e=Math.ceil((widthVal+lengthVal)/(widthVal*lengthVal)*fatVal*seamVal*1.6*1.15*squareVal/l),i=e*r,v.html(e),g.html(t.formatSum(i)),console.log(e,i)):(e=0,i=0,v.html("0"),g.html("0")),e>c&&0!=d?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=c&&0!=d&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_finish").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),v.html())}),$(".calculator_finish").find(".js-btn-add2list").on("click",function(t){var e=parseInt(v.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorFlowwater=function(){var t=this;if($(".calculator_flowwater").length>0){var e,i=$(".calculator_flowwater"),n=$(".js-flowwater-form"),o=i.find(".calculator__foot"),a=i.find(".calculator__attention"),s=$(".calculator__label_icon.is-active").find("input").attr("value")||0,r=$('select[name="calculatorFlowwaterSeason"]'),l=$(".js-num-package"),c=n.find('button[type="submit"]');o.hide(),a.hide(),t.calculateVal=function(){s=$(".calculator__label_icon.is-active").find("input").attr("value"),peopleVal=+s,seasonVal=r.val()},t.validateForm=function(){t.calculateVal(),peopleVal<=0&&seasonVal.length<=0?textInput="укажите количество человек и сезон использования":peopleVal>0&&seasonVal.length<=0?textInput="укажите сезон использования":peopleVal<=0&&seasonVal.length>0?textInput="укажите количество человек":textInput="",textInput.length>0?(finalText="Пожалуйста, "+textInput,c.prop("title",finalText).addClass("btn_disabled")):(finalText="",c.prop("title",finalText).removeClass("btn_disabled"))},resetFormFlowwater=function(){peopleVal=0,seasonVal=0,s.val(""),r.val(""),o.hide(),a.hide(),t.validateForm()},t.validateForm(),n.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),r.on("change",function(){t.calculateVal(),t.validateForm()}),n.on("submit",function(){return t.calculateVal(),t.validateForm(),c.hasClass("btn_disabled")||(o.show(),a.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),"winter"==seasonVal?waterTemp=9:waterTemp=17,peopleVal>0&&seasonVal.length>0?(e=Math.ceil(125*peopleVal*(35-waterTemp)/(60-waterTemp)),l.html(e)):(e=0,l.html("0"))),!1}),$(".calculator_flowwater").find(".js-btn-add2list").on("click",function(t){var e=parseInt(l.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorGlue=function(){var t=this;if($(".calculator_glue").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_glue"),o=$(".js-glue-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("mass").toString().replace(/,/,"."),c=o.data("spend").toString().replace(/,/,"."),d=o.data("available"),u=o.data("estore"),h=$('input[name="calculatorGlueWidth"]'),p=$('input[name="calculatorGlueLength"]'),f=$('input[name="calculatorGlueWidth2"]'),m=$('input[name="calculatorGlueLength2"]'),g=$('input[name="calculatorGlueWallSquare"]'),v=$('input[name="calculatorGlueMass"]'),b=$('input[name="calculatorGlueFloorwidth"]'),y=$('input[name="calculatorGlueFloorlength"]'),w=$('input[name="calculatorGlueFloorsquare"]'),_=$(".js-sum"),x=$(".js-num-package"),k=o.find('button[type="submit"]');v.val(l),a.hide(),s.hide(),0==u&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){widthWallVal=h.val().replace(/,/,".")||0,lengthWallVal=p.val().replace(/,/,".")||0,widthWallVal2=f.val().replace(/,/,".")||0,lengthWallVal2=m.val().replace(/,/,".")||0,squareWallVal=g.val().replace(/,/,".")||0,widthFloorVal=b.val().replace(/,/,".")||0,lengthFloorVal=y.val().replace(/,/,".")||0,squareFloorVal=w.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),squareWallVal>0||squareFloorVal>0||widthFloorVal>0&&widthFloorVal>0||widthWallVal>0&&widthWallVal2>0&&lengthWallVal>0&&lengthWallVal2>0?(finalText="",k.prop("title",finalText).removeClass("btn_disabled")):(finalText="Пожалуйста, заполните необходимые для рассчета поля",k.prop("title",finalText).addClass("btn_disabled"))},resetFormGlue=function(){widthWallVal=0,lengthWallVal=0,widthWallVal2=0,lengthWallVal2=0,squareWallVal=0,widthFloorVal=0,lengthFloorVal=0,squareFloorVal=0,h.val("").prop("disabled",!1),p.val("").prop("disabled",!1),f.val("").prop("disabled",!1),m.val("").prop("disabled",!1),g.val("").prop("disabled",!1),b.val("").prop("disabled",!1),y.val("").prop("disabled",!1),w.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),widthWallVal>0||lengthWallVal>0||widthWallVal2>0||lengthWallVal2>0?(g.prop("disabled",!0),g.val((widthWallVal*lengthWallVal*2+widthWallVal2*lengthWallVal2*2).toFixed(2).replace(".",","))):squareWallVal>0?(h.prop("disabled",!0),p.prop("disabled",!0),f.prop("disabled",!0),m.prop("disabled",!0)):(g.prop("disabled",!1).val(""),h.prop("disabled",!1),p.prop("disabled",!1),f.prop("disabled",!1),m.prop("disabled",!1)),widthFloorVal>0||lengthFloorVal>0?(w.prop("disabled",!0),w.val((widthFloorVal*lengthFloorVal).toFixed(2).replace(".",","))):squareFloorVal>0?(b.prop("disabled",!0),y.prop("disabled",!0)):(w.prop("disabled",!1).val(""),b.prop("disabled",!1),y.prop("disabled",!1)),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),k.hasClass("btn_disabled")||(a.show(),s.show(),widthWallVal>0&&lengthWallVal&&widthWallVal2>0&&lengthWallVal2?S1=widthWallVal*lengthWallVal*2+widthWallVal2*lengthWallVal2*2:squareWallVal>0?S1=squareWallVal:S1=0,widthFloorVal>0&&lengthFloorVal?S2=widthFloorVal*lengthFloorVal:squareWallVal>0?S2=squareFloorVal:S2=0,S=S1+S2,e=Math.ceil(S/l/c),i=e*r,x.html(e),_.html(t.formatSum(i)),console.log(e,i),e>d&&0!=u?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=d&&0!=u&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_glue").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),x.html())}),$(".calculator_glue").find(".js-btn-add2list").on("click",function(t){var e=parseInt(x.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorIsolation=function(){var t=this;if($(".calculator_isolation").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_isolation"),o=$(".js-isolation-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("yardage").toString().replace(/,/,"."),c=o.data("available"),d=o.data("estore"),u=o.find('input[name="calculatorIsolationSquare"]'),h=n.find(".js-sum"),p=n.find(".js-num-package"),f=o.find('button[type="submit"]');a.hide(),s.hide(),0==d&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=u.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),squareVal<=0?(finalText="Пожалуйста, задайте площадь стен",f.prop("title",finalText).addClass("btn_disabled")):(finalText="",f.prop("title",finalText).removeClass("btn_disabled"))},resetFormIsolation=function(){squareVal=0,u.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),f.hasClass("btn_disabled")||(a.show(),s.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0?(e=Math.ceil(squareVal/l),i=e*r,p.html(e),h.html(t.formatSum(i))):(e=0,i=0,p.html("0"),h.html("0")),e>c&&0!=d?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=c&&0!=d&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_isolation").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),p.html())}),$(".calculator_isolation").find(".js-btn-add2list").on("click",function(t){var e=parseInt(p.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorKeramogranit=function(){var t=this;if($(".calculator_keramogranit").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n,o=$(".calculator_keramogranit"),a=$(".js-keramogranit-form"),s=o.find(".calculator__foot"),r=o.find(".calculator__attention"),l=a.data("price").toString().replace(/,/,"."),c=a.data("yardage").toString().replace(/,/,"."),d=a.data("available"),u=a.data("estore"),h=a.data("width")/100,p=a.data("length")/100,f=a.data("fat")/1e3,m=a.find('input[name="calculatorKeramogranitSeamwidth"]'),g=a.find('input[name="calculatorKeramogranitSeamweight"]'),v=a.find('input[name="calculatorKeramogranitWidth"]'),b=a.find('input[name="calculatorKeramogranitLength"]'),y=o.find(".js-sum"),w=o.find(".js-num-package"),_=o.find(".js-num-package-seam");btn=a.find('button[type="submit"]'),s.hide(),r.hide(),0==u&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){widthVal=v.val().replace(/,/,".")||0,lengthVal=b.val().replace(/,/,".")||0,tileSeamWidthVal=m.val().replace(/,/,".")/1e3||0,tileSeamWeightVal=g.val().replace(/,/,".")/1e3||0},t.validateForm=function(){t.calculateVal(),e>0?textQoef="":textQoef="выберите тип укладки",widthVal>0&&lengthVal<=0?textInput="задайте длину комнаты":widthVal<=0&&lengthVal>0?textInput="задайте ширину комнаты":widthVal<=0&&lengthVal<=0?textInput="задайте размеры комнаты":widthVal>1e3||lengthVal>1e3||tileSeamWidthVal>=.01||tileSeamWeightVal>=.005?textInput="введите корректные данные":textInput="",textQoef.length>0&&textInput.length>0?(finalText="Пожалуйста, "+textQoef+" и "+textInput,btn.prop("title",finalText).addClass("btn_disabled")):textQoef.length>0&&textInput.length<=0?(finalText="Пожалуйста, "+textQoef,btn.prop("title",finalText).addClass("btn_disabled")):textQoef.length<=0&&textInput.length>0?(finalText="Пожалуйста, "+textInput,btn.prop("title",finalText).addClass("btn_disabled")):(finalText="",btn.prop("title",finalText).removeClass("btn_disabled"))},resetFormKeramogranit=function(){widthVal=0,lengthVal=0,tileSeamWidthVal=0,tileSeamWeightVal=0,e=0,$(".calculator__toggle").removeClass("is-active"),v.val("").prop("disabled",!1),b.val("").prop("disabled",!1),m.val("").prop("disabled",!1),g.val("").prop("disabled",!1),s.hide(),r.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),$(".calculator__toggle").on("click",function(){$(this).siblings().removeClass("is-active"),$(this).addClass("is-active"),e=$(this).data("qoef"),t.validateForm()}),a.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),a.on("submit",function(){return t.calculateVal(),t.validateForm(),btn.hasClass("btn_disabled")||(s.show(),r.show(),$.fancybox.reposition(),widthVal>0&&lengthVal>0&&e>0?(i=Math.ceil(widthVal*lengthVal*e/c),n=i*l,w.html(i),y.html(t.formatSum(n)),console.log(i,n)):(i=0,n=0,w.html("0"),y.html("0")),tileSeamWidthVal>0&&tileSeamWeightVal&&e>0?(console.log(h,p,h,p,tileSeamWidthVal,f,widthVal,lengthVal,tileSeamWeightVal),calculatePackageSeam=Math.ceil((h+p)/(h*p)*tileSeamWidthVal*f*e*1.6*(widthVal*lengthVal)/tileSeamWeightVal),_.html(calculatePackageSeam)):(calculatePackageSeam=0,_.html("0")),i>d&&0!=u?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):i<=d&&0!=u&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_keramogranit").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),w.html())}),$(".calculator_keramogranit").find(".js-btn-add2list").on("click",function(t){var e=parseInt(w.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorKitchentile=function(){var t=this;if($(".calculator_kitchentile").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_kitchentile"),o=$(".js-kitchentile-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("yardage").toString().replace(/,/,"."),c=o.data("available"),d=o.data("estore"),u=o.data("width")/100,h=o.data("length")/100,p=o.data("fat")/1e3,f=o.find('input[name="calculatorKitchentileSeamwidth"]'),m=o.find('input[name="calculatorKitchentileSeamweight"]'),g=o.find('input[name="calculatorKitchentileWidth"]'),v=o.find('input[name="calculatorKitchentileLength"]'),b=1.15,y=n.find(".js-sum"),w=n.find(".js-num-package"),_=n.find(".js-num-package-seam");btn=o.find('button[type="submit"]'),a.hide(),s.hide(),0==d&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){widthVal=g.val().replace(/,/,".")||0,lengthVal=v.val().replace(/,/,".")||0,tileSeamWidthVal=f.val().replace(/,/,".")/1e3||0,tileSeamWeightVal=m.val().replace(/,/,".")/1e3||0},t.validateForm=function(){t.calculateVal(),widthVal>0&&lengthVal<=0?textInput="задайте длину стены/фартука":widthVal<=0&&lengthVal>0?textInput="задайте ширину стены/фартука":widthVal<=0&&lengthVal<=0?textInput="задайте размеры стены/фартука":textInput="",textInput.length>0?(finalText="Пожалуйста, "+textInput,btn.prop("title",finalText).addClass("btn_disabled")):(finalText="",btn.prop("title",finalText).removeClass("btn_disabled"))},resetFormKitchentile=function(){widthVal=0,lengthVal=0,tileSeamWidthVal=0,tileSeamWeightVal=0,g.val("").prop("disabled",!1),v.val("").prop("disabled",!1),f.val("").prop("disabled",!1),m.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),btn.hasClass("btn_disabled")||(a.show(),s.show(),$.fancybox.reposition(),widthVal>0&&lengthVal>0&&b>0?(e=Math.ceil(widthVal*lengthVal/l*b),i=e*r,w.html(e),y.html(t.formatSum(i)),console.log(e,i)):(e=0,i=0,w.html("0"),y.html("0")),tileSeamWidthVal>0&&tileSeamWeightVal?(calculatePackageSeam=Math.ceil((u+h)/(u*h)*tileSeamWidthVal*p*b*1.6*(widthVal*lengthVal)/tileSeamWeightVal),_.html(calculatePackageSeam)):(calculatePackageSeam=0,_.html("0")),e>c&&0!=d?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=c&&0!=d&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_kitchentile").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),w.html())}),$(".calculator_kitchentile").find(".js-btn-add2list").on("click",function(t){var e=parseInt(w.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorKlinker=function(){var t=this;if($(".calculator_klinker").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_klinker"),o=$(".js-klinker-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=(o.data("price").toString().replace(/,/,"."),o.data("available")),l=o.data("estore"),c=o.data("yardage"),d=o.data("yardage-sp"),u=o.find('input[name="calculatorKlinkerWidth"]'),h=o.find('input[name="calculatorKlinkerLength"]'),p=o.find('input[name="calculatorKlinkerWidth2"]'),f=o.find('input[name="calculatorKlinkerLength2"]'),m=o.find('input[name="calculatorKlinkerNum"]'),g=o.find('input[name="calculatorKlinkerNum2"]'),v=1.15,b=n.find(".js-sum"),y=n.find(".js-num-package"),w=o.find('button[type="submit"]');a.hide(),s.hide(),0==l&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),
t.calculateVal=function(){widthVal=u.val().replace(/,/,".")||0,lengthVal=h.val().replace(/,/,".")||0,widthVal2=p.val().replace(/,/,".")||0,lengthVal2=f.val().replace(/,/,".")||0,numVal=m.val().replace(/,/,".")||0,numVal2=g.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),(widthVal<=0||lengthVal<=0)&&numVal>0?textInput="размер проступи":(widthVal<=0||lengthVal<=0)&&numVal<=0?textInput="размер проступи и количество ступеней":widthVal>0&&lengthVal>0&&numVal<=0?textInput="количество ступеней":textInput="",(widthVal2<=0||lengthVal2<=0)&&numVal2>0?textInput2="размер подступенника":(widthVal2<=0||lengthVal2<=0)&&numVal2<=0?textInput2="размер и количество подступенников":widthVal2>0&&lengthVal2>0&&numVal2<=0?textInput2="количество подступенников":textInput2="",textInput.length>0&&textInput2.length>0?(finalText="Пожалуйста, укажите "+textInput+", a также "+textInput2,w.prop("title",finalText).addClass("btn_disabled")):textInput.length>0&&textInput2.length<=0?(finalText="Пожалуйста, укажите "+textInput,w.prop("title",finalText).addClass("btn_disabled")):textInput.length<=0&&textInput2.length>0?(finalText="Пожалуйста, укажите "+textInput2,w.prop("title",finalText).addClass("btn_disabled")):(finalText="",w.prop("title",finalText).removeClass("btn_disabled"))},resetFormKlinker=function(){widthVal=0,lengthVal=0,widthVal2=0,lengthVal2=0,numVal=0,numtVal2=0,u.val("").prop("disabled",!1),h.val("").prop("disabled",!1),p.val("").prop("disabled",!1),f.val("").prop("disabled",!1),m.val("").prop("disabled",!1),g.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),w.hasClass("btn_disabled")||(a.show(),s.show(),$.fancybox.reposition(),widthVal>0&&lengthVal>0&&widthVal2>0&&lengthVal2>0?(e=Math.ceil(widthVal*lengthVal*numVal*v/c),i=Math.ceil(widthVal2*lengthVal2*numVal2*v/d),y.html(e),b.html(i)):(e=0,i=0,y.html("0"),b.html("0")),e>r&&0!=l?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=r&&0!=l&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_klinker").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),y.html())}),$(".calculator_klinker").find(".js-btn-add2list").on("click",function(t){var e=parseInt(y.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorMdf=function(){var t=this;if($(".calculator_mdf").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_mdf"),o=$(".js-mdf-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("width").toString().replace(/,/,"."),c=o.data("length").toString().replace(/,/,"."),d=o.data("quantity"),u=o.data("available"),h=o.data("estore"),p=o.find('input[name="calculatorMdfSquare"]'),f=n.find(".js-sum"),m=n.find(".js-num-package"),g=o.find('button[type="submit"]');a.hide(),s.hide(),0==h&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=p.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),squareVal<=0?(finalText="Пожалуйста, задайте площадь поверхности",g.prop("title",finalText).addClass("btn_disabled")):(finalText="",g.prop("title",finalText).removeClass("btn_disabled"))},resetFormMdf=function(){squareVal=0,p.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),g.hasClass("btn_disabled")||(a.show(),s.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0?(e=Math.ceil(squareVal/(l*c*d)*1e6),i=e*r,m.html(e),f.html(t.formatSum(i))):(e=0,i=0,m.html("0"),f.html("0")),e>u&&0!=h?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=u&&0!=h&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_mdf").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),m.html())}),$(".calculator_mdf").find(".js-btn-add2list").on("click",function(t){var e=parseInt(m.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorMineralceil=function(){var t=this;if($(".calculator_mineralceil").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_mineralceil"),o=$(".js-mineralceil-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("width").toString().replace(/,/,"."),c=o.data("length").toString().replace(/,/,"."),d=o.data("quantity"),u=o.data("available"),h=o.data("estore"),p=o.find('input[name="calculatorMineralceilSquare"]'),f=n.find(".js-sum"),m=n.find(".js-num-package"),g=o.find('button[type="submit"]');a.hide(),s.hide(),0==h&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=p.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),squareVal<=0?(finalText="Пожалуйста, задайте площадь потолка",g.prop("title",finalText).addClass("btn_disabled")):(finalText="",g.prop("title",finalText).removeClass("btn_disabled"))},resetFormMineralceil=function(){squareVal=0,p.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),g.hasClass("btn_disabled")||(a.show(),s.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0?(e=Math.ceil(squareVal/(l*c*d)*1e6),i=e*r,m.html(e),f.html(t.formatSum(i))):(e=0,i=0,m.html("0"),f.html("0")),e>u&&0!=h?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=u&&0!=h&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_mineralceil").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),m.html())}),$(".calculator_mineralceil").find(".js-btn-add2list").on("click",function(t){var e=parseInt(m.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorMozaika=function(){var t=this;if($(".calculator_mozaika").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_mozaika"),o=$(".js-mozaika-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("yardage").toString().replace(/,/,"."),c=o.data("available"),d=o.data("estore"),u=o.data("width")/1e3,h=o.data("length")/1e3,p=o.data("fat")/1e3,f=o.find('input[name="calculatorMozaikaSeamwidth"]'),m=o.find('input[name="calculatorMozaikaSeamweight"]'),g=o.find('input[name="calculatorMozaikaWidth"]'),v=o.find('input[name="calculatorMozaikaLength"]'),b=1.15,y=n.find(".js-sum"),w=n.find(".js-num-package"),_=n.find(".js-num-package-seam");btn=o.find('button[type="submit"]'),a.hide(),s.hide(),0==d&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){widthVal=g.val().replace(/,/,".")||0,lengthVal=v.val().replace(/,/,".")||0,tileSeamWidthVal=f.val().replace(/,/,".")/1e3||0,tileSeamWeightVal=m.val().replace(/,/,".")/1e3||0},t.validateForm=function(){t.calculateVal(),widthVal>0&&lengthVal<=0?textInput="задайте длину поверхности":widthVal<=0&&lengthVal>0?textInput="задайте ширину поверхности":widthVal<=0&&lengthVal<=0?textInput="задайте размеры поверхности":textInput="",textInput.length>0?(finalText="Пожалуйста, "+textInput,btn.prop("title",finalText).addClass("btn_disabled")):(finalText="",btn.prop("title",finalText).removeClass("btn_disabled"))},resetFormMozaika=function(){widthVal=0,lengthVal=0,tileSeamWidthVal=0,tileSeamWeightVal=0,g.val("").prop("disabled",!1),v.val("").prop("disabled",!1),f.val("").prop("disabled",!1),m.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),btn.hasClass("btn_disabled")||(a.show(),s.show(),$.fancybox.reposition(),widthVal>0&&lengthVal>0&&b>0?(e=Math.ceil(widthVal*lengthVal/l*b),i=e*r,w.html(e),y.html(t.formatSum(i))):(e=0,i=0,w.html("0"),y.html("0")),tileSeamWidthVal>0&&tileSeamWeightVal?(calculatePackageSeam=Math.ceil((u+h)/(u*h)*tileSeamWidthVal*p*b*1.6*(widthVal*lengthVal)/tileSeamWeightVal),_.html(calculatePackageSeam)):(calculatePackageSeam=0,_.html("0")),e>c&&0!=d?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=c&&0!=d&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_mozaika").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),w.html())}),$(".calculator_mozaika").find(".js-btn-add2list").on("click",function(t){var e=parseInt(w.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorFloor=function(){var t=this;if($(".calculator_floor").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n,o=$(".calculator_floor"),a=$(".js-floor-form"),s=o.find(".calculator__foot"),r=o.find(".calculator__attention"),l=a.data("price").toString().replace(/,/,"."),c=a.data("yardage").toString().replace(/,/,"."),d=a.data("available"),u=a.data("estore"),h=$('input[name="calculatorFloorWidth"]'),p=$('input[name="calculatorFloorLength"]'),f=$('input[name="calculatorFloorSquare"]'),m=$(".js-sum"),g=$(".js-num-package"),v=a.find('button[type="submit"]');s.hide(),r.hide(),0==u&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){widthVal=h.val().replace(/,/,".")||0,lengthVal=p.val().replace(/,/,".")||0,squareVal=f.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),e>0?textQoef="":textQoef="выберите тип укладки",widthVal>0&&lengthVal<=0?textInput="задайте длину комнаты":widthVal<=0&&lengthVal>0?textInput="задайте ширину комнаты":widthVal<=0&&lengthVal<=0&&squareVal<=0?textInput="задайте размеры помещения":textInput="",textQoef.length>0&&textInput.length>0?(finalText="Пожалуйста, "+textQoef+" и "+textInput,v.prop("title",finalText).addClass("btn_disabled")):textQoef.length>0&&textInput.length<=0?(finalText="Пожалуйста, "+textQoef,v.prop("title",finalText).addClass("btn_disabled")):textQoef.length<=0&&textInput.length>0?(finalText="Пожалуйста, "+textInput,v.prop("title",finalText).addClass("btn_disabled")):(finalText="",v.prop("title",finalText).removeClass("btn_disabled"))},resetFormFloor=function(){widthVal=0,lengthVal=0,squareVal=0,e=0,$(".calculator__toggle").removeClass("is-active"),h.val("").prop("disabled",!1),p.val("").prop("disabled",!1),f.val("").prop("disabled",!1),s.hide(),r.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),$(".calculator__toggle").on("click",function(){$(this).siblings().removeClass("is-active"),$(this).addClass("is-active"),e=$(this).data("qoef"),t.validateForm()}),a.find("input").on("input",function(){t.calculateVal(),widthVal>0||lengthVal>0?(f.prop("disabled",!0),f.val((widthVal*lengthVal).toFixed(2).replace(".",","))):squareVal>0?(h.prop("disabled",!0),p.prop("disabled",!0)):(f.prop("disabled",!1),h.prop("disabled",!1),p.prop("disabled",!1),f.val("")),t.validateForm()}),a.on("submit",function(){return t.calculateVal(),t.validateForm(),v.hasClass("btn_disabled")||(s.show(),r.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),widthVal>0&&lengthVal>0&&e>0?(i=Math.ceil(widthVal*lengthVal*e/c),n=i*l,g.html(i),m.html(t.formatSum(n)),console.log(i,n)):squareVal>0&&e>0?(i=Math.ceil(squareVal*e/c),n=i*l,g.html(i),m.html(t.formatSum(n)),console.log(i,n)):(i=0,n=0,g.html("0"),m.html("0")),i>d&&0!=u?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):i<=d&&0!=u&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_floor").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),g.html())}),$(".calculator_floor").find(".js-btn-add2list").on("click",function(t){var e=parseInt(g.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorOsb=function(){var t=this;if($(".calculator_osb").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_osb"),o=$(".js-osb-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("width").toString().replace(/,/,"."),c=o.data("length").toString().replace(/,/,"."),d=o.data("available"),u=o.data("estore"),h=o.find('input[name="calculatorOsbSquare"]'),p=n.find(".js-sum"),f=n.find(".js-num-package"),m=o.find('button[type="submit"]');a.hide(),s.hide(),0==u&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=h.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),squareVal<=0?(finalText="Пожалуйста, задайте площадь поверхности",m.prop("title",finalText).addClass("btn_disabled")):(finalText="",m.prop("title",finalText).removeClass("btn_disabled"))},resetFormOsb=function(){squareVal=0,h.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),m.hasClass("btn_disabled")||(a.show(),s.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0?(e=Math.ceil(squareVal/(l*c)*1e6),i=e*r,f.html(e),p.html(t.formatSum(i)),console.log(e,i)):(e=0,i=0,f.html("0"),p.html("0")),e>d&&0!=u?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=d&&0!=u&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_osb").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),f.html())}),$(".calculator_osb").find(".js-btn-add2list").on("click",function(t){var e=parseInt(f.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorPlasterboard=function(){var t=this;if($(".calculator_plasterboard").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_plasterboard"),o=$(".js-plasterboard-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("width").toString().replace(/,/,"."),c=o.data("length").toString().replace(/,/,"."),d=o.data("available"),u=o.data("estore"),h=o.find('input[name="calculatorPlasterboardSquare"]'),p=n.find(".js-sum"),f=n.find(".js-num-package"),m=o.find('button[type="submit"]');a.hide(),s.hide(),0==u&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=h.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),squareVal<=0?(finalText="Пожалуйста, задайте площадь поверхности",m.prop("title",finalText).addClass("btn_disabled")):(finalText="",m.prop("title",finalText).removeClass("btn_disabled"))},resetFormPlasterboard=function(){squareVal=0,h.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),m.hasClass("btn_disabled")||(a.show(),s.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0?(e=Math.ceil(squareVal/(l*c)*1e6),i=e*r,f.html(e),p.html(t.formatSum(i)),console.log(e,i)):(e=0,i=0,f.html("0"),p.html("0")),e>d&&0!=u?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=d&&0!=u&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_plasterboard").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),f.html())}),$(".calculator_plasterboard").find(".js-btn-add2list").on("click",function(t){var e=parseInt(f.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorPlasterfloor=function(){var t=this;if($(".calculator_plasterfloor").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_plasterfloor"),o=$(".js-plasterfloor-form"),a=o.data("price").toString().replace(/,/,"."),s=o.data("available"),r=o.data("estore"),l=n.find(".calculator__foot"),c=n.find(".calculator__attention"),d=o.data("quantity"),u=o.data("spend"),h=o.data("depth")||10,p=$('input[name="calculatorPlasterfloorSquare"]'),f=$('input[name="calculatorPlasterfloorDepth"]'),m=$('input[name="calculatorPlasterfloorSpend"]'),g=$(".js-sum"),v=$(".js-num-package"),b=o.find('button[type="submit"]');l.hide(),c.hide(),0==r&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=p.val().replace(/,/,".")||0,depthVal=f.val(),spendVal=m.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),depthVal<=0&&squareVal<=0?textInput="задайте площадь пола и толщину слоя":depthVal>0&&squareVal<=0?textInput="задайте площадь пола":depthVal<=0&&squareVal>0?textInput="задайте толщину слоя":spendVal<=0?textInput="введите корректные данные":textInput="",textInput.length>0?(finalText="Пожалуйста, "+textInput,b.prop("title",finalText).addClass("btn_disabled")):(finalText="",b.prop("title",finalText).removeClass("btn_disabled"))},resetFormPlasterfloor=function(){squareVal=0,depthVal=0,spendVal=0,f.val("").prop("disabled",!1),m.val("").prop("disabled",!1),p.val("").prop("disabled",!1),l.hide(),c.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),(u>0||depthVal>0||h>0)&&m.val((u*depthVal/h).toString().replace(".",",")),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),b.hasClass("btn_disabled")||(l.show(),c.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0&&depthVal>0?(e=Math.ceil(squareVal*spendVal/d),i=e*a,v.html(e),g.html(t.formatSum(i)),console.log(e,i)):(e=0,i=0,v.html("0"),g.html("0")),e>s&&0!=r?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=s&&0!=r&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_plasterfloor").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),v.html())}),$(".calculator_plasterfloor").find(".js-btn-add2list").on("click",function(t){var e=parseInt(v.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorPlasterwall=function(){var t=this;if($(".calculator_plasterwall").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_plasterwall"),o=$(".js-plasterwall-form"),a=o.data("price").toString().replace(/,/,"."),s=o.data("available"),r=o.data("estore"),l=n.find(".calculator__foot"),c=n.find(".calculator__attention"),d=o.data("quantity"),u=o.data("spend"),h=o.data("depth")||10,p=$('input[name="calculatorPlasterwallSquare"]'),f=$('input[name="calculatorPlasterwallDepth"]'),m=$('input[name="calculatorPlasterwallSpend"]'),g=$(".js-sum"),v=$(".js-num-package"),b=o.find('button[type="submit"]');l.hide(),c.hide(),0==r&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=p.val().replace(/,/,".")||0,depthVal=f.val(),spendVal=m.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),depthVal<=0&&squareVal<=0?textInput="задайте площадь поверхности и толщину слоя":depthVal>0&&squareVal<=0?textInput="задайте площадь поверхности":depthVal<=0&&squareVal>0?textInput="задайте толщину слоя":spendVal<=0?textInput="введите корректные данные":textInput="",textInput.length>0?(finalText="Пожалуйста, "+textInput,b.prop("title",finalText).addClass("btn_disabled")):(finalText="",b.prop("title",finalText).removeClass("btn_disabled"))},resetFormPlasterwall=function(){squareVal=0,depthVal=0,spendVal=0,f.val("").prop("disabled",!1),m.val("").prop("disabled",!1),p.val("").prop("disabled",!1),l.hide(),c.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),(u>0||depthVal>0||h>0)&&m.val((u*depthVal/h).toString().replace(".",",")),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),b.hasClass("btn_disabled")||(l.show(),c.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0&&depthVal>0?(e=Math.ceil(squareVal*spendVal/d),i=e*a,v.html(e),g.html(t.formatSum(i)),console.log(e,i)):(e=0,i=0,v.html("0"),g.html("0")),e>s&&0!=r?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=s&&0!=r&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_plasterwall").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),v.html())}),$(".calculator_plasterwall").find(".js-btn-add2list").on("click",function(t){var e=parseInt(v.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorPlywood=function(){var t=this;if($(".calculator_plywood").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_plywood"),o=$(".js-plywood-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("width").toString().replace(/,/,"."),c=o.data("length").toString().replace(/,/,"."),d=o.data("available"),u=o.data("estore"),h=o.find('input[name="calculatorPlywoodSquare"]'),p=n.find(".js-sum"),f=n.find(".js-num-package"),m=o.find('button[type="submit"]');a.hide(),s.hide(),0==u&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=h.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),squareVal<=0?(finalText="Пожалуйста, задайте площадь поверхности",m.prop("title",finalText).addClass("btn_disabled")):(finalText="",m.prop("title",finalText).removeClass("btn_disabled"))},resetFormPlywood=function(){squareVal=0,h.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),m.hasClass("btn_disabled")||(a.show(),s.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0?(e=Math.ceil(squareVal/(l*c)*1e6),i=e*r,f.html(e),p.html(t.formatSum(i)),console.log(e,i)):(e=0,i=0,f.html("0"),p.html("0")),e>d&&0!=u?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=d&&0!=u&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_plywood").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),f.html())}),$(".calculator_plywood").find(".js-btn-add2list").on("click",function(t){var e=parseInt(f.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorPvh=function(){var t=this;if($(".calculator_pvh").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_pvh"),o=$(".js-pvh-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("width").toString().replace(/,/,"."),c=o.data("length").toString().replace(/,/,"."),d=o.data("quantity"),u=o.data("available"),h=o.data("estore"),p=o.find('input[name="calculatorPvhSquare"]'),f=n.find(".js-sum"),m=n.find(".js-num-package"),g=o.find('button[type="submit"]');a.hide(),s.hide(),0==h&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=p.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),squareVal<=0?(finalText="Пожалуйста, задайте площадь поверхности",g.prop("title",finalText).addClass("btn_disabled")):(finalText="",g.prop("title",finalText).removeClass("btn_disabled"))},resetFormPvh=function(){squareVal=0,p.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),g.hasClass("btn_disabled")||(a.show(),s.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0?(e=Math.ceil(squareVal/(l*c*d)*1e6),i=e*r,m.html(e),f.html(t.formatSum(i))):(e=0,i=0,m.html("0"),f.html("0")),e>u&&0!=h?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=u&&0!=h&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_pvh").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),m.html())}),$(".calculator_pvh").find(".js-btn-add2list").on("click",function(t){var e=parseInt(m.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorRailceil=function(){var t=this;if($(".calculator_railceil").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_railceil"),o=$(".js-railceil-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("width").toString().replace(/,/,"."),c=o.data("length").toString().replace(/,/,"."),d=o.data("available"),u=o.data("estore"),h=o.find('input[name="calculatorRailceilSquare"]'),p=n.find(".js-sum"),f=n.find(".js-num-package"),m=o.find('button[type="submit"]');a.hide(),s.hide(),0==u&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=h.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),squareVal<=0?(finalText="Пожалуйста, задайте площадь потолка",m.prop("title",finalText).addClass("btn_disabled")):(finalText="",m.prop("title",finalText).removeClass("btn_disabled"))},resetFormRailceil=function(){squareVal=0,h.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),m.hasClass("btn_disabled")||(a.show(),s.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0?(e=Math.ceil(squareVal/(l*c)*1e6),i=e*r,f.html(e),p.html(t.formatSum(i)),console.log(e,i)):(e=0,i=0,f.html("0"),p.html("0")),e>d&&0!=u?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=d&&0!=u&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_railceil").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),f.html())}),$(".calculator_railceil").find(".js-btn-add2list").on("click",function(t){var e=parseInt(f.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorRollupwater=function(){var t=this;if($(".calculator_rollupwater").length>0){var e,i=$(".calculator_rollupwater"),n=$(".js-rollupwater-form"),o=i.find(".calculator__foot"),a=i.find(".calculator__attention"),s=$(".calculator__label_icon.is-active").find("input").attr("value")||0,r=$('select[name="calculatorRollupwaterSeason"]'),l=$(".js-num-package"),c=n.find('button[type="submit"]');o.hide(),a.hide(),t.calculateVal=function(){s=$(".calculator__label_icon.is-active").find("input").attr("value"),peopleVal=+s,seasonVal=r.val()},t.validateForm=function(){t.calculateVal(),peopleVal<=0&&seasonVal.length<=0?textInput="укажите количество человек и сезон использования":peopleVal>0&&seasonVal.length<=0?textInput="укажите сезон использования":peopleVal<=0&&seasonVal.length>0?textInput="укажите количество человек":textInput="",
textInput.length>0?(finalText="Пожалуйста, "+textInput,c.prop("title",finalText).addClass("btn_disabled")):(finalText="",c.prop("title",finalText).removeClass("btn_disabled"))},resetFormRollupwater=function(){peopleVal=0,seasonVal=0,s.val(""),r.val(""),o.hide(),a.hide(),t.validateForm()},t.validateForm(),n.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),r.on("change",function(){t.calculateVal(),t.validateForm()}),n.on("submit",function(){return t.calculateVal(),t.validateForm(),c.hasClass("btn_disabled")||(o.show(),a.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),"winter"==seasonVal?waterTemp=9:waterTemp=17,peopleVal>0&&seasonVal.length>0?(e=Math.ceil(125*peopleVal*(35-waterTemp)/(60-waterTemp)),l.html(e)):(e=0,l.html("0"))),!1}),$(".calculator_rollupwater").find(".js-btn-add2list").on("click",function(t){var e=parseInt(l.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorVagon=function(){var t=this;if($(".calculator_vagon").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_vagon"),o=$(".js-vagon-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("width").toString().replace(/,/,"."),c=o.data("length").toString().replace(/,/,"."),d=o.data("quantity"),u=o.data("available"),h=o.data("estore"),p=o.find('input[name="calculatorVagonSquare"]'),f=n.find(".js-sum"),m=n.find(".js-num-package"),g=o.find('button[type="submit"]');a.hide(),s.hide(),0==h&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){squareVal=p.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),squareVal<=0?(finalText="Пожалуйста, задайте площадь поверхности",g.prop("title",finalText).addClass("btn_disabled")):(finalText="",g.prop("title",finalText).removeClass("btn_disabled"))},resetFormVagon=function(){squareVal=0,p.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.formatSum=function(t){return formatInt=t.toFixed(2).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ").replace(".",","),FormatIntCop=formatInt.substring(0,formatInt.length-2)+'<span class="kop">'+formatInt.slice(-2)+"</span>",FormatIntCop},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(){return t.calculateVal(),t.validateForm(),g.hasClass("btn_disabled")||(a.show(),s.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),squareVal>0?(e=Math.ceil(squareVal/(l*c*d)*1e6),i=e*r,m.html(e),f.html(t.formatSum(i))):(e=0,i=0,m.html("0"),f.html("0")),e>u&&0!=h?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=u&&0!=h&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled")),!1}),$(".calculator_vagon").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),m.html())}),$(".calculator_vagon").find(".js-btn-add2list").on("click",function(t){var e=parseInt(m.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},calculatorWallpaper=function(){var t=this;if($(".calculator_wallpaper").length>0){$(".js-decimal-float").numberMask({decimalMark:[".",","],type:"float",defaultValueInput:"",afterPoint:4});var e,i,n=$(".calculator_wallpaper"),o=$(".js-wallpaper-form"),a=n.find(".calculator__foot"),s=n.find(".calculator__attention"),r=o.data("price").toString().replace(/,/,"."),l=o.data("compare-picture").toString().replace(/,/,"."),c=o.data("available"),d=o.data("estore"),u=0,h=0,p="",f="",m=$('input[name="calculatorWallpaperLengthRoom"]'),g=$('input[name="calculatorWallpaperWidthRoom"]'),v=$('input[name="calculatorWallpaperHeight"]'),b=$('input[name="calculatorWallpaperLength"]'),y=$('input[name="calculatorWallpaperрWidth"]'),w=$(".js-sum"),_=$(".js-num-package"),x=$(".qt"),k=o.find('button[type="submit"]');a.hide(),s.hide(),0==d&&$(".js-btn-buy").prop("title","Этот товар можно купить только в розничных магазинах").addClass("btn_disabled"),t.calculateVal=function(){lengthRoomVal=m.val().replace(/,/,".")||0,widthRoomVal=g.val().replace(/,/,".")||0,heightVal=v.val().replace(/,/,".")||0,lengthVal=b.val().replace(/,/,".")||0,widthVal=y.val().replace(/,/,".")||0},t.validateForm=function(){t.calculateVal(),p=lengthRoomVal.length||widthRoomVal.length||heightVal.length?lengthRoomVal.length||widthRoomVal.length?lengthRoomVal.length||heightVal.length?widthRoomVal.length||heightVal.length?widthRoomVal.length?lengthRoomVal.length?heightVal.length?"":"укажите высоту стены":"укажите длину комнаты":"укажите ширину комнаты":"укажите ширину комнаты и высоту стены":"укажите длину комнаты и высоту стены":"укажите длину и ширину комнаты":"укажите длину и ширину комнаты, а также высоту стены",p.length>0?(f="Пожалуйста, "+p,k.prop("title",f).addClass("btn_disabled")):(f="",k.prop("title",f).removeClass("btn_disabled"))},resetFormWallpaper=function(){lengthRoomVal=0,widthRoomVal=0,heightVal=0,lengthRoomVal.val("").prop("disabled",!1),widthRoomVal.val("").prop("disabled",!1),heightVal.val("").prop("disabled",!1),a.hide(),s.hide(),t.validateForm()},t.validateForm(),o.find("input").on("input",function(){t.calculateVal(),t.validateForm()}),o.on("submit",function(n){var o=function(t,e){return cases=[2,0,1,1,1,2],e[t%100>4&&t%100<20?2:cases[t%10<5?t%10:5]]};return n.preventDefault(),t.calculateVal(),t.validateForm(),k.hasClass("btn_disabled")||(a.show(),s.show(),$(".fancybox-overlay").scrollTop(172),$.fancybox.reposition(),lengthRoomVal=parseFloat(m.val().replace(/,/,".")),widthRoomVal=parseFloat(g.val().replace(/,/,".")),heightVal=parseFloat(v.val().replace(/,/,".")),lengthVal=parseFloat(b.val().replace(/,/,".")),widthVal=parseFloat(y.val().replace(/,/,".")),priceVal=parseFloat(r),comparePictureVal=parseFloat(l),lengthRoomVal>0&&widthRoomVal>0&heightVal>0?(u=Math.ceil(2*(lengthRoomVal+widthRoomVal)),h=Math.floor(heightVal+comparePictureVal/100),e=Math.ceil(u/widthVal/(lengthVal/h)),i=Math.ceil(e*priceVal),_.html(e),w.html(i)):(e=0,_.html("0"),i=0,w.html("0")),e>c&&0!=d?$(".js-btn-buy").prop("title","Требуемое количество товара превышает наши запасы").addClass("btn_disabled"):e<=c&&0!=d&&$(".js-btn-buy").prop("title","").removeClass("btn_disabled"),x.html(o(e,["рулон","рулона","рулонов"]))),!1}),$(".calculator_wallpaper").find(".js-btn-buy").on("click",function(t){$(this).hasClass("btn_disabled")||add2basketInput(t,$(this).data("art"),_.html())}),$(".calculator_wallpaper").find(".js-btn-add2list").on("click",function(t){var e=parseInt(_.html());e||(e=1),add2listInput(t,$(this).data("art"),e)})}},qtyCalculatorsFunctions={bathroomtile:calculatorBathroomtile,finish:calculatorFinish,flowwater:calculatorFlowwater,glue:calculatorGlue,isolation:calculatorIsolation,keramogranit:calculatorKeramogranit,kitchentile:calculatorKitchentile,klinker:calculatorKlinker,mdf:calculatorMdf,mineralceil:calculatorMineralceil,mozaika:calculatorMozaika,nap_pokr:calculatorFloor,osb:calculatorOsb,plasterboard:calculatorPlasterboard,plasterfloor:calculatorPlasterfloor,plasterwall:calculatorPlasterwall,plywood:calculatorPlywood,pvh:calculatorPvh,railceil:calculatorRailceil,rollupwater:calculatorRollupwater,vagon:calculatorVagon,wallpaper:calculatorWallpaper};if($(".radiator-calc-table").length>0){$(document).on("click",'.radiator-calc-table [type="radio"][data-part]',function(){var t=$(this).data("part");setDesc(t)}).on("focus",'.radiator-calc-table [type="text"][data-part]',function(){var t=$(this).data("part");setDesc(t)}).on("blur",'.radiator-calc-table [type="text"][data-part]',function(){$(".radiator-calc-table").find("[data-part-desc]").removeClass("is-active")}).on("mouseover",".radiator-calc-table__title",function(){var t=$(this).data("part");setDesc(t)}).on("mouseout",".radiator-calc-table__title",function(){$(this).data("part");$(".radiator-calc-table").find("[data-part-desc]").removeClass("is-active")});var radiatorFieldsQt=$(".radiator-calc-table tbody tr").size();$(document).on("change",'.radiator-calc-table [type="radio"][data-part]',function(){radiatorCalcValidateComplete($(this)),radiatorCalcAddFiltersToCookie()}).on("keyup",'.radiator-calc-table [type="text"][data-part]',function(){radiatorCalcValidateComplete($(this)),radiatorCalcAddFiltersToCookie()}),$(".radiator-calc-table input").each(function(t,e){radiatorCalcValidateComplete($(this))})}if($(document).on("change",".base-product-types .custom-check_type_radio input",function(t){var e=$(t.target),i=e.parent("label"),n=e.attr("data-path"),o=e.parents(".fast-view").length,a=e.attr("data-art");i.hasClass("is-disabled")||(i.addClass("is-active").siblings(".custom-check_type_radio").removeClass("is-active"),o?changeDoorsetFastView(a):n&&window.location.replace(n))}),$(document).on("change",".products-set .custom-check_type_checkbox input",function(t){var e=$(t.target),i=e.parent("label"),n=parseFloat($(e).attr("data-price")),o=0,a=e.parents(".fast-view").length;i.hasClass("is-disabled")||(i.hasClass("is-active")?(i.removeClass("is-active"),o-=n*parseInt($(e).attr("data-amount")),$(e).attr("data-amount",0),addToProductsSetPrice(o,a)):(i.parents(".custom-check-group").hasClass("custom-check-group__logic-or")?i.addClass("is-active"):i.addClass("is-active").siblings(".custom-check_type_checkbox").removeClass("is-active"),i.hasClass("door-jamb-one-side")?($(e).attr("data-amount",3),o+=3*n):i.hasClass("door-jamb-two-side")&&!i.hasClass("door-jamb-set")?($(e).attr("data-amount",5),o+=5*n):($(e).attr("data-amount",1),o+=n),i.siblings(".custom-check_type_checkbox:not(.is-active)").find("input").each(function(t,e){$(e).attr("data-amount")>0&&(o-=parseFloat($(e).attr("data-price"))*parseInt($(e).attr("data-amount")),$(e).attr("data-amount",0))}),addToProductsSetPrice(o,a)))}),($(".city-map").length>0||$(".advance-map").length>0)&&(InfoBox.prototype=new google.maps.OverlayView,InfoBox.prototype.createInfoBoxDiv_=function(){var t,e,i,n=this,o=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},a=function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),n.enableEventPropagation_||o(t)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(i=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-i.left-i.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],e=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],t=0;t<e.length;t++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,e[t],o));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(t){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",a),google.maps.event.trigger(this,"domready")}},InfoBox.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},InfoBox.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},InfoBox.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(t,"closeclick"),t.close()}},InfoBox.prototype.panBox_=function(t){var e,i,n=0,o=0;if(!t&&(e=this.getMap(),e instanceof google.maps.Map)){e.getBounds().contains(this.position_)||e.setCenter(this.position_),i=e.getBounds();var a=e.getDiv(),s=a.offsetWidth,r=a.offsetHeight,l=this.pixelOffset_.width,c=this.pixelOffset_.height,d=this.div_.offsetWidth,u=this.div_.offsetHeight,h=this.infoBoxClearance_.width,p=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);f.x<-l+h?n=f.x+l-h:f.x+d+l+h>s&&(n=f.x+d+l+h-s),this.alignBottom_?f.y<-c+p+u?o=f.y+c-p-u:f.y+c+p>r&&(o=f.y+c+p-r):f.y<-c+p?o=f.y+c-p:f.y+u+c+p>r&&(o=f.y+u+c+p-r),(0!==n||0!==o)&&(e.getCenter(),e.panBy(n,o))}},InfoBox.prototype.setBoxStyle_=function(){var t,e;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_;for(t in e)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},InfoBox.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},i=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=i.ownerDocument.defaultView.getComputedStyle(i,""),t&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0)):document.documentElement.currentStyle&&i.currentStyle&&(e.top=parseInt(i.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(i.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(i.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(i.currentStyle.borderRightWidth,10)||0),e},InfoBox.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},InfoBox.prototype.setOptions=function(t){"undefined"!=typeof t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),"undefined"!=typeof t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),"undefined"!=typeof t.content&&this.setContent(t.content),"undefined"!=typeof t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),"undefined"!=typeof t.maxWidth&&(this.maxWidth_=t.maxWidth),"undefined"!=typeof t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),"undefined"!=typeof t.alignBottom&&(this.alignBottom_=t.alignBottom),"undefined"!=typeof t.position&&this.setPosition(t.position),"undefined"!=typeof t.zIndex&&this.setZIndex(t.zIndex),"undefined"!=typeof t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),"undefined"!=typeof t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),"undefined"!=typeof t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),"undefined"!=typeof t.isHidden&&(this.isHidden_=t.isHidden),"undefined"!=typeof t.visible&&(this.isHidden_=!t.visible),"undefined"!=typeof t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},InfoBox.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},InfoBox.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},InfoBox.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},InfoBox.prototype.setVisible=function(t){this.isHidden_=!t,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},InfoBox.prototype.getContent=function(){return this.content_},InfoBox.prototype.getPosition=function(){return this.position_},InfoBox.prototype.getZIndex=function(){return this.zIndex_},InfoBox.prototype.getVisible=function(){var t;return t="undefined"!=typeof this.getMap()&&null!==this.getMap()&&!this.isHidden_},InfoBox.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},InfoBox.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},InfoBox.prototype.open=function(t,e){var i=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){i.setPosition(this.getPosition())})),this.setMap(t),this.div_&&this.panBox_()},InfoBox.prototype.close=function(){var t;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(t=0;t<this.eventListeners_.length;t++)google.maps.event.removeListener(this.eventListeners_[t]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)}),$(".city-map").length>0)var Map=function(t){var e,i,n=[],o={mapContainer:t(".city-map"),mapOptions:{center:new google.maps.LatLng(data.defaultCenter.latitude,data.defaultCenter.longitude),zoom:data.defaultZoom,panControl:!1,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!0,styles:[{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#e9ebda"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#f7faf4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{color:"#5f6e5d"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#82b9c5"}]}]},markerIcons:{open:"/upload/store_map/marker-open.png",soon:"/upload/store_map/marker-soon.png","under-construction":"/upload/store_map/marker-under-construction.png",shop:"/upload/store_map/marker-shop.png"}},a=function(t,i){"undefined"==typeof e&&(e=new google.maps.Map(t[0],i))},s=function(i){var n=t('<div class="zoom-controls"/>').appendTo(i),o=t('<a class="zoom-in" href="javascript:void(0)" />').appendTo(n)[0],a=t('<a class="zoom-out" href="javascript:void(0)" />').appendTo(n)[0];google.maps.event.addDomListener(o,"click",function(){e.setZoom(e.getZoom()+1)}),google.maps.event.addDomListener(a,"click",function(){e.setZoom(e.getZoom()-1)}),e.controls[google.maps.ControlPosition.LEFT_CENTER].push(n[0])},r=function(){for(var t,e=0,i=data.markers.length;e<i;e++)t=l(data.markers[e]),n.push(t)},l=function(t){return new google.maps.Marker({position:new google.maps.LatLng(t.latitude,t.longitude),map:e,visible:!0,icon:o.markerIcons[t.status],defaultIcon:o.markerIcons[t.status],zIndex:5,info:t})},c=function(){i=new InfoBox({content:"",disableAutoPan:!1,maxWidth:206,boxClass:"infobox",pixelOffset:new google.maps.Size((-105),(-50)),alignBottom:!0,zIndex:6,boxStyle:{background:"",opacity:1,width:"206px"},closeBoxMargin:0,closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1)}),google.maps.event.addListener(e,"click",function(){i.getVisible&&i.setVisible(!1)}),google.maps.event.addListener(i,"domready",function(){t("a.directions").on("click",function(n){n.preventDefault();var o=t(this).data("zoom"),a=t(this).data("location").split(",");a=new google.maps.LatLng(parseFloat(a[0]),parseFloat(a[1])),i.setVisible(!1),t(".go-to-shop").show().attr("href",t(this).data("url")),e.panTo(a),u(e,o,e.getZoom())})})},d=function(){for(var t,o=n.length;o--;)t=n[o],google.maps.event.addListener(t,"click",function(){this.info.amount>1?(e.panTo(this.getPosition()),u(e,this.info.zoomTo,e.getZoom())):this.info.hasOwnProperty("infobox")&&("under-construction"==this.info.status?infoboxContent='<div class="title">'+this.info.infobox.title+'</div><div class="info under-construction">Магазин еще строится.<br>Следите за информацией<br>на сайте!</div>':infoboxContent='<div class="title">'+this.info.infobox.title+'</div><div class="info open"><address>'+this.info.infobox.address+'</address><div class="contacts">'+this.info.infobox.contacts+'</div><div class="workingTime">'+this.info.infobox.workingTime+'</div></div><nav><a href="'+this.info.url+'">На страницу магазина</a><a class="directions" data-zoom="'+this.info.zoom+'" data-location="'+this.info.latitude+","+this.info.longitude+'" data-url="'+this.info.url+'"href="#">Проложить маршрут</a></nav>',i.setVisible(!0),i.setContent(infoboxContent),i.open(e,this))})},u=function(t,e,i){i>=e?t.setZoom(e):(z=google.maps.event.addListener(t,"zoom_changed",function(n){google.maps.event.removeListener(z),u(t,e,i+1)}),setTimeout(function(){t.setZoom(i)},data.zoomSpeed))};return{init:function(){return a(o.mapContainer,o.mapOptions),s(o.mapContainer),r(),c(),d(),!0}()}}(jQuery);var aboutAdvanceMap={defaultZoom:5,toggleMarkersOnZoom:8,toggleDirectionsPanel:10,hideDirectionsPanel:!1,zoomSpeed:80,filter:"all",userLocation:"",defaultCenter:{latitude:54.5255069,longitude:47.5836207}},hostnameAdvanceMy=location.hostname,advanceMap={markerIcons:{open:"http://leroymerlin.ru/static_html/build/img/shop-marker-open.png",soon:"http://leroymerlin.ru/static_html/build/img/shop-marker-soon.png","under-construction":"http://leroymerlin.ru/static_html/build/img/shop-marker-build.png",shop:"http://leroymerlin.ru/static_html/build/img/shop-marker-open.png","new":"http://leroymerlin.ru/static_html/build/img/shop-marker-new.png"},createMap:function(t){var e=this,i={mapContainer:$(".advance-map")[0],mapOptions:{center:new google.maps.LatLng(t.defaultCenter.latitude,t.defaultCenter.longitude),zoom:t.defaultZoom,panControl:!1,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,scrollwheel:!0}};"undefined"==typeof e.map&&(e.map=new google.maps.Map(i.mapContainer,i.mapOptions))},addMarkers:function(t,e){function i(t){return new google.maps.Marker({position:new google.maps.LatLng(t.latitude,t.longitude),map:o.map,visible:!0,icon:o.markerIcons[t.status],defaultIcon:o.markerIcons[t.status],zIndex:5,info:t})}function n(){var t,n=0,a=e.length;for(a;n<a;n++)t=i(e[n]),o.markers.push(t)}var o=this;return o.markers=[],function(){n()}()},removeMarkers:function(){var t=this;for(i in t.markers)t.markers[i].setMap(null);$(".shops-amount").remove(),t.infobox.setVisible(!1)},setAmountOfShops:function(){for(var t=this,e=t.markers.length;e--;){var i=t.markers[e];t.map.getZoom();i.info.hasOwnProperty("amountOpen")&&i.info.amountOpen>1&&(i.amountOfShops=new InfoBox({content:i.info.amountOpen,disableAutoPan:!0,maxWidth:17,boxClass:"shops-amount",pixelOffset:new google.maps.Size(6,(-46)),alignBottom:!0,zIndex:null,boxStyle:{background:"",opacity:1,width:"17px"},closeBoxMargin:0,closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1}),i.amountOfShops.open(t.map,i))}},smoothZoom:function(t,e,i){var n=this;i>=e?t.setZoom(e):(z=google.maps.event.addListener(t,"zoom_changed",function(o){google.maps.event.removeListener(z),n.smoothZoom(t,e,i+1)}),setTimeout(function(){t.setZoom(i)},aboutAdvanceMap.zoomSpeed))},createShopInfobox:function(){var t=this;t.infobox=new InfoBox({content:"",disableAutoPan:!1,maxWidth:450,boxClass:"infobox",pixelOffset:new google.maps.Size((-105),(-50)),alignBottom:!0,zIndex:6,boxStyle:{background:"",opacity:1,width:"450px"},closeBoxMargin:0,closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1)}),google.maps.event.addListener(t.map,"click",function(){t.infobox.getVisible&&t.infobox.setVisible(!1)}),google.maps.event.addListener(t.infobox,"domready",function(){$("a.directions").on("click",function(e){e.preventDefault();var i=!aboutAdvanceMap.hideDirectionsPanel;$(".route-btns__go-to-shop").attr("href",$(this).data("shop-link")),$(".route-panel").toggle(i),$(".route-btns").toggle(i),$(".route-btns__direction-panel-toggler").toggleClass("visible",i),$(".shop-side").hide(),aboutAdvanceMap.hideDirectionsPanel=i;var n=$(this).data("zoom"),o=$(this).data("location").split(",");o=new google.maps.LatLng(parseFloat(o[0]),parseFloat(o[1])),t.infobox.setVisible(!1),t.map.panTo(o),t.smoothZoom(t.map,n,t.map.getZoom())}),$(".js-marker-close").on("click",function(e){t.infobox.getVisible&&t.infobox.setVisible(!1)}),$(".shop-list__like").on("click",function(t){var e=$(this);e.attr("data-shop-id");return $(".shop-list__like_active").removeClass("shop-list__like_active").html("Сделать любимым"),e.toggleClass("shop-list__like_active"),e.hasClass("shop-list__like_active")?void e.html("Любимый"):void e.html("Сделать любимым")})})},markersActions:function(){for(var t=this,e=t.markers.length;e--;){var i=t.markers[e];google.maps.event.addListener(i,"click",function(){if(this.info.amount>1)t.map.panTo(this.getPosition()),t.smoothZoom(t.map,this.info.zoomTo,t.map.getZoom());else if(this.info.hasOwnProperty("infobox")){if("under-construction"==this.info.status||"soon"==this.info.status)infoboxContent='<div class="shop-list__item p"><div class="clearfix"><h2 class="shop-list__hl">'+this.info.infobox.title+'</h2></div><span class="shop-list__close is-open js-marker-close">Закрыть</span>'+("undefined"!=typeof this.info.infobox.address&&""!=this.info.infobox.address?'<ul class="shop-info"><li class="shop-info__address">'+this.info.infobox.address+"</li></ul>":'<div style="margin: 15px;"></div>')+'<span class="shop-list-new__foot-info-'+this.info.status+'">'+("under-construction"==this.info.status?"Магазин на стадии строительства":"Скоро открытие")+"</span></div>";else{if(infoboxContent='<div class="shop-list__item shop-list__item_marker p" data-status="'+this.info.status+'">',"under-construction"!=this.info.status&&"soon"!=this.info.status){var e=this.info.infobox.favorite===!0?'shop-list__like_active" data-shop-id="'+this.info.id+'" data-shop-code="'+this.info.infobox.code+'">Любимый</span>':'" data-shop-id="'+this.info.id+'" data-shop-code="'+this.info.infobox.code+'" data-shop-title="'+this.info.infobox.title+'" onclick="$(\'.shop-list-item[data-xml-id='+this.info.id+"] .shop-list-item__icon').click()\">Сделать любимым</span>";infoboxContent+='<span class="shop-list__like_marker shop-list__like '+("open"==this.info.status?"shop-list__like_left ":"")+e}infoboxContent+='<div class="clearfix"><h2 class="shop-list__hl shop-list__hl_marker">'+this.info.infobox.title+'</h2></div><span class="shop-list__close is-open js-marker-close">Закрыть</span><a target="_blank" class="shop-list__more shop-list__more_marker btn" href="'+this.info.url+'">Подробнее</a><a target="_blank" class="btn shop-list__route '+("open"==this.info.status?"shop-list__route_yellow":"")+'" href="'+this.info.url+'">Проложить маршрут</a><ul class="shop-info"><li class="shop-info__address">'+this.info.infobox.address+'</li><li class="shop-info__time">'+this.info.infobox.workingTime+'</li><li class="shop-info__phone">'+this.info.infobox.contacts+'</li><li class="shop-info__other">'+this.info.infobox.other+"</li></ul>"+("new"==this.info.status?'<span class="shop-list__label-new"><span class="icon-shop-info-open"></span>Новый</span>':"")+"</div>"}t.infobox.setVisible(!0),t.infobox.setContent(infoboxContent),t.infobox.open(t.map,this)}})}},toggleMarkers:function(){var t=this;google.maps.event.addListener(t.map,"zoom_changed",function(e){for(var i=t.markers.length;i--;){var n=t.markers[i],o=t.map.getZoom(),a=/shop/i.test(n.info.type),s=n.info.hasOwnProperty("alwaysVisible")&&n.info.alwaysVisible,r=o>=aboutAdvanceMap.toggleMarkersOnZoom&&a||o<aboutAdvanceMap.toggleMarkersOnZoom&&!a;n.setVisible(s?s:r);var l="all"!=aboutAdvanceMap.filter&&n.getVisible()&&a;if(l&&n.setVisible(n.info.status==aboutAdvanceMap.filter),n.getVisible()&&!a&&n.info.hasOwnProperty("amountOpen")&&n.info.amountOpen>1)if(n.info.hasOwnProperty("containsShops")){var c=n.info.containsShops[aboutAdvanceMap.filter]||0;c="all"==aboutAdvanceMap.filter?n.info.amountOpen:c,n.amountOfShops.setContent(c),n.setVisible(c>0),n.amountOfShops.setVisible(c>0)}else n.setVisible("all"==aboutAdvanceMap.filter),n.amountOfShops.setVisible("all"==aboutAdvanceMap.filter);var d=n.getVisible()&&o>15;n.icon=d?t.markerIcons.shop:n.defaultIcon,a||(n.icon="all"==aboutAdvanceMap.filter?t.markerIcons.open:t.markerIcons[aboutAdvanceMap.filter])}$(".shops-amount").toggle(o<aboutAdvanceMap.toggleMarkersOnZoom)}),t.map.setZoom(t.map.getZoom())},getCurrentUserLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){var e=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),i=new google.maps.Geocoder;i.geocode({latLng:e},function(t,i){i==google.maps.GeocoderStatus.OK?(e=t[0].formatted_address,$("#js-route-start").val(e),aboutAdvanceMap.userLocation=e):(console.log("Geocoder failed due to: "+i),$("#js-route-start").val(e),aboutAdvanceMap.userLocation=e)})},function(){console.log("Error: The Geolocation service failed.")}):console.log("Error: Your browser doesn't support geolocation.")},getTargetShopLocation:function(){var t,e=this;google.maps.event.addListener(e.map,"bounds_changed",function(){for(var i,n=[],o=e.markers.length;o--;)i=e.markers[o],e.map.getBounds().contains(i.getPosition())&&n.push(i);if(1==n.length){if(isShop=/shop/i.test(n[0].info.type),!isShop)return;t!=n[0].info.infobox.address.replace("<br>"," ")&&(t=n[0].info.infobox.address.replace("<br>"," "),$("#js-route-end").length>0&&($("#js-route-end").val(t),$("#js-route-start").val().length&&$(".route-panel form").submit()))}})},directionPanelGetRoute:function(){var t=$("#js-route-start").val(),e=$("#js-route-end").val(),i={origin:t,destination:e,durationInTraffic:!0,transitOptions:{departureTime:new Date},provideRouteAlternatives:!0,travelMode:$(".travel-mode input:checked").val()};return directionsService.route(i,function(t,e){e==google.maps.DirectionsStatus.OK?(directionsDisplay.setDirections(t),$(".route-panel__road").show()):alert("something went wrong!")}),!1},directionPanelCreate:function(){var t=this;directionsService=new google.maps.DirectionsService,directionsDisplay=new google.maps.DirectionsRenderer({polylineOptions:{strokeColor:"#48abfa"},suppressMarkers:!0}),directionsDisplay.setMap(t.map),directionsDisplay.setPanel($(".route-panel__road")[0]);var e=new google.maps.places.Autocomplete($("#js-route-start")[0]),i=new google.maps.places.Autocomplete($("#js-route-end")[0]);e.addListener("place_changed",function(){$("#js-route-end").length>0&&$("#js-route-end").val().length&&$(".route-panel form").submit()}),i.addListener("place_changed",function(){$("#js-route-start").val().length&&$(".route-panel form").submit()}),$(".route-panel form").on("submit",t.directionPanelGetRoute),$(".js-directions-revert").on("click",function(t){t.preventDefault();var e=$("#js-route-start").val(),i=$("#js-route-end").val();
$("#js-route-start").val(i),$("#js-route-end").val(e),$("#js-route-start").val().length&&$(".route-panel form").submit()}),directionPanelTogglers=$(".travel-mode__close, .route-btns__direction-panel-toggler"),directionPanelTogglers.on("click",function(t){t.preventDefault(),$(".shop-side").show();var e=!aboutAdvanceMap.hideDirectionsPanel;$(".route-panel").toggle(e),$(".route-btns").toggle(e),aboutAdvanceMap.hideDirectionsPanel=e,directionPanelTogglers.toggleClass("visible",e)}),$(".travel-mode input:radio").on("change",function(){var t=$(".route-panel input#js-route-start");t.val().length&&$(".route-panel form").submit()})},setCenter:function(){for(var t=new google.maps.LatLngBounds,e=0,i=0;i<window.advanceMarkers.length;i++)"shop"==window.advanceMarkers[i].type&&(e++,t.extend(new google.maps.LatLng(window.advanceMarkers[i].latitude,window.advanceMarkers[i].longitude)));advanceMap.map.setCenter(t.getCenter(),advanceMap.map.fitBounds(t)),1==e?advanceMap.map.setZoom(advanceMap.map.getZoom()-4):advanceMap.map.setZoom(advanceMap.map.getZoom()-1)},init:function(){return this.createMap(aboutAdvanceMap),this.addMarkers(aboutAdvanceMap,advanceMarkers),this.setAmountOfShops(),this.createShopInfobox(),this.markersActions(),this.toggleMarkers(),this.getTargetShopLocation(),this.directionPanelCreate(),this.setCenter(),!0},refresh:function(){return this.removeMarkers(),this.createMap(aboutAdvanceMap),this.addMarkers(aboutAdvanceMap,advanceMarkers),this.setAmountOfShops(),this.createShopInfobox(),this.markersActions(),this.toggleMarkers(),!0}};$(window).on("load",function(){$(".advance-map").length>0&&(addAdvanceShopInfo(),advanceMap.init(),addAdvanceCustomZoomControl(advanceMap.map))}),$(window).load(function(){Boolean($(".myshop__hint").data("show-hint"))&&setTimeout(function(){$(".myshop__hint").addClass("is-open")},500),$(".js-close-mushop-hint").on("click",function(){$(".myshop__hint").removeClass("is-open")})}),$(window).load(function(){Boolean($(".js-location-hint").data("show-hint"))&&setTimeout(function(){$(".js-location-hint").addClass("is-open")},500),$(".js-location-hint .btn").on("click",function(){$(".js-location-hint").removeClass("is-open")}),$(document).on("click",function(t){$(t.target).closest(".js-location-hint").length<=0&&!$(t.target).is(".fancybox-close")&&$(t.target).closest(".fancybox-overlay").length<=0&&$(".js-location-hint").removeClass("is-open")})}),$(window).load(function(){Boolean($(".js-subscribe-new").data("show-hint"))&&setTimeout(function(){$(".js-subscribe-new").slideDown()},500),$(".subscribe-new__close").on("click",function(){$(".js-subscribe-new").slideUp()})}),$(window).on("load",function(){$(".kids_gallery_link").on("click",function(){$(window).scrollTo($(".dk_members__href"),600)}),$(".result-link").on("click",function(t){$(".dk_winners_new").length?$(window).scrollTo($(".dk_winners_new"),600,{offset:-100}):(t.preventDefault(),t.stopPropagation())}),$("body").on("click",".dk_members_content_list_item_link, .dk_winners_new__item",function(t){t.preventDefault(),resetModalDrowKitchen();var e=($(this),$(this).attr("data-img")),i=$(this).attr("data-href"),n=$(this).attr("data-title");e&&($(".dk_modal img").attr("src",e),$(".dk_modal .dk_modal__social-link").attr("href",i),$(".dk_modal .dk_modal_content__name").html(n),$(".dk_trigger").trigger("click"))}),$(".dk_winners_new_bxslider").bxSlider({mode:"fade",captions:!0,pagerCustom:".dk_winners_new_weeks_bx"})}),$(window).on("load",function(){$("body").on("click",".pvl_tile_popup__close",function(t){t.preventDefault(),$(".pvl_tile_popup").addClass("hidden-all")}),$("body").on("click",".pvl_tile_inner__item",function(t){t.preventDefault();var e=$(this).attr("id"),i=$('.pvl_tile_popup_content[data-for="'+e+'"]');if(i.length>0){var n=i.html();$(".pvl_tile_popup").html(n)}$(".pvl_tile_popup").removeClass("hidden-all")}),$("body").on("click",".pvl_photos_list li a",function(t){t.preventDefault();var e=($(this),$(this).attr("data-img"));e&&($("#pvl_modal img").attr("src",e),$(".pvl_trigger").trigger("click"),$(".fancybox-overlay").addClass("pvl"))})}),smallTopBanner();var resizeTimer;$(window).resize(function(t){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){},250)}),$(window).load(function(){function t(){return e=$(".js-sticky-header-main").length>0?$(".js-sticky-header-main").outerHeight():$(".header-main").outerHeight()}$("body").removeClass("page-loading"),global.isTouch()?$("body").removeClass("no-touch"):$("body").addClass("no-touch"),($.browser.msie&&$.browser.version<10||$.browser.mozilla&&$.browser.version<39||$.browser.webkit&&$.browser.version<39||$.browser.mac&&$.browser.version<8||$.browser.opera&&$.browser.version<28)&&!$.cookie("_SHOWN_OLD_BROWSER_MSG")?($("body").addClass("old-browser"),$.cookie("_SHOWN_OLD_BROWSER_MSG",!0,{expires:31,path:"/",domain:window.lmSettings.cookieDomain})):$("body").removeClass("old-browser"),advantageHover(),onOutsideClickHide($(".lang"),$(".lang__list")),$("#subscribeCitySelect").select2({dropdownCssClass:"dropdown-subscribe-city"}),$(document).on("click","a.btn.is-disabled",function(t){t.preventDefault()});var e;$(document).on("click","[data-scrollto]",function(i){i.preventDefault(),e=t(),$("html,body").animate({scrollTop:$($(this).data("scrollto")).offset().top-e},700)}),$(window).scroll(function(){e=t()})});